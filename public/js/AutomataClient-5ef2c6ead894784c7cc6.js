webpackJsonp([1],{1253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(1456),n(1561)),o=(n.n(r),n(1457)),i=n(1458),a=n(1685),s=n(1463),l=n(1467),c=n(1466),u=n(1465),p=n(1464),h=n(1776),d=n(1480),m=n(0),f=(n.n(m),n(249)),y=(n.n(f),n(256)),v=(n.n(y),{ReactSetup:a.a,ReactHeader:o.a,ReactNotificationsCenter:i.a,ReactLogIn:s.a,ReactSignUp:l.a,ReactProfile:c.a,ReactPasswordNew:u.a,ReactPasswordEdit:p.a,ReactDashboard:h.a,ReactExpertDashboard:d.a}),g=!0;if(window){g=!1;var _=window.document.querySelectorAll("[data-react-class]"),b=!0,w=!1,E=void 0;try{for(var C,x=_[Symbol.iterator]();!(b=(C=x.next()).done);b=!0){if("ReactViewer"===C.value.getAttribute("data-react-class")){g=!0;break}}}catch(t){w=!0,E=t}finally{try{!b&&x.return&&x.return()}finally{if(w)throw E}}}g&&(v.ReactViewer=n(1497).default);var N=function(){n.i(y.mountComponents)(v,{})};document&&document.addEventListener("DOMContentLoaded",N)},1414:function(t,e,n){"use strict";var r=n(1576),o=n.n(r);n.d(e,"a",function(){return s});var i,a,s=(a=i=function t(){o()(this,t)},i.List={},i.Clear=function(){s.List={}},i.Register=function(t,e){s.List[t]=e},i.Request=function(t){return s.List[t]},i.Emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=s.Request(t);if(!(o instanceof Function))throw new TypeError("Dispatcher: '"+t+"' is not a function");return o.apply(void 0,n)},a)},1415:function(t,e,n){"use strict";var r=n(1414),o=n(1675);n.n(o);n.d(e,"f",function(){return i}),n.d(e,"j",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"i",function(){return c}),n.d(e,"h",function(){return u}),n.d(e,"d",function(){return p}),n.d(e,"m",function(){return h}),n.d(e,"g",function(){return d}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return f}),n.d(e,"a",function(){return y}),n.d(e,"l",function(){return v}),n.d(e,"k",function(){return _}),n.d(e,"e",function(){return b});var i=!1,a={COLOR:/^#[0-9a-f]{3}([0-9a-f]{3})?$/i},s={PI:Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4},l=function(t){return t*s.PI/180},c=function(t){return 180*t/s.PI},u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.offsetX,o=void 0===r?0:r,i=n.offsetY,a=void 0===i?0:i;return{x:Math.round(Math.cos(t)*e)+o,y:Math.round(Math.sin(t)*e)+a}},p=function(t,e,n){return Math.min(Math.max(t,e),n)},h=function(){},d=function(t){return"#"+("000000"+(16777215&t).toString(16).toUpperCase()).slice(-6)},m=function(t){return t.split("").reduce(function(t,e){return e.charCodeAt(0)+((t<<5)-t)},0)},f=function(t,e){return"0x"+(Array(t).join("0")+e.toString(16)).slice(-t)},y=function(t,e){return Array.from(new Array(e-t+1),function(e,n){return n+t})},v=function(){return(window.performance||Date).now()},g=console.log,_=function(t){console.log=t?g:h},b=function(t){n.i(o.assignsElvisObj)(t,"onSubmit",function(e){e.preventDefault(),t.onDone()}),n.i(o.assignsElvisObj)(t,"onDone",function(){}),n.i(o.assignsElvisObj)(t,"closeModal",function(){r.a.Emit("modal::close")}),n.i(o.assignsElvisObj)(t,"onClose",function(){r.a.Emit("modal::change",null)})}},1421:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1674);n.n(i);n.d(e,"a",function(){return a});var a=function t(){var e=this;o()(this,t),this.observe=function(t){t&&e.observers.push(t)},this.forget=function(t){var n=e.observers.indexOf(t);-1!==n&&e.observers.splice(n,1)},this.notify=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=!0,s=!1,l=void 0;try{for(var c,u=e.observers[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;i.callsIfExist.apply(void 0,[p[t]].concat(r))}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}},this.observers=[]}},1424:function(t,e,n){"use strict";var r=n(1683);n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var o,i;i=function(){var t;return t={},t.DefaultWidth=80,t.DefaultHeight=80,t.MarginX=25,t.Height=2*t.DefaultHeight,t.ControlBoxHeight=34,t.OffsetX=20,t.OffsetY=20,t.LineSize=t.DefaultHeight/6,t.LineColor="#484848",t.LinePosition=t.DefaultHeight/2,t.PlaceholderWidth=400,t.PlaceholderFont=16,t.BranchPlaceholderWidth=250,t.BranchPlaceholderFont=14,t.BranchDefaultWidth=t.BranchPlaceholderWidth,t.BranchDefaultHeight=t.DefaultHeight,t.BranchMarginX=30,t.BranchMarginY=40,t.BranchOffsetX=70,t.BranchOffsetY=20,t.BranchFromLine=40,t.BranchHandleWidth=40,t.BranchConditionWidth=80,t.BranchConditionHeight=50,t.BranchConditionFont=t.BranchPlaceholderFont-2,t.ConditionWidth=.95*t.BranchConditionWidth,t.ConditionHeight=.95*t.BranchConditionHeight,t.ConditionMarginX=(t.BranchConditionWidth-t.ConditionWidth)/2,t.ConditionMarginY=(t.BranchConditionHeight-t.ConditionHeight)/2,t.WaitMarginX=10,t.WaitWidth=t.BranchConditionWidth+2*t.WaitMarginX,t.WaitHeight=t.DefaultHeight,t.GridBlockW=110,t.GridStartMargin=t.MarginX,t.GridEndMargin=t.MarginX/2,t.GridEnd=t.BranchMarginX,t.GridBottom=2*t.LineSize,t.GridArrowWidth=25,t.GridArrowHeight=t.GridArrowWidth,t.GridDefaultH=t.GridBlockW,t.GridDefaultTimeline=t.BranchPlaceholderWidth,t.SmallSocketWidth=37,t.SmallSocketHeight=t.SmallSocketWidth,t}(),o=function(t,e){var n,a,s,l,c,u;return a=function(t){return function(t,e,n){var r;return r=n?[Math.max,function(t,e){return t+e}]:[function(t,e){return t+e},Math.max],t.width=e.reduce(function(t,e){return r[0](t,e.width)},0),t.height=e.reduce(function(t,e){return r[1](t,e.height)},0),t.offsetY=e.reduce(function(t,e){return Math.max(t,e.offsetY||0)},0)}}(),l={width:i.DefaultWidth,height:i.DefaultHeight},null!=t&&(n=t.lookup(e),n instanceof r.a.Waypoint?l.viewBox="0 0 100 100":n instanceof r.a.GridWaypoint?l.viewBox="0 0 100 100":n instanceof r.a.Wait?l={width:i.WaitWidth,height:i.WaitHeight}:n instanceof r.a.Grid?(l=o(t,n.timeline),u=l.width,l.width<i.GridDefaultTimeline&&(l.width=i.GridDefaultTimeline),l.children=[{width:l.width,height:l.height,trueWidth:u}],l.width+=i.GridBlockW+i.GridStartMargin+i.GridEndMargin+i.GridEnd,l.height+=i.GridBottom):n instanceof r.a.Branches?(c=n.branches.map(function(e){return function(e){return o(t,e.timeline)}}()),a(l,c,!0),l.width<i.BranchDefaultWidth&&(l.width=i.BranchDefaultWidth),s=l.width,l.width+=2*i.BranchOffsetX+i.BranchMarginX+i.BranchConditionWidth,c.length>0&&(l.height+=2*i.BranchOffsetY+2*i.BranchFromLine),l.branchesLine=!0,c.length>0&&(l.offsetY=i.BranchOffsetY,c.length>1&&(l.height+=(c.length-2)*i.BranchMarginY,l.offsetY+=i.BranchFromLine-i.LinePosition+Math.floor((c.length-2)/2)*i.BranchMarginY)),l.children=c.map(function(t){return function(t,e){return e%2!=0&&(l.offsetY+=t.height),t.maxWidth=s,t}}())):n instanceof r.a.Timeline&&(c=null!=n.elements&&n.elements.length>0?n.elements.map(o.bind(null,t)):[{width:null!=n.parent?i.BranchDefaultWidth:i.PlaceholderWidth,height:i.BranchDefaultHeight}],a(l,c,!1),l.width+=(c.length-1)*i.MarginX,null===n.parent&&(l.width+=2*i.OffsetX,l.height+=2*i.OffsetY),l.children=c)),l}},1425:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1768);e.a=function(){function t(){}return t.MakePropTypes=function(t){return null==t&&(t={}),Object.assign({servo_id:a.a.number,category:a.a.string.isRequired,name:a.a.string.isRequired,label:a.a.string.isRequired,send:a.a.func.isRequired,producer:a.a.object.isRequired,editable:a.a.bool},t)},t.MakePropDefaults=function(t){return null==t&&(t={}),Object.assign({editable:!0},t)},t.Extend=function(){return null==this.getValue&&(this.getValue=function(t){return function(){return null==t.props.servo_id?t.state.value:t.state.values[t.props.servo_id]}}(this)),null==this.setValue&&(this.setValue=function(t){return function(e,n){var r;if(null==t.props.ignore||-1===t.props.ignore.indexOf(n))return null!=e?(r=Object.assign({},t.state.values),r[e]=n,t.setState({values:r})):t.setState({value:n})}}(this)),null==this.onElementEdited&&(this.onElementEdited=function(t){return function(e){var n,r,o,i,a,l,c,u;for(c={type:null!=t.props.servo_id?s.f.SERVO_DATA:s.f.GLOBAL_DATA},i=c,o=!0,u=t.path,a=0,l=u.length;a<l;a++)n=u[a],r={},i[n]=r,i=r,o&&(null!=t.props.servo_id&&(i.servo_id=t.props.servo_id),o=!1);return i[t.props.name]=e,t.props.send(c)}}(this)),null==this.receiveData&&(this.receiveData=function(t){return function(e,n){var r,o,i,a,s;for(o=n,s=t.path,i=0,a=s.length;i<a;i++)r=s[i],null!=o&&(o=o[r]);if(null!=o&&null!=o[t.props.name])return t.setValue(e,o[t.props.name])}}(this)),null==this.getObserver&&(this.getObserver=function(t){return function(){return{received:function(e){var n,r,o,i,a,s;if("servo_data"!==t.path[0])return t.receiveData(null,e);if(null!=e.servo_data){for(i=e.servo_data,a=[],n=r=0,o=i.length;r<o;n=++r)s=i[n],null!=s?a.push(t.receiveData(n,{servo_data:s})):a.push(void 0);return a}}}}}(this)),null==this.requestValue&&(this.requestValue=function(t){return function(){return t.props.producer.request(t.observer)}}(this)),null==this.componentWillMount&&(this.componentWillMount=function(t){return function(){return t.requestValue()}}(this)),this.observer=this.getObserver(),this.props.producer.observe(this.observer),this.path=this.props.category.split("."),this.state={value:void 0,values:{}},null!=this.RenderInput?this.RenderInput:this.RenderInput=function(t){return function(e,n){var r,i,a,s,l;return s=null!=n?n:{},l=s.unit,a=s.progress,i=s.editable,r=(null!=i?i:t.props.editable)?o.a.createElement("div",null,o.a.createElement("a",{href:"",onClick:this.editElement},o.a.createElement("i",{className:"fa fa-pencil"}))):null,o.a.createElement("div",{className:"property my-1"},o.a.createElement("div",{className:"float-right pl-1"},r),o.a.createElement("div",{className:"property-label text-overflow text-uppercase"},this.props.label),o.a.createElement("div",{className:"property-value font-weight-bold"},e,l),a)}}(this)},t}()},1426:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1425),l=n(1414),c=n(1439),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(t){this.render=u(this.render,this),this.editElement=u(this.editElement,this),e.__super__.constructor.call(this,t),s.a.Extend.call(this)}return p(e,t),e.propTypes=s.a.MakePropTypes({formatter:a.a.func,unit:a.a.string}),e.defaultProps=s.a.MakePropDefaults(),e.prototype.editElement=function(t){var e,n,r;return t.preventDefault(),n=this.props.label,r=this.getValue(),e=this.onElementEdited,l.a.Emit("modal::change",function(t){return function(){return o.a.createElement(c.a,{label:n,type:"text",value:r,onElementEdited:e})}}())},e.prototype.render=function(){var t,e,n;return n="N/A",t=this.getValue(),null!=t&&(n=null!=this.props.formatter?this.props.formatter(t):t,null!=this.props.unit&&(e=o.a.createElement("small",null," ",this.props.unit))),null!=this.props.formatter||isNaN(n)||(n=Math.round(100*n)/100),this.RenderInput(n,{unit:e})},e}(r.PureComponent)},1427:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={className:a.a.string,font:a.a.string,decoration:a.a.string,size:a.a.number.isRequired,color:a.a.string,halign:a.a.string,valign:a.a.string,border:a.a.string,borderColor:a.a.string,x:a.a.number,y:a.a.number,children:a.a.any.isRequired},e.defaultProps={font:"Helvetica, Arial, sans-serif",valign:"top",x:0,y:0},e.prototype.render=function(){var t,e,n,r,i,a,s,l,c,u,p,h;return h=this.props.y,u=.75,l=null!=(null!=(c=this.props.children)?c.indexOf:void 0)&&-1!==this.props.children.indexOf("\n"),l?(t=this.props.size*u,a=.6*t,i=t+a,s=this.props.children.split("\n"),e=h,"middle"===this.props.valign?(r=s.length,n=r*t+(r-1)*a,e+=t,e-=n/2):"top"===this.props.valign&&(e+=t),p=s.map(function(t){return function(n,r){var a;return a={key:r,x:t.props.x,y:e},e+=i,o.a.createElement("tspan",a,n)}}(this))):("middle"===this.props.valign?(h+=this.props.size/2*u,null!=this.props.height&&(h+=this.props.height/2)):"top"===this.props.valign&&(h+=this.props.size*u),p=this.props.children),o.a.createElement("text",{className:this.props.className,fontFamily:this.props.font,fill:this.props.color,fontWeight:this.props.decoration,fontSize:this.props.size,textAnchor:this.props.halign,strokeWidth:this.props.border,stroke:this.props.borderColor,x:this.props.x,y:h},p)},e}(r.PureComponent)},1428:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={url:a.a.string.isRequired,method:a.a.string,authenticity_token:a.a.string.isRequired,children:a.a.node.isRequired},e.defaultProps={method:"POST"},e.prototype.render=function(){var t,e;return e=this.props.method.toLowerCase(),"get"!==e&&"post"!==e&&(t=o.a.createElement("input",{type:"hidden",name:"_method",value:e}),e="post"),o.a.createElement("form",{method:e,action:this.props.url},t,o.a.createElement("input",{type:"hidden",name:"authenticity_token",value:this.props.authenticity_token}),o.a.createElement("input",{type:"hidden",name:"utf8",value:"✓"}),this.props.children)},e}(r.PureComponent)},1429:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={id:a.a.string.isRequired,label:a.a.string.isRequired,addon:a.a.string,input:a.a.string,inputProps:a.a.object.isRequired,error:a.a.string,children:a.a.node},e.defaultProps={input:"input"},e.prototype.render=function(){var t,e,i,a,s;return i=null!=this.props.error,i&&(e=this.props.error,Array.isArray(e)&&(e=e.join(", ")),t=o.a.createElement("span",{className:"form-control-feedback"},this.props.label," ",e)),s={id:this.props.id,name:this.props.id,className:"form-control "+(i?"form-control-danger":"")},a=n.i(r.createElement)(this.props.input,Object.assign(s,this.props.inputProps)),null!=this.props.addon&&(a=o.a.createElement("div",{className:"input-group"},o.a.createElement("span",{className:"input-group-addon"},o.a.createElement("i",{className:"fa fa-"+this.props.addon})),a)),o.a.createElement("div",{className:"form-group "+(i?"has-danger":"")},o.a.createElement("label",{htmlFor:this.props.id},this.props.label),a,t,this.props.children)},e}(r.PureComponent)},1430:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1414),a=n(1424),s=n(1427),l=n(1446);n.d(e,"a",function(){return h}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return m}),n.d(e,"c",function(){return f});var c,u,p,h="#008AAC",d="#00B0DC",m="#B73D30";p=function(t){var e,n,r,o,i,a,s;return r="input"===t.type,i=null!=t.mode?t.mode.split("_"):[],o=i[0],n=parseInt(i[1])+1,e=null!=o&&null!=n?o.charAt(0).toUpperCase()+(r?"I":"O")+n:"N/A",a="N/A",null!=t.value&&("output-set"===t.type?a="Set "+t.value:null!=t.mode&&(i=t.mode.split("_"),"digital"===i[0]?a="If equals "+t.value:"analog"===i[0]&&null!=t.valueMode&&("direct"===t.valueMode?a="If equals "+t.value:"threshold"===t.valueMode&&(a="If is "+t.value)))),s=a,[e,s]},u=function(t,e,n){var r,i,l,c,u,p,h,d,m,f;return null==n&&(n={}),r=n.color||"#0C7F1D",l=a.a.ConditionWidth,i=a.a.ConditionHeight,c=n.x||a.a.ConditionMarginX,u=n.y||a.a.ConditionMarginY,d=a.a.BranchConditionFont,f=.1*d,m=1.2*d,h=2*f+m,p=i-h,o.a.createElement("g",null,o.a.createElement("rect",{x:c,y:u,width:l,height:i,rx:3,ry:3,fill:r}),o.a.createElement(s.a,{decoration:"bold",size:d,color:"#ffffff",halign:"middle",x:c+l/2,valign:"middle",y:u+f+m/2},t),o.a.createElement(s.a,{size:d,color:"#ffffff",halign:"middle",x:c+l/2,valign:"middle",y:u+h+p/2},e.join("\n")))},c=function(t){return function(e){var n,r,a,s,c,u,p;if(e.preventDefault(),e.stopPropagation(),t.enabled&&null!=t.id)return n="output-set"!==t.type,a=!t.inBranch,p=null!=(s=t.thresholds)?s.upper:void 0,u=null!=(c=t.thresholds)?c.lower:void 0,r=function(e){return function(e){return t.tool_parent.toolpaths.current().updateElement(t.id,e)}}(),i.a.Emit("modal::change",function(e){return function(){return o.a.createElement(l.a,{includeTime:a,dynamicType:n,onDone:r,type:t.type,time:t.duration,mode:t.mode,value:t.value,valueMode:t.valueMode,thresholdUpper:p,thresholdLower:u})}}())}};var f=function(t,e,n,r){var o,i,a,s;return null==r&&(r={}),s=null!=(i=r.text)?i:p(t),o={},o[null!=(a=r.action)?a:"onClick"]=c(t),t.tool_parent.generateTool(t.type,e,u(n,s,r),o)}},1431:function(t,e,n){"use strict";var r=n(1150),o=n(1415);n.d(e,"e",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u});var i=function(t){return t},a=function(t){return t},s=function(t){var e=new r.a;return e.copy(t),e.applyAxisAngle(new r.a(1,0,0),-o.b.HALF_PI),e.applyAxisAngle(new r.a(0,1,0),o.b.HALF_PI),e},l=function(t){var e=new r.a;return e.copy(t),e.applyAxisAngle(new r.a(0,1,0),-o.b.HALF_PI),e.applyAxisAngle(new r.a(1,0,0),o.b.HALF_PI),e},c=function(t){var e=t.children.length-1,r=!0,i=!1,a=void 0;try{for(var s,l=n.i(o.a)(0,e)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;t.remove(t.children[e-c])}}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}},u=function(t,e){t.children.map(function(t,n){return e(t,n)})}},1432:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1425),l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;e.a=function(t){function e(t){this.render=l(this.render,this),this.triggerElement=l(this.triggerElement,this),e.__super__.constructor.call(this,t),s.a.Extend.call(this)}return c(e,t),e.propTypes=s.a.MakePropTypes({action:a.a.string.isRequired}),e.defaultProps=s.a.MakePropDefaults({editable:!1}),e.prototype.triggerElement=function(){return this.onElementEdited(1)},e.prototype.render=function(){return this.RenderInput(o.a.createElement("div",{className:"mt-1"},o.a.createElement("button",{className:"btn btn-sm btn-info",onClick:this.triggerElement},this.props.action)))},e}(r.PureComponent)},1433:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1425),l=n(1414),c=n(1439),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(t){this.render=u(this.render,this),this.editElement=u(this.editElement,this),e.__super__.constructor.call(this,t),s.a.Extend.call(this)}return p(e,t),e.propTypes=s.a.MakePropTypes({min:a.a.number.isRequired,max:a.a.number.isRequired,formatter:a.a.func,unit:a.a.string,step:a.a.number}),e.defaultProps=s.a.MakePropDefaults(),e.prototype.editElement=function(t){var e,n,r,i,a,s;return t.preventDefault(),n=this.props.label,s=this.getValue(),e=this.onElementEdited,i=this.props.min,r=this.props.max,a=this.props.step,l.a.Emit("modal::change",function(t){return function(){return o.a.createElement(c.a,{label:n,type:"progress",value:s,min:i,max:r,step:a,onElementEdited:e})}}())},e.prototype.render=function(){var t,e,n,r,i;return i="N/A",t=this.getValue(),null!=t&&(n=Math.round(100*(t-this.props.min)/(this.props.max-this.props.min)),e=o.a.createElement("div",{className:"property-progress mt-1"},o.a.createElement("div",{className:"progress rounded-0",title:n+"%"},o.a.createElement("div",{className:"progress-bar clr-black",style:{height:"9px",width:n+"%"}}))),i=null!=this.props.formatter?this.props.formatter(t):t,null!=this.props.unit&&(r=o.a.createElement("small",null," ",this.props.unit))),this.RenderInput(i,{unit:r,progress:e})},e}(r.PureComponent)},1434:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1425),l=n(105),c=n.n(l),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(t){this.render=u(this.render,this),this.onChange=u(this.onChange,this),e.__super__.constructor.call(this,t),s.a.Extend.call(this)}return p(e,t),e.propTypes=s.a.MakePropTypes({yes:a.a.any,no:a.a.any,ignore:a.a.array}),e.defaultProps=s.a.MakePropDefaults(),e.prototype.onChange=function(t){var e;return e=t.target.checked,this.onElementEdited(e?this.props.yes:this.props.no)},e.prototype.render=function(){var t;return t=this.getValue(),t=null!=t&&t===this.props.yes,this.RenderInput(o.a.createElement("div",{className:"mt-1"},o.a.createElement(c.a,{checked:t,onChange:this.onChange,disabled:!this.props.editable})),{editable:!1})},e}(r.PureComponent)},1438:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1425),l=n(1414),c=n(1439),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(t){this.render=u(this.render,this),this.editElement=u(this.editElement,this),e.__super__.constructor.call(this,t),s.a.Extend.call(this)}return p(e,t),e.propTypes=s.a.MakePropTypes({enums:a.a.oneOfType([a.a.array,a.a.object]).isRequired,ignore:a.a.array,formatter:a.a.func,unit:a.a.string}),e.defaultProps=s.a.MakePropDefaults(),e.prototype.editElement=function(t){var e,n,r,i,a,s,u;t.preventDefault(),n=this.props.label,s=this.getValue(),e=this.onElementEdited,i=[],a=this.props.enums;for(u in a)r=a[u],null!=this.props.ignore&&-1!==this.props.ignore.indexOf(parseInt(u))||i.push({name:r,value:u});return l.a.Emit("modal::change",function(t){return function(){return o.a.createElement(c.a,{label:n,type:"select",value:s,options:i,onElementEdited:e})}}())},e.prototype.render=function(){var t,e,n;return n="N/A",t=this.getValue(),null!=t&&(n="Unknown",this.props.enums instanceof Array?this.props.enums.length>t&&t>=0&&(n=this.props.enums[t]):t in this.props.enums&&(n=this.props.enums[t]),null!=this.props.formatter&&(n=this.props.formatter(n)),null!=this.props.unit&&(e=o.a.createElement("small",null," ",this.props.unit))),this.RenderInput(n,{unit:e})},e}(r.PureComponent)},1439:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1565),l=n(1564),c=n(1415),u=n(1472),p=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;e.a=function(t){function e(t){this.render=p(this.render,this),this.onDone=p(this.onDone,this),this.onShown=p(this.onShown,this),e.__super__.constructor.call(this,t),n.i(c.e)(this),this.id="dashboard_edit_value",this.state={error:null}}return h(e,t),e.propTypes={label:a.a.string.isRequired,type:a.a.string.isRequired,value:a.a.node,min:a.a.number,max:a.a.number,step:a.a.number,options:a.a.arrayOf(a.a.shape({name:a.a.string.isRequired,value:a.a.node.isRequired}).isRequired),onElementEdited:a.a.func.isRequired},e.prototype.onShown=function(){return this.refs.field.shown()},e.prototype.onDone=function(){var t,e;return e=this.refs.field.value(),null!=e&&""!==e?(t=null,"progress"===this.props.type&&((e=parseFloat(e))<this.props.min||this.props.max<e)&&(t="You must specify a value between "+this.props.min+" and "+this.props.max),null!=t?this.setState({error:t}):(this.props.onElementEdited(e),this.closeModal())):this.setState({error:"You must specify a value"})},e.prototype.render=function(){return o.a.createElement(s.a,{title:"Edit property",buttonText:"Send",buttonColor:"success",buttonIcon:"pencil",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement(l.a,{name:this.id,label:this.props.label,error:this.state.error},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(u.a,{ref:"field",id:this.id,type:this.props.type,value:this.props.value,min:this.props.min,max:this.props.max,step:this.props.step,options:this.props.options}))))},e}(r.PureComponent)},1440:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1562),u=n(1427),p=n(1567);n.d(e,"b",function(){return y});var h,d=function(t,e){return function(){return t.apply(e,arguments)}},m=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;h=function(t){function e(t){this.render=d(this.render,this),this.getDragObject=d(this.getDragObject,this),this.onUnhover=d(this.onUnhover,this),this.onHover=d(this.onHover,this),e.__super__.constructor.call(this,t),this.svg_size=100,this.border_width=7,this.shape_size=this.svg_size-this.border_width,this.shape_half=this.shape_size/2,this.border_half=this.border_width/2,this.font_size=.7*this.shape_half}return m(e,t),e.propTypes={parent:l.a.string,waypointType:l.a.oneOf([c.a.LINEAR,c.a.INTERPOLATION]).isRequired,color:l.a.string.isRequired,activated:l.a.bool,hovered:l.a.bool,weight:l.a.number,speed:l.a.number,id:l.a.string,waypointId:l.a.number,enabled:l.a.bool,x:l.a.number,y:l.a.number,width:l.a.number,height:l.a.number,viewBox:l.a.string,htmlMode:l.a.bool,onClick:l.a.func,onRightClick:l.a.func,onHover:l.a.func},e.prototype.defaultProps={activated:!1,hovered:!1,enabled:!0,htmlMode:!1},e.GetTarget=function(t){var e;return 0===(null!=(e=t.parent)?e.indexOf("grid"):void 0)?p.a.Types.GRID_TIMELINE:p.a.Types.TIMELINE},e.prototype.onHover=function(){var t;return"function"==typeof(t=this.props).onHover?t.onHover(!0):void 0},e.prototype.onUnhover=function(){var t;return"function"==typeof(t=this.props).onHover?t.onHover(!1):void 0},e.prototype.getDragObject=function(){var t,e,n,r,o;for(t={type:"waypoint"},o=["id","waypointId","waypointType","color","speed","weight"],e=0,n=o.length;e<n;e++)r=o[e],t[r]=this.props[r];return{rootActive:!0,object:t}},e.prototype.render=function(){var t,e,n,r,i,s,l,p,h,d,m,f,y,v,g;return i="#000000",this.props.activated?i="#ffffff":this.props.hovered&&(i="#0dff00"),m={className:"waypoint-type",fill:this.props.color,stroke:i,strokeWidth:this.border_width},this.props.waypointType===c.a.LINEAR?(d=a.a.createElement("rect",o()({},m,{width:this.shape_size,height:this.shape_size,x:this.border_half,y:this.border_half})),null!=this.props.speed&&(r=this.props.speed+"s")):(d=a.a.createElement("circle",o()({},m,{r:this.shape_half,cx:this.shape_half+this.border_half,cy:this.shape_half+this.border_half})),r=""+(null!=(s=this.props.weight)?s:.5)),null!=r&&(n=a.a.createElement(u.a,{className:"waypoint-label",decoration:"bold",size:this.font_size,border:"1",borderColor:"white",halign:"middle",x:this.shape_half+this.border_half,valign:"middle",y:this.shape_half},r)),y=null!=(l=this.props.width)?l:null,e=null!=(p=this.props.height)?p:null,v=null!=this.props.x?this.props.x-(this.props.htmlMode&&null!=this.props.width?this.props.width/2:0):null,g=null!=this.props.y?this.props.y-(this.props.htmlMode&&null!=this.props.height?this.props.height/2:0):null,t="svg-waypoint "+(this.props.isDragging?"dnd-active":"")+" "+(this.props.enabled?"":"disabled"),f=null!=(h=this.props.viewBox)?h:"0 0 "+this.svg_size+" "+this.svg_size,a.a.createElement("svg",{viewBox:f,className:t,width:y,height:e,x:v,y:g,onClick:this.props.onClick,onContextMenu:this.props.onRightClick,onMouseEnter:this.onHover,onMouseLeave:this.onUnhover},d,n)},e}(i.PureComponent),e.a=h;var y=p.a.MakeDnD({type:p.a.Types.WAYPOINT},{type:h.GetTarget},h)},1441:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1562),u=n(1683),p=n(1424),h=n(1414),d=n(1440),m=n(1527),f=n(1501);n.d(e,"a",function(){return _});var y=function(t,e){return function(){return t.apply(e,arguments)}},v=function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty,_=function(t,e,n){var r,i,s;return s=h.a.Request("viewer::scene"),n.top="-"+s.ui.getSize().offsetTop+"px",null!=e.args.waypointId?i=a.a.createElement(d.a,{waypointType:e.args.waypointType,color:e.args.color,weight:e.args.weight,speed:e.args.speed}):(r={enabled:!1,inBranch:!1,noDnD:!0},i=a.a.createElement(m.a,o()({},r,e.args))),a.a.createElement("div",{className:"timeline-preview",style:n},i)};e.b=function(t){function e(t){this.render=y(this.render,this),this.rightClick=y(this.rightClick,this),this.hover=y(this.hover,this),this.onValueChanged=y(this.onValueChanged,this),this.updateSize=y(this.updateSize,this),this.reloadState=y(this.reloadState,this),this.componentWillUnmount=y(this.componentWillUnmount,this),this.componentWillMount=y(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.state={waypoint:!1,info:{},sizes:[]},this.observer={changed:function(t){return function(e){return t.reloadState(e)}}(this),childrenChanged:function(t){return function(){return t.updateSize()}}(this)}}return v(e,t),e.propTypes={enabled:l.a.bool.isRequired,id:l.a.string.isRequired,inBranch:l.a.bool,inSocket:l.a.bool,width:l.a.number.isRequired,height:l.a.number.isRequired,x:l.a.number.isRequired,y:l.a.number.isRequired,viewBox:l.a.string.isRequired},e.defaultProps={inBranch:!1,inSocket:!1},e.prototype.componentWillMount=function(){var t,e;if(null!=(e=h.a.Request("viewer::scene")))return this.toolpaths=e.toolpaths,this.waypoints=e.waypoints,t=this.toolpaths.current().lookup(this.props.id),t.observe(this.observer),this.reloadState(t)},e.prototype.componentWillUnmount=function(){var t,e;return t=null!=(e=this.toolpaths.current())?e.lookup(this.props.id):void 0,null!=t?t.forget(this.observer):void 0},e.prototype.reloadState=function(t){return this.setState({waypoint:t instanceof u.a.Waypoint,info:t.getState()},this.updateSize)},e.prototype.updateSize=function(){var t;return t=n.i(p.b)(this.toolpaths.current(),this.props.id),this.setState({sizes:t.children})},e.prototype.onValueChanged=function(t){return this.toolpaths.current().updateElement(this.props.id,function(e){return function(e){return e.waypointType===c.a.INTERPOLATION?e.weight=t:e.speed=Math.max(0,parseFloat(t)||0)}}())},e.prototype.hover=function(t){if(this.props.enabled)return null!=this.state.info.waypointId?this.waypoints.hover(t,this.waypoints.lookupWaypoint(this.state.info.waypointId).record):void 0},e.prototype.rightClick=function(t){var e,n,r;if(t.preventDefault(),this.props.enabled&&!this.props.inSocket)return e=this.onValueChanged,n=this.state.info.waypointType,r=n===c.a.INTERPOLATION?this.state.info.weight:this.state.info.speed,h.a.Emit("modal::change",function(t){return function(){return a.a.createElement(f.a,{type:n,value:r,onValueChanged:e})}}())},e.prototype.render=function(){var t;return t={id:this.props.id,enabled:this.props.enabled,sizes:this.state.sizes,inBranch:this.props.inBranch,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,viewBox:this.props.viewBox},this.state.waypoint?a.a.createElement(d.b,o()({},t,this.state.info,{onRightClick:this.rightClick,onHover:this.hover})):a.a.createElement(m.b,o()({},t,this.state.info))},e}(i.PureComponent)},1442:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1443),u=n(1426),p=n(1433),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(){return this.render=h(this.render,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired,name:l.a.string.isRequired,label:l.a.string.isRequired,full:l.a.bool,small:l.a.bool},e.defaultProps={full:!1,small:!1},e.prototype.render=function(){var t,e,n,r;return this.sprops={category:this.props.category+"."+this.props.name,servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},e=[a.a.createElement(u.a,o()({},this.sprops,{name:"p",label:"Proportional Gain"})),a.a.createElement(u.a,o()({},this.sprops,{name:"i",label:"Integral Gain"})),a.a.createElement(u.a,o()({},this.sprops,{name:"d",label:"Differential Gain"}))],r=[a.a.createElement(p.a,o()({},this.sprops,{name:"frequency",label:"Loop Frequency",unit:"Hz",min:0,max:1e4})),a.a.createElement(u.a,o()({},this.sprops,{name:"max_command",label:"Max Command"}))],n=this.props.full?[a.a.createElement(u.a,o()({},this.sprops,{name:"s",label:"Speed Gain"})),a.a.createElement(u.a,o()({},this.sprops,{name:"t",label:"Torque Gain"}))]:[],t=e.concat(n,r).map(function(t){return function(t,e){return a.a.createElement("div",{key:e,className:"col-12 col-sm-4 col-md-3 col-lg-2"},t)}}()),a.a.createElement(c.a,{label:this.props.label,small:this.props.small},a.a.createElement("div",{className:"row"},t))},e}(i.PureComponent)},1443:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={label:a.a.string.isRequired,small:a.a.bool,children:a.a.node.isRequired},e.defaultProps={small:!1},e.prototype.render=function(){var t;return t=this.props.small?o.a.createElement("h4",null,this.props.label):o.a.createElement("h3",null,this.props.label),o.a.createElement("div",null,t,this.props.children)},e}(r.PureComponent)},1446:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1565),u=n(1415),p=n(1564),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.onThresholdLowerChange=h(this.onThresholdLowerChange,this),this.onThresholdUpperChange=h(this.onThresholdUpperChange,this),this.onValueModeChange=h(this.onValueModeChange,this),this.onValueChange=h(this.onValueChange,this),this.onModeChange=h(this.onModeChange,this),this.onTimeChange=h(this.onTimeChange,this),this.onTypeChange=h(this.onTypeChange,this),this.validate=h(this.validate,this),this.onDone=h(this.onDone,this),this.onShown=h(this.onShown,this);var r,o,i;e.__super__.constructor.call(this,t),n.i(u.e)(this),r="tool-form",this.ids={type:r+"-type",time:r+"-duration",mode:r+"-mode",value:r+"-value",valueMode:r+"-valuemode",thresholdUpper:r+"-threshold-upper",thresholdLower:r+"-threshold-lower"},this.state={type:t.type,time:t.time,mode:t.mode,value:t.value,valueMode:t.valueMode,thresholdUpper:null!=(o=t.thresholds)?o.upper:void 0,thresholdLower:null!=(i=t.thresholds)?i.lower:void 0,errors:{}}}return d(e,t),e.propTypes={dynamicType:a.a.bool.isRequired,includeTime:a.a.bool,type:a.a.string,time:a.a.number,mode:a.a.string,value:a.a.any,valueMode:a.a.string,thresholdUpper:a.a.number,thresholdLower:a.a.number,onDone:a.a.func.isRequired},e.defaultProps={time:0,includeTime:!0},e.prototype.onShown=function(){var t;return t=this.ids.type,null!=this.props.type&&(t="time"===this.props.type?this.ids.time:this.ids.mode),l()("#"+t).focus()},e.prototype.onDone=function(){if(this.validate())return"time"===this.state.type?this.props.onDone(function(t){return function(e){return e.type=t.state.type,e.duration=Math.max(0,parseFloat(t.state.time)||0)}}(this)):this.props.onDone(function(t){return function(e){if(e.type=t.state.type,e.duration=t.state.time,e.mode=t.state.mode,e.value=t.state.value,null!=t.state.valueMode&&(e.valueMode=t.state.valueMode),null!=t.state.thresholdUpper)return e.thresholds={upper:t.state.thresholdUpper,lower:t.state.thresholdLower}}}(this)),this.closeModal()},e.prototype.validate=function(){var t,e,n,r,o,i,a,s,l,c,u,p;if(o={error_type:null,error_time:null,error_mode:null,error_value:null,error_valueMode:null,error_thresholdUpper:null,error_thresholdLower:null},p=!1,null==this.state.type||""===this.state.type||"none"===this.state.type)o.error_type="You must provide a valid type";else if("time"===this.state.type)null!=this.state.time&&""!==this.state.time?p=!0:o.error_time="You must provide a duration";else if(s="output-set"===this.state.type,null==this.state.mode||""===this.state.mode||"none"===this.state.mode)o.error_mode="You must provide a valid mode";else if(c=this.state.mode.split("_"),"analog"!==c[0]||s||null!=this.state.valueMode&&""!==this.state.valueMode&&"none"!==this.state.valueMode){for(n=parseFloat(this.state.value),e=parseFloat(this.state.thresholdUpper),t=parseFloat(this.state.thresholdLower),"analog"===c[0]&&((s||"direct"===this.state.valueMode)&&(isNaN(n)||n<0||1<n)?o.error_value="You must provide a valid value (between 0 and 1)":"threshold"===this.state.valueMode&&((isNaN(e)||e<0||1<e)&&(o.error_thresholdUpper="You must provide a valid upper threshold (between 0 and 1)"),(isNaN(t)||t<0||1<t)&&(o.error_thresholdLower="You must provide a valid lower threshold (between 0 and 1)"),t>=e&&null==o.error_thresholdUpper&&(o.error_thresholdUpper="You must provide a upper threshold greather than the lower threshold ("+e+" <= "+t+")"))),null!=this.state.value&&""!==this.state.value&&"none"!==this.state.value||null==o.error_value&&(o.error_value="You must provide a value"),i=!1,u=["type","mode","value","valueMode","thresholdUpper","thresholdLower"],a=0,l=u.length;a<l;a++)r=u[a],o["error_"+r]&&(i=!0);p=!i}else o.error_valueMode="You must provide a valid value mode";return this.setState(o),p},e.prototype.onTypeChange=function(t){return this.setState({type:t.target.value},this.validate)},e.prototype.onTimeChange=function(t){return this.setState({time:t.target.value},this.validate)},e.prototype.onModeChange=function(t){return this.setState({mode:t.target.value},this.validate)},e.prototype.onValueChange=function(t){return this.setState({value:t.target.value},this.validate)},e.prototype.onValueModeChange=function(t){return this.setState({valueMode:t.target.value},this.validate)},e.prototype.onThresholdUpperChange=function(t){return this.setState({thresholdUpper:t.target.value},this.validate)},e.prototype.onThresholdLowerChange=function(t){return this.setState({thresholdLower:t.target.value},this.validate)},e.prototype.render=function(){var t,e,n,r;return t=[],this.props.dynamicType&&(this.props.includeTime&&(r=o.a.createElement("option",{value:"time"},"Time")),t.push(o.a.createElement(p.a,{key:"upco_form_type",name:this.ids.type,label:"Type",error:this.state.error_type},o.a.createElement("select",{className:"form-control",id:this.ids.type,required:!0,value:this.state.type,onChange:this.onTypeChange},o.a.createElement("option",{value:"none"},"Choose..."),r,o.a.createElement("option",{value:"input"},"Input"),o.a.createElement("option",{value:"output-test"},"Test Output"))))),null!=this.state.type&&""!==this.state.type&&("time"===this.state.type?t.push(o.a.createElement(p.a,{key:"upco_form_time",name:this.ids.time,label:"Duration",error:this.state.error_time},o.a.createElement("input",{type:"text",className:"form-control",id:this.ids.time,required:!0,value:this.state.time,onChange:this.onTimeChange,placeholder:"in ms"}))):(e="output-set"===this.state.type,t.push(o.a.createElement(p.a,{key:"upco_form_mode",name:this.ids.mode,label:"Mode",error:this.state.error_mode},o.a.createElement("select",{className:"form-control",id:this.ids.mode,required:!0,value:this.state.mode,onChange:this.onModeChange},o.a.createElement("option",{value:"none"},"Choose..."),o.a.createElement("option",{value:"digital_0"},"Digital 1"),o.a.createElement("option",{value:"digital_1"},"Digital 2"),o.a.createElement("option",{value:"digital_2"},"Digital 3"),o.a.createElement("option",{value:"digital_3"},"Digital 4"),o.a.createElement("option",{value:"analog_0"},"Analog 1"),o.a.createElement("option",{value:"analog_1"},"Analog 2")))),null!=this.state.mode&&""!==this.state.mode&&"none"!==this.state.mode&&(n=this.state.mode.split("_"),"digital"===n[0]?t.push(o.a.createElement(p.a,{key:"upco_form_value",name:this.ids.value,label:"Value",error:this.state.error_value},o.a.createElement("select",{className:"form-control",id:this.ids.value,required:!0,value:this.state.value,onChange:this.onValueChange},o.a.createElement("option",{value:"none"},"Choose..."),o.a.createElement("option",{value:"0"},"0"),o.a.createElement("option",{value:"1"},"1")))):"analog"===n[0]&&(e="output-set"===this.state.type,e||t.push(o.a.createElement(p.a,{key:"upco_form_valueMode",name:this.ids.valueMode,label:"Value Mode",error:this.state.error_valueMode},o.a.createElement("select",{className:"form-control",id:this.ids.valueMode,required:!0,value:this.state.valueMode,onChange:this.onValueModeChange},o.a.createElement("option",{value:"none"},"Choose..."),o.a.createElement("option",{value:"threshold"},"Threshold"),o.a.createElement("option",{value:"direct"},"Direct")))),e||"direct"===this.state.valueMode?t.push(o.a.createElement(p.a,{key:"upco_form_value",name:this.ids.value,label:"Value",error:this.state.error_value},o.a.createElement("input",{type:"text",className:"form-control",id:this.ids.value,required:!0,value:this.state.value,onChange:this.onValueChange,placeholder:"e.g. 0.42"}))):"threshold"===this.state.valueMode&&(t.push(o.a.createElement(p.a,{key:"upco_form_value",name:this.ids.value,label:"Value",error:this.state.error_value},o.a.createElement("select",{className:"form-control",id:this.ids.value,required:!0,value:this.state.value,onChange:this.onValueChange},o.a.createElement("option",{value:"none"},"Choose..."),o.a.createElement("option",{value:"inside"},"Inside"),o.a.createElement("option",{value:"outside"},"Outside"),o.a.createElement("option",{value:"above"},"Above"),o.a.createElement("option",{value:"below"},"Below")))),t.push(o.a.createElement(p.a,{key:"upco_form_upper",name:this.ids.thresholdUpper,label:"Upper threshold",error:this.state.error_thresholdUpper},o.a.createElement("input",{type:"text",className:"form-control",id:this.ids.thresholdUpper,required:!0,value:this.state.thresholdUpper,onChange:this.onThresholdUpperChange,placeholder:"e.g. 0.7"}))),t.push(o.a.createElement(p.a,{key:"upco_form_lower",name:this.ids.thresholdLower,label:"Lower threshold",error:this.state.error_thresholdLower},o.a.createElement("input",{type:"text",className:"form-control",id:this.ids.thresholdLower,required:!0,value:this.state.thresholdLower,onChange:this.onThresholdLowerChange,placeholder:"e.g. 0.3"})))))))),o.a.createElement(c.a,{title:this.props.dynamicType?"Condition":"Output",buttonText:"Save",buttonColor:"success",buttonIcon:"pencil",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement("form",{onSubmit:this.onSubmit},t))},e}(r.PureComponent)},1447:function(t,e,n){"use strict";var r=n(1160),o=n(1157),i=n(1153),a=n(1150),s=n(1175),l=n(1277),c=n(1207),u=n(1229),p=n(1278),h=n(1179),d=n(1421),m=n(1415),f=n(1431),y=function(t,e){return function(){return t.apply(e,arguments)}},v=function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;e.a=function(t){function e(t,e,n,r){var o;this.core=t,this.parent=e,this.raycastInfo=n,this.drag=y(this.drag,this),this._create=y(this._create,this),this._createGizmoCircle=y(this._createGizmoCircle,this),this._createGizmoAxis=y(this._createGizmoAxis,this),this._config=y(this._config,this),this.addAnimation=y(this.addAnimation,this),this.expand=y(this.expand,this),this.show=y(this.show,this),this.hover=y(this.hover,this),this.disable=y(this.disable,this),this.scale=y(this.scale,this),this.setOrientation=y(this.setOrientation,this),this.setPosition=y(this.setPosition,this),this.getObject=y(this.getObject,this),o={point:!0,circles:!0,show:!0,expanded:!0,parent:null,flipX:!1},this.options=Object.assign(o,r),this.gizmo=this._create(),this.options.show||this.show(this.options.show,!1),this.options.expanded||this.expand(this.options.expanded,!1),null!=this.options.parent&&this.options.parent.add(this.gizmo)}return v(e,t),e.prototype.getObject=function(){return this.gizmo},e.prototype.setPosition=function(t){return this.gizmo.position.copy(t)},e.prototype.setOrientation=function(t){return this.gizmo.quaternion.copy(t)},e.prototype.scale=function(t){return this.gizmo.scale.set(t,t,t)},e.prototype.disable=function(t,e){var r,o;if(o=t?.4:1,r=!1,n.i(f.b)(this.gizmo,function(t){return function(t){return r||(r=t===e)}}()),!r)return n.i(f.b)(this.gizmo,function(e){return function(e){return e.material.opacity=o,t?e.userData.raycast_pass=!0:delete e.userData.raycast_pass}}())},e.prototype.hover=function(t,e){return t.userData.hover(e),this.parent.notify("gizmoHover",e)},e.prototype.show=function(t,e){return null==e&&(e=!0),this.addAnimation("show",500,t,e)},e.prototype.expand=function(t,e){return null==e&&(e=!0),this.addAnimation("expand",500,t,e)},e.prototype.addAnimation=function(t,e,r,o){return n.i(f.b)(this.gizmo,function(n){return function(i,a){return o?n.core.animations.addAnimation("gizmo_"+a,e,i.userData[t].bind(null,r)):i.userData[t](r,{progress:1})}}(this))},e.prototype._config=function(){var t;return t={},t.pointDiameter=15,t.axisLength=160,t.axisRadius=8,t.axisTranslation=t.pointDiameter/2+t.axisLength/2-1,t.axisBigTranslation=t.pointDiameter+t.axisLength/4-1,t.axisTranslationDiff=t.axisBigTranslation-t.axisTranslation,t.capLength=t.axisLength/4,t.capRadius=2.5*t.axisRadius,t.capTranslation=t.axisLength/2+t.capLength/2-1,t.circleRadius=.75*t.axisLength,t.circleTube=.75*t.axisRadius,t},e.prototype._createGizmoAxis=function(t,e,n,o,i){var u,p,d,f;return null==i&&(i=m.m),p=new s.a(new l.a(t.capRadius,t.capLength,10)),p.translateY(t.capTranslation),p.updateMatrix(),d=new c.a(t.axisRadius,t.axisRadius,t.axisLength,10),d.merge(p.geometry,p.matrix),d.dispose(),p.geometry.dispose(),f=(new r.a).fromGeometry(d),u=new s.a(f,new h.a({color:n,transparent:!0,opacity:1})),u.renderOrder=.9,i(u),u.translateY(t.axisTranslation),u.userData={gizmoAxis:e,agent:this.raycastInfo,hover:function(t){return u.material.color.setHex(t?o:n)},show:function(e,n){var r,o,i,s;return o=n.progress,r=e?o:1-o,i=.9*(e?o:1-o)+.1,u.visible=i>.1,u.scale.set(i,i,i),e?1-o:o,s=new a.a(0,1,0).applyQuaternion(u.quaternion),u.position.copy(s.multiplyScalar(t.axisTranslation*r))},expand:function(e,n){var r,o,i,s,l;return o=n.progress,r=e?o:1-o,i=e?1-o:o,s=.5*r+.5,u.scale.set(s,s,s),l=new a.a(0,1,0).applyQuaternion(u.quaternion),u.position.copy(l.multiplyScalar(t.axisTranslation+t.axisTranslationDiff*i))}},u},e.prototype._createGizmoCircle=function(t,e,n,r,o,i){var a,l;return null==i&&(i=m.m),l=new p.a(t.circleRadius,t.circleTube,8,26),a=new s.a(l,new h.a({color:n,transparent:!0,opacity:1})),i(a),a.userData={gizmoCircle:e,agent:this.raycastInfo,linkedVector:o,hover:function(t){return a.material.color.setHex(t?r:n)},show:function(t,e){var n,r;return n=e.progress,r=.9*(t?n:1-n)+.1,a.visible=r>.1,a.scale.set(r,r,r)},expand:function(t,e){var n;return n=e.progress,a.userData.show(t,{progress:n})}},a},e.prototype._create=function(){var t,e,n,r,i,a,l;for(n=this._config(),r=new o.a,r.rotation.x=-m.b.HALF_PI,r.rotation.z=m.b.HALF_PI,this.options.point&&(l=new s.a(new u.a(n.pointDiameter,12,10),new h.a({color:16776960,transparent:!0,opacity:1})),l.userData={gizmo:0,agent:this.raycastInfo,hover:function(t){return l.material.color.setHex(t?16777215:16776960)},show:function(t,e){return e.progress,l.visible=t},expand:function(t,e){var n,r;return n=e.progress,r=1+(t?1-n:n),l.scale.set(r,r,r)}},r.add(l)),t=[],t.push(this._createGizmoAxis(n,"x",11141120,16711680,function(t){return function(e){return e.rotateY(m.b.PI),e.rotateZ((t.options.flipX?-1:1)*m.b.HALF_PI)}}(this))),t.push(this._createGizmoAxis(n,"y",43520,65280)),t.push(this._createGizmoAxis(n,"z",170,255,function(t){return function(t){return t.rotateX(m.b.HALF_PI)}}())),i=0,a=t.length;i<a;i++)e=t[i],r.add(e);return this.options.circles&&(r.add(this._createGizmoCircle(n,"x",11162965,16711680,t[0],function(t){return function(t){return t.rotateY(m.b.HALF_PI)}}())),r.add(this._createGizmoCircle(n,"y",5614165,65280,t[1],function(t){return function(t){return t.rotateX(m.b.HALF_PI)}}())),r.add(this._createGizmoCircle(n,"z",5592490,255,t[2]))),r},e.prototype.drag=function(t,e,n,r,o,a){var s,l,c,u,p,h,d,m,f;return u=function(t){return function(e,n){return t.options.flipX&&"x"===e&&(n*=-1),a(e,n)}}(this),null!=n.userData.gizmoAxis?(d=t.processDragging(r,o),c=t.worldToScreen(n).sub(t.worldToScreen(n.parent)).normalize(),s=d.distance,d.vector.dot(c)<0&&(s*=-1),u(n.userData.gizmoAxis,s)):(h=t.worldToBrowser(n),m=(new i.a).subVectors(r,h).normalize(),f=(new i.a).subVectors(o,h).normalize(),s=Math.atan2(m.x*f.y-m.y*f.x,m.x*f.x+m.y*f.y),p=t.camera.getWorldDirection().normalize(),l=n.userData.linkedVector,c=l.getWorldPosition().sub(l.parent.getWorldPosition()).normalize(),p.dot(c)<0&&(s*=-1),u(n.userData.gizmoCircle,s))},e}(d.a)},1449:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(370),l=n.n(s),c=n(1414),u=n(1424),p=n(1567),h=n(1427),d=n(1570),m=n(1441),f=function(t,e){return function(){return t.apply(e,arguments)}},y=function(t,e){function n(){this.constructor=t}for(var r in e)v.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;e.a=function(t){function e(t){this.render=f(this.render,this),this.createMessage=f(this.createMessage,this),this.updateParent=f(this.updateParent,this),this.isEmpty=f(this.isEmpty,this),this.reloadSizes=f(this.reloadSizes,this),this.reloadState=f(this.reloadState,this),this.componentDidUpdate=f(this.componentDidUpdate,this),this.componentDidMount=f(this.componentDidMount,this),this.componentWillUnmount=f(this.componentWillUnmount,this),this.componentWillMount=f(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.state={children:[],sizes:[]},this.width=0,this.height=0,this.offsetY=0,this.listening=!1,this.rootObserver={selected:function(t){return function(e){return t.reloadState()}}(this),reset:function(t){return function(e){return t.setState({children:[]},t.reloadSizes),t.listening=!1}}(this)},this.observer={inserted:function(t){return function(e,n){return t.setState({children:l()(t.state.children,{$splice:[[n,0,e]]})},t.reloadSizes)}}(this),removed:function(t){return function(e){return t.setState({children:l()(t.state.children,{$splice:[[e,1]]})},t.reloadSizes)}}(this),childrenChanged:function(t){return function(){return t.reloadSizes()}}(this)}}return y(e,t),e.propTypes={enabled:a.a.bool.isRequired,processing:a.a.bool.isRequired,id:a.a.string.isRequired,onNewState:a.a.func,noDnD:a.a.bool},e.defaultProps={noDnD:!1},e.prototype.componentWillMount=function(){var t;if(null!=(t=c.a.Request("viewer::scene")))return this.toolpaths=t.toolpaths,"root"===this.props.id?this.toolpaths.observe(this.rootObserver):void 0},e.prototype.componentWillUnmount=function(){var t,e;return"root"===this.props.id&&this.toolpaths.forget(this.rootObserver),e=null!=(t=this.toolpaths.current())?t.lookup(this.props.id):void 0,null!=e?e.forget(this.observer):void 0},e.prototype.componentDidMount=function(){if("root"!==this.props.id)return this.reloadState()},e.prototype.componentDidUpdate=function(t){if("root"===this.props.id&&t.processing!==this.props.processing)return this.reloadSizes()},e.prototype.reloadState=function(){var t,e;return e=this.toolpaths.current().lookup(this.props.id),this.listening||null==e||(e.observe(this.observer),this.listening=!0),t=(null!=e?e.elements.slice():void 0)||[],this.setState({children:t},this.reloadSizes)},e.prototype.reloadSizes=function(){var t;return t=n.i(u.b)(this.toolpaths.current(),this.props.id),this.width=t.width,this.height=t.height,this.offsetY=t.offsetY||0,this.props.processing&&this.isEmpty()&&(this.width=u.a.PlaceholderWidth),this.setState({sizes:t.children||[]},this.updateParent)},e.prototype.isEmpty=function(){return null==this.state.children||this.state.children.length<1},e.prototype.updateParent=function(){if(this.props.onNewState)return this.props.onNewState(this.isEmpty()||this.props.processing,this.width,this.height,this.offsetY)},e.prototype.createMessage=function(t,e,n,r){var i,a,s,l;return l=u.a.PlaceholderWidth,a=u.a.PlaceholderFont,i="#0097bc",e?(s="Click on a waypoint and drop it\nhere to create a ",-10,20,n?s+="toolpath":(s+="branch",l=u.a.BranchPlaceholderWidth,a=u.a.BranchPlaceholderFont),r&&(i="#00AAD4")):s="Wait for the toolpath to load",o.a.createElement("svg",{className:"timeline-placeholder",x:t.x,y:t.y,width:l,height:u.a.DefaultHeight},o.a.createElement("rect",{x:"0",y:"0",width:l,height:u.a.DefaultHeight,rx:"5",ry:"5",fill:i}),o.a.createElement(h.a,{decoration:"bold",size:a,color:"#ffffff",halign:"middle",x:l/2,valign:"middle",y:u.a.DefaultHeight/2},s))},e.prototype.render=function(){var t,e,n,r,i,a,s,l,c,h,f,y,v,g,_,b,w,E,C,x,N,T,S,O,R,P,k,D,M,I,q,W,A,z,j;if(a=this.props.enabled,c="root"===this.props.id,w={x:0,y:0},c&&(w.x=u.a.OffsetX,w.y=u.a.OffsetY),null!=this.state.children&&this.state.children.length>0)if(e=w.x,q=this.state.children.length,g=w.y+u.a.LinePosition,this.props.noDnD){for(C=this.state.children,l=h=0,y=C.length;h<y;l=++h)r=C[l],A=null!=(x=null!=(N=this.state.sizes[l])?N.width:void 0)?x:u.a.DefaultWidth,e+=A+(l+1<q?u.a.MarginX:0);i=o.a.createElement("line",{x1:w.x,y1:g,x2:e,y2:g,strokeWidth:u.a.LineSize,stroke:u.a.LineColor})}else{for(i=[],_=[],M=null,T=this.state.children,l=f=0,v=T.length;f<v;l=++f)r=T[l],I=null!=(S=this.state.sizes[l])?S:{},b=null!=(O=I.offsetY)?O:0,z=e,j=w.y-b,A=null!=(R=I.width)?R:u.a.DefaultWidth,s=null!=(P=I.height)?P:u.a.DefaultHeight,W=null!=(k=I.viewBox)?k:"0 "+-b+" "+A+" "+s,i.push(o.a.createElement(m.b,{key:r,id:r,enabled:a,x:z,y:j,viewBox:W,width:A,height:s})),t=null!=(D=I.branchesLine)&&D,n=t?e:e+A/2,null!=M&&_.push(o.a.createElement("line",{key:"line-"+l+"-"+r,x1:M,y1:g,x2:n,y2:g,strokeWidth:u.a.LineSize,stroke:u.a.LineColor})),t&&(E=n,n+=A,_.push(o.a.createElement("line",{key:"line-"+l+"-"+r+"-else",x1:E,y1:g,x2:n,y2:g,strokeWidth:u.a.LineSize,stroke:u.a.LineColor}))),M=n,e+=A+u.a.MarginX;i=o.a.createElement("g",null,_," ",i)}else c&&this.props.processing?i=this.createMessage(w,!1):(i=this.createMessage(w,!0,c,!1),this.props.noDnD||(i=o.a.createElement(d.a,{id:this.props.id,type:p.a.Types.TIMELINE},i)));return i},e}(r.PureComponent)},1450:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1414),l=n(1567),c=n(1424),u=n(1427),p=n(1441),h=n(1446);n.d(e,"a",function(){return d});var d,m,f,y=function(t,e){return function(){return t.apply(e,arguments)}},v=function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;m=function(t){function e(){return this.render=y(this.render,this),this.onClick=y(this.onClick,this),e.__super__.constructor.apply(this,arguments)}return v(e,t),e.propTypes={id:a.a.string.isRequired,type:a.a.string.isRequired,prop:a.a.string.isRequired,child:a.a.string,branch:a.a.number,children:a.a.element},e.GetType=function(t){return[t.type]},e.SpecDrop=function(){return{canDrop:function(t,e){return null==t.child},drop:function(t,n,r){var o,i,a,l,c;if(n.canDrop()&&(a=n.getItem(),a.id!==t.id&&null!=(c=s.a.Request("viewer::scene").toolpaths.current())&&null!=(i=c.lookup(t.id))))return null!=a.id&&(o=c.lookup(a.id)),null!=o&&null!=o.parent&&c.removeElement(a.id),l=e.AddElement(t,a.args,c,i),null==a.id&&(a.id=a.args.id=l),a.changed=!0,a}}},e.AddElement=function(t,e,n,r){var o;return o=n.upsertElement(t.id,e),r.update(function(e){return null!=t.branch?e.branches[t.branch][t.prop]=o:e[t.prop]=o},{validate:!1}),o},e.GetSizes=function(t){var e;return e={x:0,y:0},t===l.a.Types.CONDITION?(e.w=c.a.BranchConditionWidth,e.h=c.a.BranchConditionHeight,e.viewBox="0 0 "+e.w+" "+e.h):t===l.a.Types.WAYPOINT&&(e.w=c.a.SmallSocketWidth,e.h=c.a.SmallSocketHeight,e.viewBox="0 0 100 100"),e},e.prototype.onClick=function(t){var e,n;return t.preventDefault(),n=null==this.props.branch,e=function(t){return function(e){var n,r,o;if(null!=(r=s.a.Request("viewer::scene").toolpaths.current())&&null!=(n=r.lookup(t.props.id)))return o={},e(o),t.constructor.AddElement(t.props,o,r,n),r.changed()}}(this),s.a.Emit("modal::change",function(t){return function(){return o.a.createElement(h.a,{dynamicType:!0,includeTime:n,onDone:e})}}())},e.prototype.render=function(){var t,e,n,r,i,a;return i=this.constructor.GetSizes(this.props.type),this.props.type===l.a.Types.CONDITION?(e="#10A825",null!=this.props.child?n=this.props.children:(t="socket-to-fill",r=this.onClick,n=o.a.createElement(u.a,{decoration:"bold",size:c.a.BranchConditionFont,color:"#ffffff",halign:"middle",x:i.x+i.w/2,valign:"middle",y:i.y+i.h/2},"Click here\nto create a\ncondition")),o.a.createElement("g",{className:t,onClick:r},o.a.createElement("rect",{x:i.x,y:i.y,width:i.w,height:i.h,rx:3,ry:3,fill:e})," ",n)):(e=this.props.canDrop?"#909090":"#606060",a=o.a.createElement("g",null,o.a.createElement("rect",{x:i.x,y:i.y,width:i.w,height:i.h,rx:3,ry:3,fill:e})," ",this.props.children),this.props.connectDropTarget(a))},e}(r.PureComponent),f=l.a.MakeDnD(null,{type:m.GetType,spec:m.SpecDrop()},m,{disableRender:!0}),d=function(t,e,n,r,i){var a,s,l,c;return null==i&&(i=null),t.noDnD?null:(a=e[r],l=null!=i,null!=a&&(c=m.GetSizes(n),s=o.a.createElement(p.b,{key:a,id:a,enabled:t.enabled,inBranch:l,inSocket:!0,x:c.x,y:c.y,width:c.w,height:c.h,viewBox:c.viewBox})),o.a.createElement(f,{id:t.id,type:n,prop:r,child:a,branch:i},s))}},1452:function(t,e,n){"use strict";var r=n(1546),o=n.n(r),i=n(1547),a=n.n(i),s=n(1548),l=n.n(s),c=n(1549),u=n.n(c),p=n(1550),h=n.n(p),d=n(1551),m=n.n(d),f=n(1552),y=n.n(f);e.a=[o.a,a.a,l.a,u.a,h.a,m.a,y.a]},1453:function(t,e,n){"use strict";var r=n(1553),o=n.n(r),i=n(1554),a=n.n(i),s=n(1555),l=n.n(s),c=n(1556),u=n.n(c),p=n(1557),h=n.n(p),d=n(1558),m=n.n(d),f=n(1559),y=n.n(f);e.a=[o.a,a.a,l.a,u.a,h.a,m.a,y.a]},1455:function(t,e,n){"use strict";n(1254),n(1255),n(1256)},1456:function(t,e,n){"use strict";var r=n(1560),o=(n.n(r),n(1540));n.n(o),n(1455)},1457:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1673),g=(n.n(v),n(1543)),_=n.n(g);n.d(e,"a",function(){return E});var b,w,E=(w=b=function(t){function e(){var t,r,i,s;a()(this,e);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return r=i=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.activeClass=function(t){return i.props.paths[t].active?"active":""},i.navItem=function(t,e,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.props.paths[t];return n.i(v.exists)(s)?m.a.createElement("li",{className:"nav-item "+i.activeClass(t)},m.a.createElement("a",o()({className:"nav-link",href:s.path},a),m.a.createElement("i",{className:"fa fa-"+e})," ",r)):null},i.dropItem=function(t,e,r){var o=i.props.paths[t];return n.i(v.exists)(o)?m.a.createElement("a",{className:"dropdown-item "+i.activeClass(t),href:o.path},m.a.createElement("i",{className:"fa fa-"+e})," ",r):null},s=r,u()(i,s)}return h()(e,t),l()(e,[{key:"render",value:function(){var t=null,e=null;if(!this.props.setup)if(n.i(v.exists)(this.props.email)){var r=null;this.props.expert_dashboard&&(r=this.navItem("expert_dashboard","flask","Expert Dashboard")),t=m.a.createElement("ul",{className:"navbar-nav mr-auto"},this.navItem("dashboard","dashboard","Dashboard"),this.navItem("viewer","cube","Viewer"),r),e=m.a.createElement("ul",{className:"navbar-nav"},m.a.createElement("li",{className:"nav-item dropdown"},m.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbar-user-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},m.a.createElement("i",{className:"fa fa-user-circle-o"})," ",this.props.email),m.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"navbar-user-dropdown"},this.dropItem("profile","user","Profile"),this.dropItem("logout","sign-out","Logout"))))}else t=m.a.createElement("ul",{className:"navbar-nav mr-auto"}),e=m.a.createElement("ul",{className:"navbar-nav"},this.navItem("sign_in","sign-in","Login"),this.navItem("sign_up","user-plus","Sign up"));return m.a.createElement("nav",{className:"navbar navbar-toggleable-sm navbar-light bg-faded"},m.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbar-collapse","aria-controls":"navbar-collapse","aria-expanded":"false","aria-label":"Toggle navigation"},m.a.createElement("span",{className:"navbar-toggler-icon"})),m.a.createElement("a",{className:"navbar-brand",href:"/"},m.a.createElement("img",{src:_.a,alt:"Automata"})),m.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar-collapse"},t,e))}}]),e}(d.PureComponent),b.propTypes={email:y.a.string,expert_dashboard:y.a.bool.isRequired,paths:y.a.object.isRequired,setup:y.a.bool.isRequired},w)},1458:function(t,e,n){"use strict";var r=n(1625),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1414),g=n(255);n.n(g);n.d(e,"a",function(){return w});var _,b,w=(b=_=function(t){function e(t){a()(this,e);var n=u()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onNewNotification=function(t,e,n){var r=t;"alert"===t?r="error":"notice"===t&&(r="success"),g.NotificationManager[r](e,n,5e3)},v.a.Register("notifications::new",n.onNewNotification),n}return h()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.props.messages[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;this.onNewNotification.apply(this,o()(a))}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}}},{key:"render",value:function(){return m.a.createElement(g.NotificationContainer,null)}}]),e}(d.PureComponent),_.propTypes={messages:y.a.array},_.defaultProps={messages:[]},b)},1459:function(t,e,n){(function(t){t.GenericLoader=function(e){this.manager=void 0!==e?e:t.DefaultLoadingManager},t.GenericLoader.prototype={constructor:t.GenericLoader,load:function(t,e,n,r,o){function i(){n&&n(t),s.manager.itemEnd(t)}function a(e){o&&o(e||t),s.manager.itemError(e||t)}var s=this;s.manager.itemStart(t),setTimeout(function(){e(i,a)},0)}}}).call(e,n(1416))},1463:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1566),l=n(1428),c=n(1429),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(){return this.render=u(this.render,this),this.componentWillMount=u(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.propTypes={user:a.a.object.isRequired,errors:a.a.object.isRequired,url:a.a.string.isRequired,remember_me:a.a.bool.isRequired,password_url:a.a.string.isRequired,authenticity_token:a.a.string.isRequired},e.prototype.componentWillMount=function(){return this.email={type:"email",required:"true",defaultValue:this.props.user.email,autoFocus:!0,name:"user[email]"},this.password={type:"password",required:"true",defaultValue:this.props.user.password,autoComplete:"off",name:"user[password]"}},e.prototype.render=function(){var t,e;return t=o.a.createElement("a",{href:this.props.password_url},"Forgot your password?"),this.props.remember_me&&(e=o.a.createElement("div",{className:"form-check"},o.a.createElement("label",{className:"form-check-label",id:"user_remember_me"},o.a.createElement("input",{type:"checkbox",name:"user[remember_me]",id:"user_remember_me",className:"form-check-input",value:"1"}),o.a.createElement("input",{type:"hidden",name:"user[remember_me]",value:"0"}),"Remember me"))),o.a.createElement(s.a,{title:"Log In",color:"blue",footer:t},o.a.createElement(l.a,{url:this.props.url,authenticity_token:this.props.authenticity_token},o.a.createElement(c.a,{id:"user_email",label:"Email",addon:"envelope",inputProps:this.email,error:this.props.errors.email}),o.a.createElement(c.a,{id:"user_password",label:"Password",addon:"lock",inputProps:this.password,error:this.props.errors.password}),e,o.a.createElement("button",{type:"submit",className:"btn btn-primary mt-3"},o.a.createElement("i",{className:"fa fa-sign-in"})," Log in")))},e}(r.PureComponent)},1464:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1566),l=n(1428),c=n(1429),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(){return this.render=u(this.render,this),this.componentWillMount=u(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.propTypes={user:a.a.object.isRequired,errors:a.a.object.isRequired,url:a.a.string.isRequired,password_length:a.a.number,reset_password_token:a.a.string.isRequired,authenticity_token:a.a.string.isRequired},e.prototype.componentWillMount=function(){return this.password1={type:"password",required:"true",defaultValue:this.props.user.password,autoFocus:!0,autoComplete:"off",name:"user[password]"},this.password2={type:"password",required:"true",defaultValue:this.props.user.password_confirmation,autoComplete:"off",name:"user[password_confirmation]"}},e.prototype.render=function(){var t,e,n;return null!=this.props.password_length&&(t=o.a.createElement("small",{className:"form-text text-muted"},this.props.password_length," characters minimum")),null!=this.props.errors.reset_password_token&&(n=this.props.errors.reset_password_token,Array.isArray(n)&&(n=n.join(", ")),e=o.a.createElement("div",{className:"alert alert-danger",role:"alert"},o.a.createElement("strong",null,"Reset Password Token")," ",n)),o.a.createElement(s.a,{title:"Change your password",color:"green"},o.a.createElement(l.a,{url:this.props.url,method:"PUT",authenticity_token:this.props.authenticity_token},o.a.createElement("div",null,o.a.createElement("input",{type:"hidden",id:"user_reset_password_token",name:"user[reset_password_token]",value:this.props.reset_password_token}),e),o.a.createElement(c.a,{id:"user_password",label:"New password",addon:"lock",inputProps:this.password1,error:this.props.errors.password},t),o.a.createElement(c.a,{id:"user_password_confirmation",label:"Password Confirmation",addon:"lock",inputProps:this.password2,error:this.props.errors.password_confirmation}),o.a.createElement("button",{type:"submit",className:"btn btn-primary mt-3"},o.a.createElement("i",{className:"fa fa-paper-plane"})," Change my password")))},e}(r.PureComponent)},1465:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1566),l=n(1428),c=n(1429),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(){return this.render=u(this.render,this),this.componentWillMount=u(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.propTypes={user:a.a.object.isRequired,errors:a.a.object.isRequired,url:a.a.string.isRequired,authenticity_token:a.a.string.isRequired},e.prototype.componentWillMount=function(){return this.email={type:"email",required:"true",defaultValue:this.props.user.email,autoFocus:!0,name:"user[email]"}},e.prototype.render=function(){return o.a.createElement(s.a,{title:"Forgot your password?",color:"yellow"},o.a.createElement(l.a,{url:this.props.url,authenticity_token:this.props.authenticity_token},o.a.createElement(c.a,{id:"user_email",label:"Email",addon:"envelope",inputProps:this.email,error:this.props.errors.email}),o.a.createElement("button",{type:"submit",className:"btn btn-primary mt-3"},o.a.createElement("i",{className:"fa fa-paper-plane"})," Send me reset password instructions")))},e}(r.PureComponent)},1466:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1566),l=n(1428),c=n(1429),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(){return this.render=u(this.render,this),this.componentWillMount=u(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.propTypes={user:a.a.object.isRequired,errors:a.a.object.isRequired,url:a.a.string.isRequired,password_length:a.a.number,add_token_url:a.a.string.isRequired,tokens:a.a.array.isRequired,authenticity_token:a.a.string.isRequired},e.prototype.componentWillMount=function(){return this.email={type:"email",required:"true",defaultValue:this.props.user.email,autoFocus:!0,name:"user[email]"},this.password={type:"password",required:"true",defaultValue:this.props.user.current_password,autoComplete:"off",name:"user[current_password]"},this.password1={type:"password",defaultValue:this.props.user.password,autoComplete:"off",name:"user[password]"},this.password2={type:"password",defaultValue:this.props.user.password_confirmation,autoComplete:"off",name:"user[password_confirmation]"}},e.prototype.render=function(){var t,e,n;return null!=this.props.password_length&&(e=", otherwise it should be "+this.props.password_length+" characters minimum"),null!=this.props.tokens&&this.props.tokens.length>0?(t=this.props.authenticity_token,n=this.props.tokens.map(function(e){return function(e,n){return o.a.createElement(l.a,{method:"DELETE",url:e.url,authenticity_token:t,key:n},o.a.createElement("div",{className:"row mb-3"},o.a.createElement("pre",{className:"col-11 mb-0"},e.access),o.a.createElement("button",{type:"submit",className:"col-1 close",style:{overflowY:"hidden",marginTop:"-5px"}},"×")))}}())):n=o.a.createElement("p",null,"No API token yet, click 'Generate Token' to create one"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-md-7"},o.a.createElement(s.a,{title:"Edit Profile",color:"blue"},o.a.createElement(l.a,{url:this.props.url,method:"PUT",authenticity_token:this.props.authenticity_token},o.a.createElement(c.a,{id:"user_email",label:"Email",addon:"envelope",inputProps:this.email,error:this.props.errors.email}),o.a.createElement(c.a,{id:"user_current_password",label:"Current Password",addon:"lock",inputProps:this.password,error:this.props.errors.current_password},o.a.createElement("small",{className:"form-text text-muted"},"We need your current password to confirm your changes")),o.a.createElement(c.a,{id:"user_password",label:"Password",addon:"lock",inputProps:this.password1,error:this.props.errors.password},o.a.createElement("small",{className:"form-text text-muted"},"Leave blank if you don't want to change it",e)),o.a.createElement(c.a,{id:"user_password_confirmation",label:"Password Confirmation",addon:"lock",inputProps:this.password2,error:this.props.errors.password_confirmation}),o.a.createElement("button",{type:"submit",className:"btn btn-primary mt-3"},o.a.createElement("i",{className:"fa fa-pencil"})," Update")))),o.a.createElement("div",{className:"col-12 col-md-5 mt-3 mt-md-0"},o.a.createElement(s.a,{title:"API Access Tokens",color:"green"},n,o.a.createElement(l.a,{url:this.props.add_token_url,method:"PUT",authenticity_token:this.props.authenticity_token},o.a.createElement("button",{type:"submit",className:"btn btn-success"},o.a.createElement("i",{className:"fa fa-plus"})," Generate Token")))))},e}(r.PureComponent)},1467:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1566),l=n(1428),c=n(1429),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(){return this.render=u(this.render,this),this.componentWillMount=u(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.propTypes={user:a.a.object.isRequired,errors:a.a.object.isRequired,url:a.a.string.isRequired,password_length:a.a.number,authenticity_token:a.a.string.isRequired,title:a.a.string},e.defaultProps={title:"Sign up"},e.prototype.componentWillMount=function(){return this.email={type:"email",required:"true",defaultValue:this.props.user.email,autoFocus:!0,name:"user[email]"},this.password1={type:"password",required:"true",defaultValue:this.props.user.password,autoComplete:"off",name:"user[password]"},this.password2={type:"password",required:"true",defaultValue:this.props.user.password_confirmation,autoComplete:"off",name:"user[password_confirmation]"}},e.prototype.render=function(){var t;return null!=this.props.password_length&&(t=o.a.createElement("small",{className:"form-text text-muted"},this.props.password_length," characters minimum")),o.a.createElement(s.a,{title:this.props.title,color:"green"},o.a.createElement(l.a,{url:this.props.url,authenticity_token:this.props.authenticity_token},o.a.createElement(c.a,{id:"user_email",label:"Email",addon:"envelope",inputProps:this.email,error:this.props.errors.email}),o.a.createElement(c.a,{id:"user_password",label:"Password",addon:"lock",inputProps:this.password1,error:this.props.errors.password},t),o.a.createElement(c.a,{id:"user_password_confirmation",label:"Password Confirmation",addon:"lock",inputProps:this.password2,error:this.props.errors.password_confirmation}),o.a.createElement("button",{type:"submit",className:"btn btn-primary mt-3"},o.a.createElement("i",{className:"fa fa-user-plus"})," Sign up")))},e}(r.PureComponent)},1472:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(50),l=n.n(s),c=n(10),u=n.n(c),p=n(257),h=n.n(p),d=function(t,e){return function(){return t.apply(e,arguments)}},m=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;e.a=function(t){function e(t){this.render=d(this.render,this),this.value=d(this.value,this),this.shown=d(this.shown,this),this.onChangeSlider=d(this.onChangeSlider,this),this.onChange=d(this.onChange,this),this.componentDidMount=d(this.componentDidMount,this),e.__super__.constructor.call(this,t),this.state={value:null!=t.value?t.value:t.min}}return m(e,t),e.propTypes={id:a.a.string.isRequired,type:a.a.string.isRequired,value:a.a.node,min:a.a.number,max:a.a.number,step:a.a.number,options:a.a.arrayOf(a.a.shape({name:a.a.string.isRequired,value:a.a.node.isRequired}).isRequired)},e.prototype.componentDidMount=function(){if(null!=this.refs.slider)return u()(l.a.findDOMNode(this.refs.slider)).on("custom:trigger",function(t){return function(){return t.refs.slider._handleResize()}}(this))},e.prototype.onChange=function(t){var e;return e=parseFloat(t.target.value),isNaN(e)&&(e=0),this.setState({value:e})},e.prototype.onChangeSlider=function(){return this.setState({value:this.refs.slider.getValue()})},e.prototype.shown=function(){return null!=this.refs.slider&&u()(l.a.findDOMNode(this.refs.slider)).trigger("custom:trigger"),u()("#"+this.props.id).focus()},e.prototype.value=function(){return"progress"===this.props.type?this.state.value:this.refs.field.value},e.prototype.render=function(){var t,e;return"progress"===this.props.type?t=o.a.createElement("div",null,o.a.createElement("input",{id:this.props.id,className:"form-control",value:this.state.value,required:"required",type:"text",placeholder:"Enter a value",onChange:this.onChange}),o.a.createElement(h.a,{ref:"slider",className:"slider",min:this.props.min,value:this.state.value,max:this.props.max,step:this.props.step,onAfterChange:this.onChangeSlider,onChange:this.onChangeSlider,withBars:!0})):"select"===this.props.type?(e=this.props.options.map(function(t){return function(t,e){return o.a.createElement("option",{key:e,value:t.value},t.name)}}()),t=o.a.createElement("select",{ref:"field",id:this.props.id,className:"form-control",defaultValue:this.props.value,required:"required"},e)):t=o.a.createElement("input",{ref:"field",id:this.props.id,className:"form-control",defaultValue:this.props.value,required:"required",type:"text",placeholder:"Enter a value"}),t},e}(r.PureComponent)},1473:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(370),l=n.n(s),c=n(10),u=n.n(c),p=n(1566),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.updateScroll=h(this.updateScroll,this),this.isAtBottom=h(this.isAtBottom,this),this.getObserver=h(this.getObserver,this),this.asMessages=h(this.asMessages,this),this.componentDidMount=h(this.componentDidMount,this),this.componentWillMount=h(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.observer=this.getObserver(),this.props.producer.observe(this.observer),this.state={messages:[]}}return d(e,t),e.propTypes={producer:a.a.object.isRequired},e.prototype.componentWillMount=function(){return this.props.producer.request(this.observer)},e.prototype.componentDidMount=function(){return this.updateScroll(),u()(this.refs.root).find(".collapse").on("shown.bs.collapse",function(t){return function(){return t.updateScroll()}}(this))},e.prototype.asMessages=function(t){return t instanceof Array?t:[t]},e.prototype.getObserver=function(){return{received:function(t){return function(e){var n;if(null!=e.logging&&(n=t.isAtBottom(),t.setState({messages:l()(t.state.messages,{$push:t.asMessages(e.logging.message)})}),n))return t.updateScroll()}}(this)}},e.prototype.isAtBottom=function(){var t;return!!this.refs.console&&(t=u()(this.refs.console),t.prop("scrollHeight")-t.scrollTop()===t.prop("clientHeight"))},e.prototype.updateScroll=function(){var t;if(this.refs.console)return t=u()(this.refs.console),t.scrollTop(t.prop("scrollHeight"))},e.prototype.render=function(){var t;return t=this.state.messages.length>0?o.a.createElement("pre",{className:"console p-2 mb-0",ref:"console"},this.state.messages.map(function(t,e){return o.a.createElement("div",{className:"console-message",key:e},t)})):o.a.createElement("p",{className:"console text-center p-5"},"No log yet"),o.a.createElement("div",{className:"dashboard-console",ref:"root"},o.a.createElement(p.a,{title:"Console",icon:"terminal",color:"blue",collapse:!0},t))},e}(r.PureComponent)},1474:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1566),u=n(1564),p=n(1768),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.send=h(this.send,this),this.validate=h(this.validate,this),e.__super__.constructor.call(this,t),this.colClasses="col-6 col-sm-3 col-md-4 col-col-lg3 bld-lbl",this.state={errors:{}}}return d(e,t),e.propTypes={joints:a.a.number.isRequired,send:a.a.func.isRequired},e.prototype.validate=function(t){var e,n,r,o,i,a,s;for(a=!0,n={},i=[{n:"a0"},{n:"a1"},{n:"a2"},{n:"a3"},{n:"a4"},{n:"a5"},{n:"timestep",t:"time"},{n:"duration",t:"time"}],r=0,o=i.length;r<o;r++)e=i[r],s=parseFloat(l()(this.refs[e.n]).val()),isNaN(s)?(a=!1,n[e.n]="Invalid value"):("time"===e.t?s<=0&&(a=!1,n[e.n]="Must be greater than 0"):(s>180||-180>s)&&(a=!1,n[e.n]="Must be between 180 and -180"),t[e.n]=s);return this.setState({errors:n}),a},e.prototype.send=function(t){var e,r;if(t.preventDefault(),r={},this.validate(r))return e={a0:r.a0,a1:r.a1,a2:r.a2,a3:r.a3,a4:r.a4,a5:r.a5,timestep:r.timestep,duration:r.duration},this.props.send(n.i(p.c)(p.d.PID_TUNE,{pid_tuning:e}))},e.prototype.render=function(){var t,e,n,r;return t=this.colClasses,e=this.state.errors,r=function(){n=[];for(var t=0,e=this.props.joints;0<=e?t<e:t>e;0<=e?t++:t--)n.push(t);return n}.apply(this).map(function(n){return function(n){var r,i;return i="a"+n,r="dash_pid_"+i,o.a.createElement("div",{className:t,key:n},o.a.createElement(u.a,{name:r,label:"Servo "+(n+1),error:e[i]},o.a.createElement("input",{id:r,className:"form-control",placeholder:"0",required:"true",ref:i,defaultValue:"0"})))}}()),o.a.createElement(c.a,{title:"PID Tuning",icon:"music",color:"red",collapse:!0},o.a.createElement("div",{className:"row"},r,o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_pid_duration",label:"Duration",error:this.state.errors.duration},o.a.createElement("input",{id:"dash_pid_duration",className:"form-control",placeholder:"1",required:"true",ref:"duration",defaultValue:"1"}))),o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_pid_timestep",label:"Time step",error:this.state.errors.timestep},o.a.createElement("input",{id:"dash_pid_timestep",className:"form-control",placeholder:"0.1",required:"true",ref:"timestep",defaultValue:"0.005"}))),o.a.createElement("div",{className:this.colClasses+" mt-4"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.send},o.a.createElement("i",{className:"fa fa-paper-plane"})," Send"))))},e}(r.PureComponent)},1475:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1566),u=n(1564),p=n(1415),h=n(1768),d=function(t,e){return function(){return t.apply(e,arguments)}},m=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;e.a=function(t){function e(t){this.render=d(this.render,this),this.output=d(this.output,this),this.getObserver=d(this.getObserver,this),this.send=d(this.send,this),this.sendWrite=d(this.sendWrite,this),this.sendRead=d(this.sendRead,this),this.validate=d(this.validate,this),this.componentWillMount=d(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.observer=this.getObserver(),this.props.producer.observe(this.observer),this.colClasses="col-6 col-sm-3 col-md-4 col-lg-4 bld-lbl",this.state={loading:!1,result:{},errors:{}}}return m(e,t),e.propTypes={joints:a.a.number.isRequired,send:a.a.func.isRequired,producer:a.a.object.isRequired},e.prototype.componentWillMount=function(){return this.props.producer.request(this.observer)},e.prototype.validate=function(t,e){var n,r,o,i,a,s,c,u;for(c=!0,r={},a=[{n:"servo"},{n:"index",l:2},{n:"sub_index",l:1},{n:"length",l:1},{n:"data",l:4,r:!1}],o=0,i=a.length;o<i;o++)n=a[o],(t||null==n.r||n.r)&&(u=l()(this.refs[n.n]).val(),u=null!=n.l?parseInt(u,16):parseInt(u),isNaN(u)?(c=!1,r[n.n]="Invalid value: must be hexadecimal"):(null!=n.l&&(s=Math.pow(2,8*n.l)),null!=n.l&&(u<0||u>s)&&(c=!1,r[n.n]="Invalid value: should be between 0x0 and 0x"+s.toString(16)),e[n.n]=u));return this.setState({errors:r}),c},e.prototype.sendRead=function(t){return this.send(!1,t)},e.prototype.sendWrite=function(t){return this.send(!0,t)},e.prototype.send=function(t,e){var n,r,o;if(e.preventDefault(),r={},this.validate(t,r))return o=t?h.n.WRITE:h.n.READ,n={index:r.index,sub_index:r.sub_index,length:r.length,data:r.data,rw:o,servo:r.servo},this.props.send({type:h.f.SDO,sdo:n}),this.setState({loading:!0})},e.prototype.getObserver=function(){return{received:function(t){return function(e){if(null!=e.sdo&&e.sdo.rw===h.n.RESULT)return t.setState({loading:!1,result:{servo:e.sdo.servo,data:e.sdo.data}})}}(this)}},e.prototype.output=function(){var t,e;if(e=!1,this.state.loading)e=!0,t=o.a.createElement("div",{className:"card-block"},o.a.createElement("i",{className:"fa fa-refresh fa-spin fa-3x fa-fw"}));else{if(null==this.state.result.servo)return null;t=o.a.createElement("div",{className:"card-block"},o.a.createElement("div",null,o.a.createElement("strong",null,"Servo:")," ",this.state.result.servo+1),o.a.createElement("div",null,o.a.createElement("strong",null,"Data:")," ",this.state.result.data," (",n.i(p.o)(8,this.state.result.data),")"))}return o.a.createElement("div",{className:"col-12 mt-3"},o.a.createElement("div",{className:"card "+(e?"text-center":""),style:{backgroundColor:"#ddd",borderColor:"#ddd"}},t))},e.prototype.render=function(){var t,e;return e=function(){t=[];for(var e=1,n=this.props.joints;1<=n?e<=n:e>=n;1<=n?e++:e--)t.push(e);return t}.apply(this).map(function(t){return function(t){return o.a.createElement("option",{key:t,value:t-1},"Servo ",t)}}()),o.a.createElement(c.a,{title:"SDO Transmission",icon:"flask",color:"yellow",collapse:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_sdo_idx",label:"Index",error:this.state.errors.index},o.a.createElement("input",{id:"dash_sdo_idx",className:"form-control",placeholder:"0x1234",required:"true",ref:"index"}))),o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_sdo_sub_idx",label:"Sub-Index",error:this.state.errors.sub_index},o.a.createElement("input",{id:"dash_sdo_sub_idx",className:"form-control",placeholder:"0x12",required:"true",ref:"sub_index"}))),o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_sdo_servo",label:"Servo",error:this.state.errors.servo},o.a.createElement("select",{id:"dash_sdo_servo",className:"form-control",ref:"servo"},e))),o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_sdo_length",label:"Length",error:this.state.errors.length},o.a.createElement("input",{id:"dash_sdo_length",className:"form-control",placeholder:"0x00",required:"true",ref:"length"}))),o.a.createElement("div",{className:this.colClasses},o.a.createElement(u.a,{name:"dash_sdo_data",label:"Data",error:this.state.errors.data},o.a.createElement("input",{id:"dash_sdo_data",className:"form-control",placeholder:"0x12345678",required:"true",ref:"data"}))),o.a.createElement("div",{className:this.colClasses},o.a.createElement("div",{className:"btn-group-vertical",role:"group","aria-label":"Read/Write"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.sendRead},o.a.createElement("i",{className:"fa fa-eye"})," Read"),o.a.createElement("button",{className:"btn btn-info",onClick:this.sendWrite},o.a.createElement("i",{className:"fa fa-pencil"})," Write"))),this.output()))},e}(r.PureComponent)},1480:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1770),l=n(1414),c=n(1568),u=n(70),p=n.n(u),h=n(1771),d=n(1481),m=n(1482),f=n(1475),y=n(1474),v=n(1473),g=n(1671),_=n(1484),b=function(t,e){return function(){return t.apply(e,arguments)}},w=function(t,e){function n(){this.constructor=t}for(var r in e)E.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},E={}.hasOwnProperty;e.a=function(t){function e(t){this.render=b(this.render,this),this.channelSend=b(this.channelSend,this),this.componentWillUnmount=b(this.componentWillUnmount,this);var n;e.__super__.constructor.call(this,t),this.producer=new s.a(null!=(n=this.props.cache)?n:{}),"undefined"!=typeof document&&null!==document&&(this.cable=p.a.createConsumer(),this.channel=new h.a(this.cable),this.producer.forward(this.channel))}return w(e,t),e.propTypes={joint_number:a.a.number.isRequired,cache:a.a.object.isRequired},e.prototype.componentWillUnmount=function(){return this.producer.stop(this.channel),this.channel.destroy(),this.cable.disconnect(),l.a.Clear()},e.prototype.channelSend=function(t){return this.channel.send(t)},e.prototype.render=function(){return o.a.createElement("div",{className:"expert-dashboard"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-md-4"},o.a.createElement(d.a,{producer:this.producer})),o.a.createElement("div",{className:"col-12 col-md-8 mt-3 mt-md-0"},o.a.createElement(m.a,{producer:this.producer})),o.a.createElement("div",{className:"col-12 col-md-6 mt-3"},o.a.createElement(f.a,{joints:this.props.joint_number,send:this.channelSend,producer:this.producer})),o.a.createElement("div",{className:"col-12 col-md-6 mt-3"},o.a.createElement(y.a,{joints:this.props.joint_number,send:this.channelSend})),o.a.createElement("div",{className:"col-11 mt-3"},o.a.createElement(v.a,{producer:this.producer})),o.a.createElement("div",{className:"col-12 mt-5"},o.a.createElement(g.a,{producer:this.producer,send:this.channelSend})),o.a.createElement("div",{className:"col-12 mt-5 mb-3"},o.a.createElement(_.a,{ref:"servos",joints:this.props.joint_number,producer:this.producer,send:this.channelSend}))),o.a.createElement(c.a,null))},e}(r.PureComponent)},1481:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(t){this.render=s(this.render,this),e.__super__.constructor.call(this,t),this.observer={connected:function(t){return function(e){return t.setState({text:e?"Connected":"Disconnected",icon:e?"plug":"power-off",color:e?"success":"danger"})}}(this)},this.props.producer.observe(this.observer),this.state={text:"Waiting for connection",color:"warning",icon:"clock-o"}}return l(e,t),e.propTypes={producer:a.a.object},e.prototype.render=function(){return o.a.createElement("div",{className:"card card-inverse card-"+this.state.color},o.a.createElement("div",{className:"card-block d-flex justify-content-center align-items-center"},o.a.createElement("h4",{className:"card-title mb-0"},o.a.createElement("i",{className:"fa fa-"+this.state.icon})," ",this.state.text)))},e}(r.PureComponent)},1482:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1768),l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;e.a=function(t){function e(t){this.render=l(this.render,this),this.getObserver=l(this.getObserver,this),this.componentWillMount=l(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.observer=this.getObserver(),this.props.producer.observe(this.observer),this.state={errors:{}}}return c(e,t),e.propTypes={producer:a.a.object.isRequired},e.prototype.componentWillMount=function(){return this.props.producer.request(this.observer)},e.prototype.getObserver=function(){return{received:function(t){return function(e){var n,r,o,i,a,s,l;if(null!=e.servo_data){for(i=e.servo_data,a=[],s=r=0,o=i.length;r<o;s=++r)null!=(l=i[s])&&(null!=l.errors?(n=Object.assign({},t.state.errors),n[s]=l.errors.error_state,a.push(t.setState({errors:n}))):a.push(void 0));return a}}}(this)}},e.prototype.render=function(){var t,e,n,r,i,a,l,c;c=s.l.NONE,a=this.state.errors;for(t in a)(r=a[t])>c&&(c=r);return c===s.l.SOFT?(l="Soft error",i="exclamation-circle",e="warning"):c===s.l.HARD?(l="Hard error",i="times-circle",e="danger"):(l="No error",i="thumbs-up",e="success"),n=o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-"+i})," ",l),o.a.createElement("div",{className:"card card-inverse card-"+e},o.a.createElement("div",{className:"card-block d-flex justify-content-center align-items-center"},o.a.createElement("h4",{className:"card-title mb-0"},n)))},e}(r.PureComponent)},1483:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1768),u=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e.a=function(t){function e(t){this.render=u(this.render,this),this.onChange=u(this.onChange,this),this.getObserver=u(this.getObserver,this),this.componentWillMount=u(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.observer=this.getObserver(),this.props.producer.observe(this.observer),this.state={heartbeats:{},errors:{}}}return p(e,t),e.propTypes={current:a.a.number.isRequired,total:a.a.number.isRequired,onChange:a.a.func.isRequired,producer:a.a.object.isRequired},e.prototype.componentWillMount=function(){return this.props.producer.request(this.observer)},e.prototype.getObserver=function(){return{received:function(t){return function(e){var n,r,o,i,a,s,l,c,u;if(i={heartbeats:t.state.heartbeats,errors:t.state.errors},null!=e.servo_data)for(a=e.servo_data,c=r=0,o=a.length;r<o;c=++r)null!=(u=a[c])&&(null!=(null!=(s=u.heartbeat)?s.valid:void 0)&&(n=Object.assign({},i.heartbeats),n[c]=u.heartbeat.valid,i.heartbeats=n),null!=(null!=(l=u.errors)?l.error_state:void 0)&&(n=Object.assign({},i.errors),n[c]=u.errors.error_state,i.errors=n));return t.setState(i)}}(this)}},e.prototype.onChange=function(t){var e;if(t.preventDefault(),null!=(e=l()(t.target).data("index")))return this.props.onChange(e)},e.prototype.render=function(){var t,e;return e=function(){t=[];for(var e=0,n=this.props.total;0<=n?e<n:e>n;0<=n?e++:e--)t.push(e);return t}.apply(this).map(function(t){return function(e){var n,r,i,a,s,l,u,p;return i=t.state.errors[e],i!==c.l.SOFT&&i!==c.l.HARD||(u=i===c.l.SOFT,l=u?"exclamation-circle":"times-circle",n=u?"warning":"danger",a=o.a.createElement("span",{className:"text-"+n},o.a.createElement("i",{className:"fa fa-"+l}))),r=t.props.current,p=t.onChange,s=t.state.heartbeats[e],o.a.createElement("li",{key:e,className:"nav-item"},o.a.createElement("a",{href:"#servo"+e,className:"nav-link "+(e==r?"active":""),onClick:p,"data-index":e},o.a.createElement("span",{className:"led state-"+(1==s?"ok":"ko")},o.a.createElement("i",{className:"fa fa-circle"})),"  Servo ",e+1," ",a))}}(this)),o.a.createElement("ul",{className:"nav nav-pills nav-justified flex-column flex-md-row"},e)},e}(r.PureComponent)},1484:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1483),l=n(1494),c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e.a=function(t){function e(t){this.render=c(this.render,this),this.changeTab=c(this.changeTab,this),e.__super__.constructor.call(this,t),this.state={current:0}}return u(e,t),e.propTypes={joints:a.a.number.isRequired,producer:a.a.object.isRequired,send:a.a.func.isRequired},e.prototype.changeTab=function(t){return this.setState({current:t})},e.prototype.render=function(){return o.a.createElement("div",null,o.a.createElement(s.a,{current:this.state.current,total:this.props.joints,onChange:this.changeTab,producer:this.props.producer}),o.a.createElement("div",{className:"mt-3"},o.a.createElement(l.a,{servo_id:this.state.current,producer:this.props.producer,send:this.props.send})))},e}(r.PureComponent)},1486:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1563),u=n(1438),p=n(1432),h=n(1787),d=n(1768),m=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;e.a=function(t){function e(){return this.render=m(this.render,this),this.errorFormatter=m(this.errorFormatter,this),this.componentWillMount=m(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return f(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.componentWillMount=function(){return this.ignoreZero=[d.g]},e.prototype.errorFormatter=function(t){var e;return"Hard Error"===t?e=a.a.createElement("i",{className:"fa fa-times-circle"}):"Soft Error"===t&&(e=a.a.createElement("i",{className:"fa fa-exclamation-circle"})),a.a.createElement("span",null,e," ",t)},e.prototype.render=function(){return this.sprops={category:this.props.category+".errors",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:"Errors",color:"red",icon:"exclamation-triangle"},a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"error_state",label:"Error State",ignore:this.ignoreZero,enums:d.h,formatter:this.errorFormatter,editable:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"hardware_startup",label:"Hardware Startup"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"can_bus",label:"CAN Bus"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"motor_encoder",label:"Motor Encoder"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"output_encoder",label:"Output Encoder"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"drv8305",label:"DRV8305"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"board_temperature",label:"Board Temperature"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"motor_temperature",label:"Motor Temperature"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"soft_current_limit",label:"Soft Current Limit"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"hard_current_limit",label:"Hard Current Limit"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"hall_effect_sensor",label:"Hall Effect Sensor"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"pid_angle",label:"PID Angle"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"encoder_mismatch",label:"Encoder Mismatch"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"torque_sensor",label:"Torque Sensor"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"angle_range",label:"Angle Range"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"setpoints_mismatch",label:"SetPoints Mismatch"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"setpoints_missing",label:"SetPoints Missing"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"reset_errors",label:"Reset errors",action:"Reset"}))))},e}(i.PureComponent)},1487:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(38),u=n.n(c),p=n(1563),h=n(1438),d=n(1426),m=n(1415),f=function(t,e){return function(){return t.apply(e,arguments)}},y=function(t,e){function n(){this.constructor=t}for(var r in e)v.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;e.a=function(t){function e(){return this.render=f(this.render,this),this.timeFormatter=f(this.timeFormatter,this),this.hexFormatter=f(this.hexFormatter,this),this.componentWillMount=f(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return y(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.componentWillMount=function(){return this.validEnum={true:"OK",false:"Timeout"}},e.prototype.hexFormatter=function(t){return n.i(m.o)(2,t)},e.prototype.timeFormatter=function(t){return u.a.unix(t).format("HH:mm:ss")},e.prototype.render=function(){return this.sprops={category:this.props.category+".heartbeat",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(p.a,{label:"Heartbeat",color:"red",icon:"heartbeat"},a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"valid",label:"Status",enums:this.validEnum,editable:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(d.a,o()({},this.sprops,{name:"code",label:"Code",formatter:this.hexFormatter,editable:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(d.a,o()({},this.sprops,{name:"timestamp",label:"Last timestamp",formatter:this.timeFormatter,editable:!1}))))},e}(i.PureComponent)},1488:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1443),u=n(1442),p=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;e.a=function(t){function e(){return this.render=p(this.render,this),e.__super__.constructor.apply(this,arguments)}return h(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired,name:l.a.string.isRequired,label:l.a.string.isRequired},e.prototype.render=function(){return this.sprops={category:this.props.category+"."+this.props.name,servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:this.props.label},a.a.createElement("div",{className:"mt-2"},a.a.createElement(u.a,o()({},this.sprops,{name:"position",label:"Position",small:!0}))),a.a.createElement("div",{className:"mt-3"},a.a.createElement(u.a,o()({},this.sprops,{name:"speed",label:"Speed",small:!0}))))},e}(i.PureComponent)},1489:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1563),u=n(1488),p=n(1442),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(){return this.render=h(this.render,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.render=function(){return this.sprops={category:this.props.category+".pid_settings",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:"PID Settings",color:"blue",icon:"repeat"},a.a.createElement("div",{className:"col-12"},a.a.createElement(p.a,o()({},this.sprops,{name:"single_layer_controller",label:"Single Layer Controller",full:!0}))),a.a.createElement("div",{className:"col-12 mt-3"},a.a.createElement(u.a,o()({},this.sprops,{name:"cascade_controller",label:"Cascade Controller"}))),a.a.createElement("div",{className:"col-12 mt-3"},a.a.createElement(p.a,o()({},this.sprops,{name:"current_controller",label:"Current Controller"}))))},e}(i.PureComponent)},1490:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1563),u=n(1438),p=n(1426),h=n(1433),d=n(1434),m=n(1432),f=n(1768),y=function(t,e){return function(){return t.apply(e,arguments)}},v=function(t,e){function n(){this.constructor=t}for(var r in e)g.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;e.a=function(t){function e(){return this.render=y(this.render,this),this.componentWillMount=y(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return v(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.componentWillMount=function(){return this.ignoreZero=[f.g]},e.prototype.render=function(){return this.sprops={category:this.props.category+".servo_configuration",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:"Servo Configuration",color:"yellow",icon:"sliders"},a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"servo_mode",label:"Servo Mode",ignore:this.ignoreZero,enums:f.i}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"ratio_motor",label:"Motor / Shaft Revolutions"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"ratio_output",label:"Shaft / Motor Revolutions"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"commutation_mode",label:"Commutation Mode",ignore:this.ignoreZero,enums:f.j}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"motor_pole_count",label:"Motor Pole Count"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"motor_pwm_frequency",label:"Motor PWM Frequency",unit:"Hz",min:3e4,max:2e5}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(d.a,o()({},this.sprops,{name:"invert_motor_command",label:"Invert Motor Command",yes:!0,no:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"setpoint_timestep",label:"Setpoint Timestemp",unit:"μs"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"encoder_enabled",label:"Enabled Encoders",ignore:this.ignoreZero,enums:f.k}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(h.a,o()({},this.sprops,{name:"pdo_frequency",label:"PDO Frequency",unit:"Hz",min:0,max:1e4}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"static_friction",label:"Static Friction"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"max_position_error",label:"Max Position Error"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"min_angle",label:"Minimum Angle",unit:"°"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"max_angle",label:"Maximum Angle",unit:"°"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(m.a,o()({},this.sprops,{name:"set_home_position",label:"Set Home Position",action:"Set"}))))},e}(i.PureComponent)},1491:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1563),u=n(1434),p=n(1432),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(){return this.render=h(this.render,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.render=function(){return this.sprops={category:this.props.category+".servo_control",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:"Servo Controls",color:"blue",icon:"power-off"},a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"enabled",label:"Status",yes:!0,no:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"reset_default",label:"Reset parameters to default",action:"Reset"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"reset_soft",label:"Soft reset microcontroller",action:"Reset"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"reset_comms",label:"Reset communications",action:"Reset"}))))},e}(i.PureComponent)},1492:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1563),u=n(1426),p=n(1433),h=n(1415),d=function(t,e){return function(){return t.apply(e,arguments)}},m=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;e.a=function(t){function e(){return this.render=d(this.render,this),this.angleFormatter=d(this.angleFormatter,this),e.__super__.constructor.apply(this,arguments)}return m(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.angleFormatter=function(t){return Math.round(100*n.i(h.i)(t))/100},e.prototype.render=function(){return this.sprops={category:this.props.category+".telemetry",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:"Telemetry",color:"yellow",icon:"bolt"},a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"drive_temp",label:"Drive Temperature",unit:"m°C",editable:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"motor_temp",label:"Motor Temperature",unit:"m°C",editable:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"current",label:"Current",unit:"mA",editable:!1}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"position",label:"Position",formatter:this.angleFormatter,unit:"°",min:-h.b.PI,max:h.b.PI,editable:!1}))))},e}(i.PureComponent)},1493:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1563),u=n(1426),p=n(1433),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(){return this.render=h(this.render,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.propTypes={servo_id:l.a.number.isRequired,producer:l.a.object.isRequired,send:l.a.func.isRequired,category:l.a.string.isRequired},e.prototype.render=function(){return this.sprops={category:this.props.category+".thresholds",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},a.a.createElement(c.a,{label:"Thresholds",color:"green",icon:"percent"},a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"max_current_soft",label:"Max current (soft)",unit:"mA"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"max_current_hard",label:"Max current (hard)",unit:"mA"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"drive_temp_soft",label:"Drive circuit temperature (soft)",unit:"m°C"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"drive_temp_hard",label:"Drive circuit temperature (hard)",unit:"m°C"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"motor_temp_soft",label:"Motor temperature (soft)",unit:"m°C"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(u.a,o()({},this.sprops,{name:"motor_temp_hard",label:"Motor temperature (hard)",unit:"m°C"}))),a.a.createElement("div",{className:"col-12 col-sm-6"},a.a.createElement(p.a,o()({},this.sprops,{name:"max_pwm_duty",label:"Max PWM",min:0,max:1e4}))))},e}(i.PureComponent)},1494:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1491),l=n(1487),c=n(1492),u=n(1490),p=n(1493),h=n(1486),d=n(1489),m=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;e.a=function(t){function e(){return this.render=m(this.render,this),e.__super__.constructor.apply(this,arguments)}return f(e,t),e.propTypes={servo_id:a.a.number.isRequired,producer:a.a.object.isRequired,send:a.a.func.isRequired},e.prototype.render=function(){return this.sprops={category:"servo_data",servo_id:this.props.servo_id,producer:this.props.producer,send:this.props.send},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-6 col-md-4"},o.a.createElement(s.a,this.sprops)),o.a.createElement("div",{className:"col-12 mt-2 col-sm-6 mt-sm-0 col-md-4"},o.a.createElement(l.a,this.sprops)),o.a.createElement("div",{className:"col-12 mt-2 col-sm-6 col-md-4 mt-md-0"},o.a.createElement(c.a,this.sprops)),o.a.createElement("div",{className:"col-12 mt-2 col-sm-6 col-md-4"},o.a.createElement(u.a,this.sprops)),o.a.createElement("div",{className:"col-12 mt-2 col-sm-6 col-md-4"},o.a.createElement(p.a,this.sprops)),o.a.createElement("div",{className:"col-12 mt-2 col-sm-6 col-md-4"},o.a.createElement(h.a,this.sprops)),o.a.createElement("div",{className:"col-12 mt-2"},o.a.createElement(d.a,this.sprops)))},e}(r.PureComponent)},1497:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),i=n.n(o),a=n(1689),s=n.n(a),l=n(10),c=n.n(l),u=n(674),p=n.n(u),h=n(354),d=(n.n(h),n(390)),m=n.n(d),f=n(606),y=n.n(f),v=n(70),g=n.n(v),_=n(1771),b=n(1770),w=n(1777),E=n(1414),C=n(1734),x=n(1568),N=n(1536),T=n(1538),S=n(1539),O=n(1535),R=n(1534),P=n(1519),k=n(1517),D=function(t,e){return function(){return t.apply(e,arguments)}},M=function(t,e){function n(){this.constructor=t}for(var r in e)I.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},I={}.hasOwnProperty;r=function(t){function e(t){this.render=D(this.render,this),this.switchOnline=D(this.switchOnline,this),this.switchRealTime=D(this.switchRealTime,this),this.selectedToolpath=D(this.selectedToolpath,this),this.selectToolpath=D(this.selectToolpath,this),this.switchBlurred=D(this.switchBlurred,this),this.loaded=D(this.loaded,this),this.clickCanvas=D(this.clickCanvas,this),this.onKeyUp=D(this.onKeyUp,this),this.switchFullscreen=D(this.switchFullscreen,this),this.getSize=D(this.getSize,this),this.onResize=D(this.onResize,this),this.componentWillUnmount=D(this.componentWillUnmount,this),this.componentDidMount=D(this.componentDidMount,this),this.channelSend=D(this.channelSend,this);var n;e.__super__.constructor.call(this,t),this.producer=new b.a(null!=(n=this.props.cache)?n:{}),this.userManager=new w.a(this.producer,this.props.users),this.toolpathsObserver={reset:function(t){return function(){return t.selectToolpath(!1)}}(this)},"undefined"!=typeof document&&null!==document&&(this.scene=new C.a(this,this.props,this.producer),this.scene.toolpaths.observe(this.toolpathsObserver),E.a.Register("viewer::scene",this.scene),this.cable=g.a.createConsumer(),this.channel=new _.a(this.cable),this.producer.forward(this.channel)),this.state={is_blurred:!0,has_toolpath:!1,realTime:!1,onlineMode:!1}}return M(e,t),e.contextTypes={dragDropManager:s.a.object},e.propTypes={joint_number:s.a.number.isRequired,cache:s.a.object.isRequired,online_enabled:s.a.bool.isRequired,toolpaths:s.a.arrayOf(s.a.shape({id:s.a.number.isRequired,name:s.a.string.isRequired}).isRequired).isRequired,users:s.a.arrayOf(s.a.shape({id:s.a.number.isRequired,name:s.a.string.isRequired}).isRequired).isRequired},e.prototype.channelSend=function(t){return this.channel.send(t)},e.prototype.componentDidMount=function(){return this.scene.start(this.refs.overlay),this.setState({canvasElement:this.scene.getCanvasElement(),statsElement:this.scene.getStatsElement()}),c()(window).resize(this.onResize),c()(window).keyup(this.onKeyUp),this.refs.overlay.resetDeviceSize()},e.prototype.componentWillUnmount=function(){return this.scene.toolpaths.forget(this.toolpathsObserver),this.scene.stop(),this.scene=null,this.producer.stop(this.channel),this.channel.destroy(),this.cable.disconnect(),c()(window).off("resize",this.onResize),c()(window).off("keyup",this.onKeyUp)},e.prototype.onResize=function(){return this.refs.overlay.resetDeviceSize(),this.refs.timeline.resize(),this.scene.onResize()},e.prototype.getSize=function(){var t;return t=c()(this.refs.root),{width:t.innerWidth(),height:t.innerHeight(),offsetTop:t.offset().top}},e.prototype.switchFullscreen=function(t){return p.a.toggle(this.refs.root)},e.prototype.onKeyUp=function(t){if(!this.refs.modal.hasModal())return 27===t.keyCode?this.refs.wheel.escapePressed():void 0},e.prototype.clickCanvas=function(t){return this.refs.wheel.clickCanvas(t)},e.prototype.loaded=function(){return this.producer.notify("loaded")},e.prototype.switchBlurred=function(t){return this.setState({is_blurred:t})},e.prototype.selectToolpath=function(t){return this.setState({has_toolpath:t})},e.prototype.selectedToolpath=function(){return this.selectToolpath(!0)},e.prototype.switchRealTime=function(t){return this.setState({realTime:t})},e.prototype.switchOnline=function(t){return this.setState({onlineMode:t})},e.prototype.render=function(){var t,e,n,r,o;return n=this.state.is_blurred,e=!n&&!this.state.has_toolpath,r=n||e,o="viewer-3d canvas-background"+(r?" blurred":this.state.realTime?" realtime-mode":""),null!=this.state.canvasElement&&(t=i.a.createElement(O.a,{element:this.state.canvasElement,stats:this.state.statsElement,clickCanvas:this.clickCanvas})),i.a.createElement("div",{className:o,ref:"root"},i.a.createElement(N.a,{ref:"overlay",shown:n,onLoaded:this.loaded,onChange:this.switchBlurred,getSize:this.getSize}),i.a.createElement(T.a,{shown:e,onSelectToolpath:this.selectedToolpath}),i.a.createElement(R.a,{ref:"wheel",onlineMode:this.state.onlineMode,getSize:this.getSize,channelSend:this.channelSend}),i.a.createElement(S.a,{switchFullscreen:this.switchFullscreen,switchRealTime:this.switchRealTime,switchOnline:this.switchOnline,producer:this.producer,channelSend:this.channelSend,onlineEnabled:this.props.online_enabled}),i.a.createElement(P.a,{ref:"timeline",userManager:this.userManager}),i.a.createElement(k.a,null),t,i.a.createElement(x.a,{ref:"modal"}))},e}(o.PureComponent),e.default=n.i(h.DragDropContext)(m()({backends:[{backend:y()({enableMouseEvents:!0}),preview:!0}]}))(r)},1498:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1565),l=n(1415),c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e.a=function(t){function e(t){this.render=c(this.render,this),this.onDone=c(this.onDone,this),e.__super__.constructor.call(this,t),n.i(l.e)(this)}return u(e,t),e.propTypes={onDeleteBranch:a.a.func.isRequired},e.prototype.onDone=function(){return this.props.onDeleteBranch(),this.closeModal()},e.prototype.render=function(){return o.a.createElement(s.a,{title:"Delete if branch",buttonText:"Delete",buttonColor:"danger",buttonIcon:"trash",onDone:this.onDone,onClose:this.onClose},o.a.createElement("p",null,"Are you sure you want to delete this If branch?",o.a.createElement("br",null),o.a.createElement("strong",null,"This action cannot be undone."),o.a.createElement("br",null)))},e}(r.PureComponent)},1499:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1565),l=n(1415),c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e.a=function(t){function e(t){this.render=c(this.render,this),this.onDone=c(this.onDone,this),e.__super__.constructor.call(this,t),n.i(l.e)(this)}return u(e,t),e.propTypes={name:a.a.string.isRequired,onDeleteToolpath:a.a.func.isRequired},e.prototype.onDone=function(){return this.props.onDeleteToolpath(),this.closeModal()},e.prototype.render=function(){return o.a.createElement(s.a,{title:"Delete "+this.props.name,buttonText:"Delete",buttonColor:"danger",buttonIcon:"trash",onDone:this.onDone,onClose:this.onClose},o.a.createElement("p",null,"Are you sure you want to delete ",this.props.name,"?",o.a.createElement("br",null),o.a.createElement("strong",null,"This action cannot be undone.")))},e}(r.PureComponent)},1500:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1565),l=n(1415),c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e.a=function(t){function e(t){this.render=c(this.render,this),this.onDone=c(this.onDone,this),e.__super__.constructor.call(this,t),n.i(l.e)(this)}return u(e,t),e.propTypes={onDone:a.a.func.isRequired},e.prototype.onDone=function(){return this.props.onDone(),this.closeModal()},e.prototype.render=function(){return o.a.createElement(s.a,{title:"Delete waypoint",buttonText:"Delete",buttonColor:"danger",buttonIcon:"trash",onDone:this.onDone,onClose:this.onClose},o.a.createElement("p",null,"Are you sure you want to delete this waypoint?",o.a.createElement("br",null)))},e}(r.PureComponent)},1501:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1565),u=n(1415),p=n(1564),h=n(1562),d=function(t,e){return function(){return t.apply(e,arguments)}},m=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;e.a=function(t){function e(t){this.render=d(this.render,this),this.onDone=d(this.onDone,this),this.onShown=d(this.onShown,this),e.__super__.constructor.call(this,t),n.i(u.e)(this),this.isInterp=t.type===h.a.INTERPOLATION,this.id="edit_waypoint_value",this.name=this.isInterp?"Weight":"Next Segment Speed",this.placeholder=this.isInterp?"Weight":"Speed (s)",this.state={error:null}}return m(e,t),e.propTypes={type:a.a.number.isRequired,value:a.a.number,onValueChanged:a.a.func.isRequired},e.prototype.onShown=function(){return l()(this.refs.field).focus()},e.prototype.onDone=function(){var t;return t=this.refs.field.value,null==t||""===t||isNaN(t)?this.setState({error:this.isInterp?"You must provide a waypoint weight":"You must provide a segment speed"}):(this.props.onValueChanged(parseFloat(t)),this.closeModal())},e.prototype.render=function(){return o.a.createElement(c.a,{title:"Waypoint properties",buttonText:"Save",buttonColor:"success",buttonIcon:"pencil",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement(p.a,{name:this.id,label:this.name,error:this.state.error},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",className:"form-control",id:this.id,placeholder:this.placeholder,required:"true",defaultValue:this.props.value,ref:"field"}))))},e}(r.PureComponent)},1502:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1565),u=n(1415),p=n(1564),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.onDone=h(this.onDone,this),this.onShown=h(this.onShown,this),e.__super__.constructor.call(this,t),n.i(u.e)(this),this.id="rename_toolpath_name","save"===this.props.mode?(this.icon="floppy-o",this.action="Save"):"saveas"===this.props.mode?(this.icon="files-o",this.action="Save as"):(this.icon="pencil",this.action="Rename"),this.state={error:null}}return d(e,t),e.propTypes={mode:a.a.string.isRequired,onDone:a.a.func.isRequired},e.prototype.onShown=function(){return l()(this.refs.field).focus()},e.prototype.onDone=function(){var t;return t=this.refs.field.value,null!=t&&""!==t?(this.props.onDone(t),this.closeModal()):this.setState({error:"You must specify a name"})},e.prototype.render=function(){return o.a.createElement(c.a,{title:this.action+" toolpath",buttonText:this.action,buttonColor:"success",buttonIcon:this.icon,onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement(p.a,{name:this.id,label:"Name",error:this.state.error},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",className:"form-control",id:this.id,placeholder:"Paint",required:"true",ref:"field"}))))},e}(r.PureComponent)},1503:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1565),u=n(1415),p=n(1564),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.onDone=h(this.onDone,this),this.onShown=h(this.onShown,this),e.__super__.constructor.call(this,t),n.i(u.e)(this),this.id="upload_toolpath_loop",this.state={error:null}}return d(e,t),e.propTypes={onDone:a.a.func.isRequired},e.prototype.onShown=function(){return l()(this.refs.field).focus()},e.prototype.onDone=function(){var t;return t=this.refs.field.value,null==t||""===t||isNaN(t)?this.setState({error:"You must specify a valid repeat number"}):(this.props.onDone(t),this.closeModal())},e.prototype.render=function(){return o.a.createElement(c.a,{title:"Upload a toolpath",buttonText:"Upload",buttonColor:"info",buttonIcon:"upload",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement(p.a,{name:this.id,label:"Repeat",error:this.state.error},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",className:"form-control",id:this.id,placeholder:"0 is infinite",required:"true",ref:"field"}))))},e}(r.PureComponent)},1504:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1565),l=n(1415),c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e.a=function(t){function e(t){this.render=c(this.render,this),this.onDone=c(this.onDone,this),e.__super__.constructor.call(this,t),n.i(l.e)(this)}return u(e,t),e.propTypes={onDone:a.a.func.isRequired},e.prototype.onDone=function(){return this.props.onDone(),this.closeModal()},e.prototype.render=function(){return o.a.createElement(s.a,{title:"Unsaved changes",buttonText:"Quit",buttonColor:"danger",buttonIcon:"times",onDone:this.onDone,onClose:this.onClose},o.a.createElement("p",null,"Are you sure you want to quit without saving?"),o.a.createElement("p",null,o.a.createElement("strong",null,"Your unsaved changes will be lost.")),o.a.createElement("p",null,o.a.createElement("strong",null,"This action cannot be undone.")))},e}(r.PureComponent)},1505:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1565),u=n(1415),p=n(1564),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.onDone=h(this.onDone,this),this.onShown=h(this.onShown,this),e.__super__.constructor.call(this,t),n.i(u.e)(this),this.id="update_toolpath_speed",this.state={error:null}}return d(e,t),e.propTypes={value:a.a.number.isRequired,onDone:a.a.func.isRequired},e.prototype.onShown=function(){return l()(this.refs.field).focus()},e.prototype.onDone=function(){var t;return t=this.refs.field.value,null!=t&&""!==t?(t=parseFloat(t),isNaN(t)||t<=0?this.setState({error:"You must specify a valid speed (greater than 0.0)"}):(this.props.onDone(t),this.closeModal())):this.setState({error:"You must specify a speed"})},e.prototype.render=function(){return o.a.createElement(c.a,{title:"Toolpath Speed",buttonText:"Change",buttonColor:"success",buttonIcon:"check",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement(p.a,{name:this.id,label:"Speed",error:this.state.error},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",className:"form-control",id:this.id,placeholder:"Coefficient to be applied",required:"true",defaultValue:this.props.value,ref:"field"}))))},e}(r.PureComponent)},1506:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1565),u=n(1415),p=n(1564),h=n(595),d=n.n(h),m=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;e.a=function(t){function e(t){this.render=m(this.render,this),this.onColorChange=m(this.onColorChange,this),this.onDone=m(this.onDone,this),this.onShown=m(this.onShown,this),e.__super__.constructor.call(this,t),n.i(u.e)(this),this.id="update_waypoint_color",this.state={error:null,color:this.props.color}}return f(e,t),e.propTypes={color:a.a.string.isRequired,onDone:a.a.func.isRequired},e.prototype.onShown=function(){return l()(this.refs.field).focus()},e.prototype.onDone=function(){var t;return t=this.state.color,null!=t&&""!==t?u.j.COLOR.test(t)?(this.props.onDone(t),this.closeModal()):this.setState({error:"You must specify a valid color (e.g. #42ba16)"}):this.setState({error:"You must specify a color"})},e.prototype.onColorChange=function(t){return this.setState({color:t})},e.prototype.render=function(){return o.a.createElement(c.a,{title:"Change waypoint color",buttonText:"Save",buttonColor:"success",buttonIcon:"check",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},o.a.createElement(p.a,{name:this.id,label:"Color",error:this.state.error},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"waypoint-color"},o.a.createElement(d.a,{color:this.state.color,onDrag:this.onColorChange})))))},e}(r.PureComponent)},1508:function(t,e,n){"use strict";(function(t){var r=n(1151),o=n(1274),i=n(1153),a=n(1150),s=n(1206),l=n(1194),c=n(1461),u=(n.n(c),n(10)),p=n.n(u),h=n(1421),d=n(1415),m=n(1562),f=function(t,e){return function(){return t.apply(e,arguments)}},y=function(t,e){function n(){this.constructor=t}for(var r in e)v.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty,g=[].slice;e.a=function(e){function c(t){this.renderer=t,this.screenToBrowser=f(this.screenToBrowser,this),this.browserToScreen=f(this.browserToScreen,this),this.screenToWorld=f(this.screenToWorld,this),this.browserToWorld=f(this.browserToWorld,this),this.worldToScreen=f(this.worldToScreen,this),this.worldToBrowser=f(this.worldToBrowser,this),this.getPointedObject=f(this.getPointedObject,this),this.getPointerPosition=f(this.getPointerPosition,this),this.applyToObject=f(this.applyToObject,this),this.switchHover=f(this.switchHover,this),this.unhover=f(this.unhover,this),this.onEventOut=f(this.onEventOut,this),this.onEventStop=f(this.onEventStop,this),this.onEventProgress=f(this.onEventProgress,this),this.processDragging=f(this.processDragging,this),this.onEventStart=f(this.onEventStart,this),this.onContextMenu=f(this.onContextMenu,this),this.onScroll=f(this.onScroll,this),this.hasMode=f(this.hasMode,this),this.updateToolPosition=f(this.updateToolPosition,this),this.exitMode=f(this.exitMode,this),this.enterMode=f(this.enterMode,this),this.selectElements=f(this.selectElements,this),this.reset=f(this.reset,this),this.resetControls=f(this.resetControls,this),this.zoomListener=f(this.zoomListener,this),this.resize=f(this.resize,this),this.switch=f(this.switch,this),this.finit=f(this.finit,this),this.init=f(this.init,this),this.getCamera=f(this.getCamera,this),this.removeAgent=f(this.removeAgent,this),this.addAgent=f(this.addAgent,this),this.registerAgents=f(this.registerAgents,this),c.__super__.constructor.apply(this,arguments),this.frustrumSize=1e3,this.viewMode=m.d.PERSPECTIVE,this.currentTool=m.c.NONE,this.toolFocus=null,this.camera=null,this.orbit=null,this.size={},this.hover=null,this.dragging=null,this.agents=[]}return y(c,e),c.prototype.registerAgents=function(){var t;return t=1<=arguments.length?g.call(arguments,0):[],this.agents=t},c.prototype.addAgent=function(t){return this.agents.push(t)},c.prototype.removeAgent=function(t){var e;if(-1!==(e=this.agents.indexOf(t)))return this.agents.splice(e,1)},c.prototype.getCamera=function(){return this.camera},c.prototype.init=function(t){var e,n;return e=this.renderer.getNode(),n=p()(e),n.mousedown(this.onEventStart),n.mousemove(this.onEventProgress),n.mouseup(this.onEventStop),n.mouseout(this.onEventOut),n.scroll(this.onScroll),n.contextmenu(this.onContextMenu),e.addEventListener("touchstart",this.onEventStart),e.addEventListener("touchmove",this.onEventProgress),e.addEventListener("touchend",this.onEventStop),this.reset(t)},c.prototype.finit=function(){var t,e;return t=this.renderer.getNode(),e=p()(t),e.off("mousedown",this.onEventStart),e.off("mousemove",this.onEventProgress),e.off("mouseup",this.onEventStop),e.off("mouseout",this.onEventOut),e.off("scroll",this.onScroll),e.off("contextmenu",this.onContextMenu),t.removeEventListener("touchstart",this.onEventStart),t.removeEventListener("touchmove",this.onEventProgress),t.removeEventListener("touchend",this.onEventStop)},c.prototype.switch=function(t,e){return null==e&&(e=this.size),this.viewMode=t,this.reset(e)},c.prototype.resize=function(t){var e;return this.size=t,e=t.width/t.height,this.viewMode===m.d.PERSPECTIVE?this.camera.aspect=e:(this.camera.left=this.frustrumSize*e/-2,this.camera.right=this.frustrumSize*e/2,this.camera.top=this.frustrumSize/2,this.camera.bottom=this.frustrumSize/-2),this.camera.updateProjectionMatrix(),this.updateToolPosition()},c.prototype.zoomListener=function(t){var e;return e=this.viewMode===m.d.PERSPECTIVE?t.value:1/t.value,this.notify("zoomChange",e)},c.prototype.resetControls=function(e){var n,o;return n=-1,o=this.viewMode===m.d.PERSPECTIVE,null!=this.orbit&&this.orbit.removeEventListener("zoom",this.zoomListener),this.orbit=new t.OrbitControls(this.camera,this.renderer.getNode()),this.orbit.enablePan=!o,this.orbit.enableRotate=o,this.orbit.mouseButtons.ORBIT=o?r.q.LEFT:n,this.orbit.mouseButtons.PAN=o?n:r.q.LEFT,this.orbit.mouseButtons.ZOOM=r.q.RIGHT,this.orbit.maxPolarAngle=o?1.5*d.b.HALF_PI:d.b.PI,this.orbit.minPolarAngle=0,this.orbit.minDistance=600,this.orbit.maxDistance=1500,this.orbit.minZoom=.8,this.orbit.maxZoom=2,this.orbit.target=e,this.orbit.addEventListener("zoom",this.zoomListener),this.notify("zoomChange",1)},c.prototype.reset=function(t){var e,n,r,o,i,c;return this.size=t,e=t.width/t.height,i=21,r=2150,c=new a.a(0,0,0),this.viewMode===m.d.PERSPECTIVE?(this.camera=new s.a(75,e,i,r),this.camera.position.x=-550,this.camera.position.y=750,this.camera.position.z=-550,c.y=150):(this.camera=new l.a(this.frustrumSize*e/-2,this.frustrumSize*e/2,this.frustrumSize/2,this.frustrumSize/-2,i,r),c.y=this.camera.position.y=450,n=750,o=1200,this.viewMode===m.d.ORTHOGRAPHIC_FRONT?this.camera.position.z=-n:this.viewMode===m.d.ORTHOGRAPHIC_BACK?this.camera.position.z=n:this.viewMode===m.d.ORTHOGRAPHIC_LEFT?this.camera.position.x=-n:this.viewMode===m.d.ORTHOGRAPHIC_RIGHT?this.camera.position.x=n:this.viewMode===m.d.ORTHOGRAPHIC_TOP?this.camera.position.y+=o:this.viewMode===m.d.ORTHOGRAPHIC_BOTTOM&&(this.camera.position.y-=o)),this.resetControls(c),this.camera.lookAt(c),this.notify("reset",this.camera)},c.prototype.selectElements=function(t){if(this.notify("disableOnSelect",t,this.toolFocus),null!=this.toolFocus&&this.currentTool!==m.c.CHOOSER)return this.applyToObject(this.toolFocus,"enable",t,this.toolFocus)},c.prototype.enterMode=function(t,e){return this.currentTool=null!=e?e:this.applyToObject(t,"getMode"),this.toolFocus=t,this.orbit.enabled=!1,this.selectElements(!0),this.notify("controlsSwitch",this.currentTool,t),this.updateToolPosition()},c.prototype.exitMode=function(){if(null==this.dragging)return this.selectElements(!1),this.currentTool=m.c.NONE,this.toolFocus=null,this.orbit.enabled=!0,this.notify("controlsSwitch",this.currentTool)},c.prototype.updateToolPosition=function(){var t,e,n;if(this.hasMode())return t=this.worldToBrowser(this.toolFocus),e={x:t.x/this.size.width,y:(t.y-this.size.offsetTop)/(this.size.height-this.size.offsetTop)},this.notify("updateObjectPosition",e,null!=(n=this.dragging)?n.context:void 0)},c.prototype.hasMode=function(){return this.currentTool!==m.c.NONE},c.prototype.onScroll=function(t){return t.preventDefault()},c.prototype.onContextMenu=function(t){return t.preventDefault()},c.prototype.onEventStart=function(t){var e,n,r,o,i,s,l,c,u;if(t.preventDefault(),null!=(n=this.getPointedObject(t))){if(!this.hasMode()){for(this.unhover(),u=new a.a,u.setFromMatrixPosition(n.matrixWorld),c=20,i=[],l=this.agents,r=0,o=l.length;r<o;r++)e=l[r],i.push.apply(i,e.retrieveCloseTo({selected:n,selectedPosition:u,searchMagnitude:c}));return i.length<1?this.enterMode(n):(this.notify("selectChoices",n,i),this.enterMode(n,m.c.CHOOSER))}if(this.currentTool===this.applyToObject(n,"getMode")){if(null==(s=this.getPointerPosition(t)))return;return this.dragging={object:n,position:s,offset:0}}}},c.prototype.processDragging=function(t,e){var r,o;return r=(new i.a).subVectors(e,t).length(),r=n.i(d.d)(10*Math.round(r/10),1,50),o=this.browserToScreen(e).sub(this.browserToScreen(t)).normalize(),{distance:r,vector:o}},c.prototype.onEventProgress=function(t){var e,n;if(t.preventDefault(),null!=this.dragging){if(null==(e=this.getPointerPosition(t)))return;if((new i.a).subVectors(e,this.dragging.position).length()>=1)return this.applyToObject(this.dragging.object,"drag",this,this.toolFocus,this.dragging.object,this.dragging.position,e,this.dragging.context,function(t){return function(n){if(null!=t.dragging)return t.dragging.position=e,t.dragging.context=n,t.updateToolPosition()}}(this))}else if(n=this.getPointedObject(t,!1),this.hover!==n){if(null!=this.hover&&this.switchHover(this.hover,!1),this.hover=null,this.hasMode()&&null!=n&&!this.applyToObject(this.toolFocus,"canHover",this.toolFocus,n))return;return null!=n&&this.switchHover(n,!0),this.hover=n}},c.prototype.onEventStop=function(t){if(t.preventDefault(),this.hasMode())return this.onEventOut(t)},c.prototype.onEventOut=function(t){if(t.preventDefault(),this.hasMode()){if(null==this.dragging)return;return this.unhover(),this.applyToObject(this.dragging.object,"fini",this.dragging.object,this.toolFocus),this.dragging=null,this.updateToolPosition()}return this.unhover()},c.prototype.unhover=function(){return null!=this.hover&&this.switchHover(this.hover,!1),this.hover=null},c.prototype.switchHover=function(t,e){return this.applyToObject(t,"hover",e,t)},c.prototype.applyToObject=function(){var t,e,n,r;return n=arguments[0],e=arguments[1],t=3<=arguments.length?g.call(arguments,2):[],(r=n.userData.agent)[e].apply(r,t)},c.prototype.getPointerPosition=function(t,e){var n;if(null==e&&(e=!0),null!=t.clientX)n=new i.a(t.clientX,t.clientY);else if(e&&null!=t.touches&&t.touches.length>0)n=new i.a(t.touches[0].clientX,t.touches[0].clientY);else if(e&&null!=t.changedTouches&&t.changedTouches.length>0)n=new i.a(t.changedTouches[0].clientX,t.changedTouches[0].clientY);else if(e&&null!=t.originalEvent&&t!==t.originalEvent)return this.getPointerPosition(t.originalEvent,e);return n},c.prototype.analyzeObject=function(t){var e,n,r;return null!=(null!=(e=t.userData)?e.agent:void 0)&&Object.keys(t.userData).length>0?t.userData.raycast_pass?null:t:null!=(null!=(n=t.parent)&&null!=(r=n.userData)?r.agent:void 0)&&Object.keys(t.parent.userData).length>0?t.parent.userData.raycast_pass?null:t.parent:null},c.prototype.getPointedObject=function(t,e){var n,r,o,i,a,s;if(null==e&&(e=!0),null!=(a=this.getPointerPosition(t,e))){for(o=this.browserToWorld(a),n=0,i=o.length;n<i;n++)if(r=o[n],null!=(s=this.analyzeObject(r.object)))return s;return null}},c.prototype.worldToBrowser=function(t){return this.screenToBrowser(this.worldToScreen(t))},c.prototype.worldToScreen=function(t){var e;return e=new a.a,t.updateMatrixWorld(),e.setFromMatrixPosition(t.matrixWorld),e.project(this.camera),e},c.prototype.browserToWorld=function(t){return this.screenToWorld(this.browserToScreen(t))},c.prototype.screenToWorld=function(t){var e;return e=new o.a,e.setFromCamera(t,this.camera),e.intersectObjects(this.renderer.getScene().children,!0)},c.prototype.browserToScreen=function(t){var e;return e=new i.a,e.x=t.x/this.size.width*2-1,e.y=-(t.y-this.size.offsetTop)/this.size.height*2+1,e},c.prototype.screenToBrowser=function(t){var e;return e=new i.a,e.x=(t.x+1)/2*this.size.width,e.y=(t.y-1)/2*this.size.height*-1+this.size.offsetTop,e},c}(h.a)}).call(e,n(1416))},1511:function(t,e,n){"use strict";var r=n(1151),o=n(1157),i=n(1153),a=n(1150),s=n(1198),l=n(1189),c=n(1175),u=n(1208),p=n(1276),h=n(1187),d=n(1210),m=n(1179),f=n(1195),y=n(1421),v=n(1447),g=n(1562),_=n(1415),b=n(1431),w=function(t,e){return function(){return t.apply(e,arguments)}},E=function(t,e){function n(){this.constructor=t}for(var r in e)C.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;e.a=function(t){function e(t,r,i){this.core=t,this.mp=r,this.getGizmoAgent=w(this.getGizmoAgent,this),this.getJointsAgent=w(this.getJointsAgent,this),this.updateEEShadow=w(this.updateEEShadow,this),this.createEEShadow=w(this.createEEShadow,this),this.getEEPosition=w(this.getEEPosition,this),this.gotoWaypoint=w(this.gotoWaypoint,this),this.gotoRotations=w(this.gotoRotations,this),this.gotoRotation=w(this.gotoRotation,this),this.animateJoint=w(this.animateJoint,this),this.updateWireframe=w(this.updateWireframe,this),this.showWireframe=w(this.showWireframe,this),this.showBounds=w(this.showBounds,this),this.checkCollisions=w(this.checkCollisions,this),this.checkCollision=w(this.checkCollision,this),this.exitControlled=w(this.exitControlled,this),this.enterControlled=w(this.enterControlled,this),this.checkValues=w(this.checkValues,this),this.checkValue=w(this.checkValue,this),this.getLimits=w(this.getLimits,this),this.rotateJoint=w(this.rotateJoint,this),this.setRotations=w(this.setRotations,this),this.setRotation=w(this.setRotation,this),this.getRotations=w(this.getRotations,this),this.getRotation=w(this.getRotation,this),this.goHome=w(this.goHome,this),this.addAxisAndBounds=w(this.addAxisAndBounds,this),this.create=w(this.create,this),this.fixGeometry=w(this.fixGeometry,this),this.createRobot=w(this.createRobot,this),e.__super__.constructor.call(this),this.jointsAgent=this.getJointsAgent(),this.gizmoAgent=this.getGizmoAgent(),this.axes=[],this.axesWireframe=[],this.meshes=null,this.meshesWireframe=null,this.robots=new o.a,this.robot=null,this.robotWireframe=null,this.ee=new v.a(this.core,this,this.gizmoAgent,{expanded:!1,flipX:!0}),this.eeShadow=this.createEEShadow(),this.bounds=null,this.rotationsAxis=["y","x","y","x","x","y"],this.controlled=!1,this.preControlled=null,this._defaultHome=g.b.DefaultHome(),this._home=this._defaultHome,this._wireframeTarget=null,this.waypointsObserver={updated:function(t){return function(e){return t.updateWireframe(e)}}(this),deleted:function(t){return function(e){if(e.hovered||e.activated)return t.showWireframe(!1)}}(this),hovered:function(t){return function(e,n){return t.showWireframe(e,n)}}(this),activated:function(t){return function(e,n){return t.showWireframe(e,n)}}(this),reactivated:function(t){return function(e){return t.showWireframe(!0,e)}}(this),hit_bounds:function(t){return function(){return t.showBounds(!0)}}(this)},this.toolpathsObserver={selected:function(t){return function(e,n){var r;return r=null!=n?n.rotations:t._defaultHome,t._home=r,t.setRotations(r)}}(this),changed:function(t){return function(e,n,r){if(null!=r)return t._home=r.rotations}}(this)},this.cameraObserver={disableOnSelect:function(t){return function(e,n){var r,o,i,a,s,l,c;for(t.ee.disable(e,n),c=e?.4:1,s=t.axes,l=[],o=0,a=s.length;o<a;o++)i=s[o],2===i.children.length&&(r=i.children[0])!==n&&(r.material.opacity=c,e?l.push(r.userData.raycast_pass=!0):l.push(delete r.userData.raycast_pass));return l}}(this),zoomChange:function(t){return function(e){return t.ee.scale(e)}}(this)},i.add(this.robots),i.add(this.eeShadow),this.updateEEShadow(),window.robot_get_rotations=function(t){return function(e){var r,o,i,a,s;if(null==e&&(e=!1),a=n.i(b.e)(t.getRotations()),e){for(i=[],r=0,o=a.length;r<o;r++)s=a[r],i.push(n.i(_.i)(s));return i}return a}}(this),window.robot_set_rotations=function(t){return function(e,r){var o;if(null==r&&(r=!1),!(e instanceof Array))throw new TypeError("Argument should be an Array ([0, -0.1, 2, 3.2, 4])");if(e.length!==t.core.joint_number)throw new RangeError("Array should have "+t.core.joint_number+" elements (it has "+e.length+")");r&&(e=function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)o=e[t],i.push(n.i(_.c)(o));return i}()),t.setRotations(n.i(b.d)(e))}}(this),window.robot_get_ee=function(t){return function(){return n.i(b.f)(t.getEEPosition())}}(this)}return E(e,t),e.prototype.createRobot=function(t,e,r,i){var a,s,l,c,u,p,h,d,m;for(null==i&&(i=null),c=null!=i,m=new o.a,s=m,a=[],a.push(s),l=u=0,p=r.length;u<p;l=++u)h=r[l],d=new o.a,s.add(h),s.add(d),e.push(s=d),a.push(s),c?n.i(b.b)(h,function(t){return function(t){return t.material=i,t.userData.raycast_pass=!0}}()):(i=new f.a({color:16777215,shininess:15,transparent:!0,opacity:1}),null!=h.material&&(h.material=i),n.i(b.b)(h,function(t){return t.material=i}),l>0&&(h.userData={joint:l-1,agent:this.jointsAgent}));return null!=t&&s.add(t.getObject()),this.fixGeometry(a,r),m},e.prototype.fixGeometry=function(t,e){var r,o,i,s,l,c,u,p,h,d,m,f,y;for(m=function(t){return function(t,e){return null!=t.geometry?e(t.geometry):n.i(b.b)(t,function(t){return e(t.geometry)})}}(),d={x:0,y:0,z:0},s=l=0,c=e.length;l<c;s=++l){u=e[s],y=new a.a(0,0,0),o=g.f.Translations[s];for(r in o)f=o[r],d[r]-=f,y[r]+=f;t[s].position.copy(y),m(u,function(t){return t.translate(d.x,d.y,d.z)})}for(i=e.length,h=[];i<t.length;){y=new a.a(0,0,0),p=g.f.Translations[i];for(r in p)f=p[r],y[r]=f;h.push(t[i++].position.copy(y))}return h},e.prototype.create=function(t,e,n){return this.meshes=t,this.robot=this.createRobot(this.ee,this.axes,this.meshes,null),this.robots.add(this.robot),this.meshesWireframe=e,this.robotWireframe=this.createRobot(null,this.axesWireframe,this.meshesWireframe,new h.a({linewidth:2,color:0})),this.robotWireframe.visible=!1,this.robots.add(this.robotWireframe),this.addAxisAndBounds(this.robots,n),this.setRotations(this._defaultHome)},e.prototype.addAxisAndBounds=function(t,e){var n,i,a,h,f;return f=new o.a,h=new m.a({map:e,side:r.a,transparent:!0,opacity:.7}),h.alphaTest=.5,a=new c.a(new u.a(256,256),h),a.userData.raycast_pass=!0,a.scale.multiplyScalar(3),a.renderOrder=.99,a.rotateZ(_.b.PI),f.add(a),i=new d.a({linewidth:5,color:15601954,transparent:!0,opacity:.2,dashSize:30,gapSize:10}),n=new p.a(600,40),n.vertices.shift(),n.computeLineDistances(),this.bounds=new l.a(n,i,s.a),this.bounds.userData.raycast_pass=!0,this.bounds.renderOrder=1,f.add(this.bounds),f.rotateX(-_.b.HALF_PI),t.add(f)},e.prototype.goHome=function(){return this.gotoRotations(this._home)},e.prototype.getRotation=function(t){return this.axes[t].rotation[this.rotationsAxis[t]]},e.prototype.getRotations=function(){var t,e,n,r;for(r=[],t=e=0,n=this.core.joint_number;0<=n?e<n:e>n;t=0<=n?++e:--e)r.push(this.getRotation(t));return r},e.prototype.setRotation=function(t,e,n){return null==n&&(n=this.axes),e=this.checkValue(t,e),n===this.axes&&this.notify("rotated",t,e),this.showBounds(!1),n[t].rotation[this.rotationsAxis[t]]=e,this.updateEEShadow()},e.prototype.setRotations=function(t,e){var n,r,o,i,a;for(null==e&&(e=this.axes),i=[],n=r=0,o=t.length;r<o;n=++r)a=t[n],i.push(this.setRotation(n,a,e));return i},e.prototype.rotateJoint=function(t,e){var n;if(n=this.getRotation(t)+e,!this.checkCollision(t,n))return this.setRotation(t,n),this.notify("moved")},e.prototype.getLimits=function(t){return g.f.Angles[t]},e.prototype.checkValue=function(t,e){var r;return r=this.getLimits(t),n.i(_.d)(e,r.min,r.max)},e.prototype.checkValues=function(t){return t.map(function(t){return function(e,n){return t.checkValue(n,e)}}(this))},e.prototype.enterControlled=function(t){return this.controlled=!0,this.preControlled=this.getRotations(),this.setRotations(t)},e.prototype.exitControlled=function(){return this.controlled=!1,this.setRotations(this.preControlled)},e.prototype.checkCollision=function(t,e){var n;return n=this.getRotations(),n[t]=e,this.checkCollisions(n)},e.prototype.checkCollisions=function(t){return!(!this.mp.hasSelfCollision(t)&&!this.mp.hasWorkspaceCollision(t))&&(this.showBounds(!0),!0)},e.prototype.showBounds=function(t){return this.bounds.material.opacity=t?.9:.2},e.prototype.showWireframe=function(t,e){if(this._wireframeTarget=e,this.robotWireframe.visible=t,t)return this.updateWireframe(e)},e.prototype.updateWireframe=function(t){if(t===this._wireframeTarget)return this.setRotations(t.rotations,this.axesWireframe)},e.prototype.animateJoint=function(t,e,n,r){var o,i;return i=r.progress,o=(e-n)*i,this.setRotation(t,n+o)},e.prototype.gotoRotation=function(t,e){var n;return n=this.animateJoint.bind(null,t,this.checkValue(t,e),this.getRotation(t)),this.core.animations.addAnimation("robot_"+t,1e3,n)},e.prototype.gotoRotations=function(t){var e,n,r,o,i;for(o=[],e=n=0,r=t.length;n<r;e=++n)i=t[e],o.push(this.gotoRotation(e,i));return o},e.prototype.gotoWaypoint=function(t){var e;return e=t.rotations,this.gotoRotations(e)},e.prototype.getEEPosition=function(){var t;return t=new a.a,this.robots.updateMatrixWorld(),t.setFromMatrixPosition(this.ee.getObject().matrixWorld),t},e.prototype.createEEShadow=function(){var t,e;return e=new m.a({color:"#888",side:r.a,transparent:!0,opacity:.7}),t=new c.a(new p.b(50,18),e),t.userData.raycast_pass=!0,t.rotateX(_.b.HALF_PI),t.renderOrder=.98,t},e.prototype.updateEEShadow=function(){var t;return t=this.getEEPosition(),this.eeShadow.position.set(t.x,this.robots.position.y+5,t.z)},e.prototype.getJointsAgent=function(){return{getMode:function(t){return function(){return g.c.ROTATE}}(),enable:function(t){return function(t,e){return e.material.color.setHex(t?16711935:16777215)}}(),canHover:function(t){return function(t,e){return!1}}(),hover:function(t){return function(e,n){return t.jointsAgent.enable(e,n),t.notify("jointHover",e)}}(this),drag:function(t){return function(e,n,r,o,a,s,l){var c,u,p,h,d,m,f;return h=e.processDragging(o,a),d=r.userData.joint,m=t.getLimits(d),u=h.distance/500*(m.max-m.min),h.vector.dot(new i.a(1,0))<0&&(u*=-1),p=t.getRotation(d),t.rotateJoint(d,u),c=t.getRotation(d),l({offset:(null!=(f=null!=s?s.offset:void 0)?f:0)+(c-p),angle:c})}}(this),fini:function(t){return function(t){}}(),retrieveCloseTo:function(t){return function(t){return t.selected,t.selectedPosition,t.searchMagnitude,[]}}()}},e.prototype.getGizmoAgent=function(){return{getMode:function(t){return function(){return g.c.NUDGE}}(),enable:function(t){return function(e,n){return t.ee.expand(e)}}(this),canHover:function(t){return function(t,e){return(null!=e.userData.gizmoAxis||null!=e.userData.gizmoCircle)&&e.userData.agent.getMode()===g.c.NUDGE}}(),hover:function(t){return function(e,n){return t.ee.hover(n,e)}}(this),drag:function(t){return function(e,n,r,o,i,a,s){return t.ee.drag(e,n,r,o,i,function(e,n){var o,i,l;return o=null!=r.userData.gizmoAxis?"nudge":"rotate",l=t.mp[o](e,n,t.getRotations()),l.ok?(t.setRotations(l.rotations),t.notify("moved"),s({offset:(null!=(i=null!=a?a.offset:void 0)?i:0)+n,isAngle:null==r.userData.gizmoAxis})):t.showBounds(!0)})}}(this),fini:function(t){return function(t){}}(),retrieveCloseTo:function(t){return function(e){var n,r,o,i,s,l,c,u,p,h,d;if(h=e.selected,d=e.selectedPosition,p=e.searchMagnitude,u=[],o=t.ee.getObject(),h===o)return u;for(c=o.children,s=0,l=c.length;s<l;s++)if(n=c[s],h===n)return u;return i=t.getEEPosition(),r=(new a.a).subVectors(d,i),r.length()<=p&&u.push(o.children[0]),u}}(this)}},e}(y.a)},1514:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(257),l=n.n(s),c=n(1414),u=n(1516),p=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;e.a=function(t){function e(t){this.render=p(this.render,this),this.hasTrajectory=p(this.hasTrajectory,this),this.updateRobot=p(this.updateRobot,this),this.playLoop=p(this.playLoop,this),this.controlsRepeat=p(this.controlsRepeat,this),this.controlsNext=p(this.controlsNext,this),this.controlsPlay=p(this.controlsPlay,this),this.controlsRewind=p(this.controlsRewind,this),this.onScrub=p(this.onScrub,this),this.closeToolpath=p(this.closeToolpath,this),this.reloadToolpath=p(this.reloadToolpath,this),this.componentWillUnmount=p(this.componentWillUnmount,this),this.componentDidMount=p(this.componentDidMount,this),this.componentWillMount=p(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.state={toolpathId:null,toolpathName:null,toolpathSpeed:null,toolpathTotalSpeed:null,repeat:!1,play:!1,progress:0,progressMax:0,hasError:!1,toolpathChanged:!1,trajectoryError:!1},this.toolpathsObserver={newTrajectory:function(t){return function(e,n){return t.setState({play:!1,progress:0,progressMax:e.length,trajectoryError:n})}}(this),selected:function(t){return function(e){return t.reloadToolpath(e)}}(this),reset:function(t){return function(){return t.setState({hasError:!1,toolpathTotalSpeed:null},function(){return this.reloadToolpath({})})}}(this),created:function(t){return function(e){return t.reloadToolpath(e)}}(this),updated:function(t){return function(e){return t.reloadToolpath(e)}}(this),changed:function(t){return function(e,n){return t.reloadToolpath(e,n)}}(this),validationResult:function(t){return function(e,n){return t.setState({hasError:null!=e,toolpathTotalSpeed:n})}}(this)},this.robotObserver={moved:function(t){return function(){return t.setState({play:!1,progress:0})}}(this)}}return h(e,t),e.propTypes={userManager:a.a.object.isRequired,enabled:a.a.bool.isRequired,processing:a.a.bool.isRequired},e.prototype.componentWillMount=function(){var t;if(this.reloadToolpath({}),null!=(t=c.a.Request("viewer::scene")))return this.robot=t.robot,this.toolpaths=t.toolpaths,this.toolpaths.observe(this.toolpathsObserver),this.robot.observe(this.robotObserver)},e.prototype.componentDidMount=function(){return this.interval=setInterval(this.playLoop,100)},e.prototype.componentWillUnmount=function(){return clearInterval(this.interval),this.toolpaths.forget(this.toolpathsObserver),this.robot.forget(this.robotObserver)},e.prototype.reloadToolpath=function(t,e){return null==e&&(e=!1),this.setState({toolpathChanged:e,toolpathId:t.id,toolpathName:t.name,toolpathSpeed:t.speed})},e.prototype.closeToolpath=function(){return this.toolpaths.currentReset()},e.prototype.onScrub=function(t){return this.updateRobot(t)},e.prototype.controlsRewind=function(){return this.updateRobot(0)},e.prototype.controlsPlay=function(){return this.setState({play:!this.state.play})},e.prototype.controlsNext=function(){var t,e;return t={},e=this.state.progress+1,e>=this.state.progressMax&&this.state.repeat&&(e=0),this.updateRobot(e),e>=this.state.progressMax-1&&(this.state.repeat||(t.play=!1)),this.setState(t)},e.prototype.controlsRepeat=function(){return this.setState({repeat:!this.state.repeat})},e.prototype.playLoop=function(){if(this.state.play&&this.props.enabled&&this.hasTrajectory())return this.controlsNext()},e.prototype.updateRobot=function(t){var e;if(this.setState({progress:t}),this.hasTrajectory()&&t>=0&&t<this.state.progressMax)return this.robot.setRotations((null!=(e=this.toolpaths.currentTrajectory()[t])?e.rotations:void 0)||[])},e.prototype.hasTrajectory=function(){return!this.state.hasError&&!this.props.processing},e.prototype.render=function(){var t,e;return t=!this.props.enabled||!this.hasTrajectory(),e=this.state.progress>=this.state.progressMax-1&&!this.state.repeat,o.a.createElement("div",null,o.a.createElement("div",{className:"toolpath-controls"},o.a.createElement(u.a,{toolpathId:this.state.toolpathId,toolpathName:this.state.toolpathName,toolpathSpeed:this.state.toolpathSpeed,toolpathTotalSpeed:this.state.toolpathTotalSpeed,enabled:this.props.enabled,toolpathChanged:this.state.toolpathChanged,onCloseToolpath:this.closeToolpath,trajectoryError:this.state.trajectoryError,userManager:this.props.userManager}),o.a.createElement("div",{className:"timeline-controls"},o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.controlsRewind,disabled:t||0==this.state.progress},o.a.createElement("i",{className:"fa fa-fast-backward"})," ",o.a.createElement("span",{className:"sr-only"},"Rewind")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.controlsPlay,disabled:t||e},o.a.createElement("i",{className:"fa fa-"+(this.state.play?"pause":"play")})," ",o.a.createElement("span",{className:"sr-only"},this.state.play?"Pause":"Play")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.controlsNext,disabled:t||e},o.a.createElement("i",{className:"fa fa-forward"})," ",o.a.createElement("span",{className:"sr-only"},"Next step")),o.a.createElement("button",{type:"button",className:"btn-inverted"+(this.state.repeat?" active":""),onClick:this.controlsRepeat,disabled:t},o.a.createElement("i",{className:"fa fa-repeat"})," ",o.a.createElement("span",{className:"sr-only"},"Repeat")))),o.a.createElement("div",{className:"timeline-slider"},o.a.createElement(l.a,{disabled:t,className:"slider",value:this.state.progress,max:this.state.progressMax-1,onAfterChange:this.onScrub,onChange:this.onScrub,withBars:!0})))},e}(r.PureComponent)},1515:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1414),a=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;e.a=function(t){function e(t){this.render=a(this.render,this),this.reset=a(this.reset,this),this.componentWillUnmount=a(this.componentWillUnmount,this),this.componentWillMount=a(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.state={error:null},this.toolpathsObserver={validationResult:function(t){return function(e){return t.setState({error:e})}}(this)}}return s(e,t),e.prototype.componentWillMount=function(){var t;if(null!=(t=i.a.Request("viewer::scene")))return this.toolpaths=t.toolpaths,this.toolpaths.observe(this.toolpathsObserver)},e.prototype.componentWillUnmount=function(){return this.toolpaths.forget(this.toolpathsObserver)},e.prototype.reset=function(){return this.setState({error:null})},e.prototype.render=function(){return o.a.createElement("div",{className:"timeline-error",style:{visibility:this.state.error?"visible":"hidden"}},this.state.error)},e}(r.PureComponent)},1516:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1414),l=n(1502),c=n(1505),u=n(1778),p=n(1504),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(){return this.render=h(this.render,this),this.closeToolpath=h(this.closeToolpath,this),this.onWindowClose=h(this.onWindowClose,this),this.shareToolpath=h(this.shareToolpath,this),this.saveToolpathAs=h(this.saveToolpathAs,this),this.changeSpeed=h(this.changeSpeed,this),this.saveToolpath=h(this.saveToolpath,this),this.renameToolpath=h(this.renameToolpath,this),this.renameToolpathLogic=h(this.renameToolpathLogic,this),this.componentWillMount=h(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.propTypes={userManager:a.a.object.isRequired,toolpathId:a.a.number,toolpathName:a.a.string,toolpathSpeed:a.a.number,toolpathTotalSpeed:a.a.number,enabled:a.a.bool.isRequired,toolpathChanged:a.a.bool.isRequired,trajectoryError:a.a.bool.isRequired,onCloseToolpath:a.a.func.isRequired},e.prototype.componentWillMount=function(){var t;if(null!=(t=s.a.Request("viewer::scene")))return this.toolpaths=t.toolpaths,window.onbeforeunload=this.onWindowClose},e.prototype.renameToolpathLogic=function(t){var e;return e=function(e){return function(n){return"save"===t||"saveas"===t?e.toolpaths.current().create(n):e.toolpaths.current().updateName(n)}}(this),s.a.Emit("modal::change",function(n){return function(){return o.a.createElement(l.a,{mode:t,onDone:e})}}())},e.prototype.renameToolpath=function(t){return this.renameToolpathLogic("rename")},e.prototype.saveToolpath=function(){return null!=this.props.toolpathId?this.toolpaths.current().update():null!=this.props.toolpathName?this.toolpaths.current().create(this.props.toolpathName):this.renameToolpathLogic("save")},e.prototype.changeSpeed=function(){var t,e;return e=this.props.toolpathSpeed,t=function(t){return function(e){return t.toolpaths.current().updateSpeed(e)}}(this),s.a.Emit("modal::change",function(n){return function(){return o.a.createElement(c.a,{value:e,onDone:t})}}())},e.prototype.saveToolpathAs=function(){return null==this.props.toolpathId?this.saveToolpath():this.renameToolpathLogic("saveas")},e.prototype.shareToolpath=function(){var t,e;return e=this.props.userManager,t=function(t){return function(e){return t.toolpaths.current().share(e)}}(this),s.a.Emit("modal::change",function(n){return function(){return o.a.createElement(u.a,{userManager:e,onDone:t})}}())},e.prototype.onWindowClose=function(t){var e,n;if(null!=(n=this.toolpaths.current())?n.hasChanged():void 0)return e="Your unsaved changes will be lost. Do you want to quit without saving?",t.returnValue=e,e},e.prototype.closeToolpath=function(){var t,e;return t=function(t){return function(){return t.props.onCloseToolpath()}}(this),(null!=(e=this.toolpaths.current())?e.hasChanged():void 0)?s.a.Emit("modal::change",function(e){return function(){return o.a.createElement(p.a,{onDone:t})}}()):t()},e.prototype.render=function(){var t,e,n,r;return e=this.props.toolpathName||"Untitled",t=!this.props.enabled,n=null!=this.props.toolpathTotalSpeed?o.a.createElement("span",null,o.a.createElement("strong",null,this.props.toolpathTotalSpeed,o.a.createElement("small",null,"s"))," × ",this.props.toolpathSpeed," = ",o.a.createElement("strong",null,Math.floor(this.props.toolpathTotalSpeed*this.props.toolpathSpeed*100)/100,o.a.createElement("small",null,"s"))):o.a.createElement("span",null,"Invalid toolpath × ",this.props.toolpathSpeed," = N/A"),this.props.trajectoryError&&(r=o.a.createElement("div",{className:"toolpath-traj-error"},o.a.createElement("i",{className:"fa fa-exclamation-triangle"})," Trajectory Error")),o.a.createElement("div",{className:"toolpath-operations"},o.a.createElement("button",{className:"toolpath-name",onClick:this.renameToolpath,disabled:!this.props.enabled},e),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.saveToolpath,disabled:t||!this.props.toolpathChanged},o.a.createElement("i",{className:"fa fa-floppy-o"})," ",o.a.createElement("span",{className:"sr-only"},"Save toolpath")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.saveToolpathAs,disabled:t},o.a.createElement("i",{className:"fa fa-files-o"})," ",o.a.createElement("span",{className:"sr-only"},"Save toolpath as...")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.shareToolpath,disabled:t},o.a.createElement("i",{className:"fa fa-share"})," ",o.a.createElement("span",{className:"sr-only"},"Share toolpath")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.closeToolpath,disabled:!this.props.enabled},o.a.createElement("i",{className:"fa fa-times"})," ",o.a.createElement("span",{className:"sr-only"},"Select new toolpath")),o.a.createElement("span",{className:"separator"}),o.a.createElement("button",{type:"button",className:"btn-inverted",disabled:!this.props.enabled,onClick:this.changeSpeed},o.a.createElement("i",{className:"fa fa-dashboard"})," ",o.a.createElement("span",{className:"sr-only"},"Toolpath speed")),o.a.createElement("div",{className:"toolpath-speed-info"},"Duration: ",n),o.a.createElement("span",{className:"separator"}),r)},e}(r.PureComponent)},1517:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1567),a=n(1414),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=i.a.MakeDnD(null,{type:i.a.Types.EVERYTHING,spec:{drop:function(t,e,n){var r,o;if(e.canDrop()&&(r=e.getItem(),null!=r.id&&null!=(o=a.a.Request("viewer::scene").toolpaths.current())))return o.removeElement(r.id),r.changed=!0,r}}},function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.render=function(){var t;return t="",this.props.canDrop&&(t=this.props.isOver?"dnd-active":"dnd-passive"),o.a.createElement("div",{className:"timeline-trash "+t})},e}(r.PureComponent))},1518:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1153),u=n(1415),p=n(1414),h=n(1424),d=n(1449),m=n(1520),f=function(t,e){return function(){return t.apply(e,arguments)}},y=function(t,e){function n(){this.constructor=t}for(var r in e)v.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;e.a=function(t){function e(t){this.render=f(this.render,this),this.endDrag=f(this.endDrag,this),this.drag=f(this.drag,this),this.startDrag=f(this.startDrag,this),this.zoomOut=f(this.zoomOut,this),this.zoomIn=f(this.zoomIn,this),this.zoom=f(this.zoom,this),this.elementsChanged=f(this.elementsChanged,this),this.checkFit=f(this.checkFit,this),this.move=f(this.move,this),this.centerView=f(this.centerView,this),this.resize=f(this.resize,this),this.componentDidMount=f(this.componentDidMount,this),this.componentWillMount=f(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.scrollStep=25,this.oheight=this.uheight=h.a.Height,this.empty=!0,this.limitX=0,this.limitY=0,this.limitYOffset=0,this.unit=1,this.uwidth=0,this.width=1,this.height=1,this.x=0,this.y=0,this.dragging=null,this.defaultIfBranches=[{timeline:[]}]}return y(e,t),e.propTypes={enabled:a.a.bool.isRequired,processing:a.a.bool.isRequired},e.prototype.componentWillMount=function(){var t;if(null!=(t=p.a.Request("viewer::scene")))return this.camera=t.camera},e.prototype.componentDidMount=function(){return l()(this.refs.svg).on("mousedown touchstart",this.startDrag).on("mousemove touchmove",this.drag).on("mouseup mouseout touchend",this.endDrag)},e.prototype.resize=function(){var t;return t=l()(this.refs.svg_parent),this.width=t.width(),this.height=t.height()-h.a.ControlBoxHeight,this.unit=this.uheight/this.height,this.uwidth=this.width*this.unit,l()(this.refs.svg).attr("width",this.width).attr("height",this.height).css("margin-top",h.a.ControlBoxHeight),this.move(this.x,this.y)},e.prototype.centerView=function(){return this.uheight=this.oheight,this.x=0,this.y=0,this.resize()},e.prototype.move=function(t,e){var r,o,i;return o=this.limitX/this.unit-this.width,r=-this.limitYOffset/this.unit,i=(this.limitY-this.limitYOffset)/this.unit-this.height,this.x=n.i(u.d)(t,0,o<0?o/2:o),this.y=n.i(u.d)(e,r,i<r?i/2:i),this.refs.svg.setAttribute("viewBox",this.x*this.unit+" "+this.y*this.unit+" "+this.uwidth+" "+this.uheight)},e.prototype.checkFit=function(){return!(this.y*this.unit>-this.limitYOffset||this.uheight<this.limitY-this.limitYOffset)},e.prototype.elementsChanged=function(t,e,n,r){return this.empty=t,this.limitX=e,this.limitY=Math.max(n,h.a.Height),this.limitYOffset=r,this.oheight=this.limitY,this.checkFit()&&!this.empty?this.move(this.x,this.y):(this.y=Math.min(-this.limitYOffset/this.unit,0),this.uheight=this.limitY,this.resize())},e.prototype.zoom=function(t){return this.uheight+=this.scrollStep*t,this.uheight=n.i(u.d)(this.uheight,10,1e3),this.resize()},e.prototype.zoomIn=function(){return this.zoom(-1)},e.prototype.zoomOut=function(){return this.zoom(1)},e.prototype.startDrag=function(t){if(t.target===this.refs.svg&&!this.empty)return t.preventDefault(),this.dragging=this.camera.getPointerPosition(t)},e.prototype.drag=function(t){var e,n;if(null!=this.dragging)return t.preventDefault(),e=this.camera.getPointerPosition(t),n=(new c.a).subVectors(this.dragging,e),this.dragging=e,this.move(this.x+n.x,this.y+n.y)},e.prototype.endDrag=function(){return this.dragging=null},e.prototype.render=function(){return o.a.createElement("div",{className:"fluid-object",ref:"svg_parent"},o.a.createElement("div",{className:"timeline-controlbox"},o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.centerView,disabled:!this.props.enabled},o.a.createElement("i",{className:"fa fa-dot-circle-o"})," ",o.a.createElement("span",{className:"sr-only"},"Center")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.zoomOut,disabled:!this.props.enabled},o.a.createElement("i",{className:"fa fa-minus"})," ",o.a.createElement("span",{className:"sr-only"},"Zoom Out")),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.zoomIn,disabled:!this.props.enabled},o.a.createElement("i",{className:"fa fa-plus"})," ",o.a.createElement("span",{className:"sr-only"},"Zoom In")),o.a.createElement("span",{className:"separator"}),o.a.createElement(m.a,{category:"controls",type:"grid",icon:"th",enabled:this.props.enabled}),o.a.createElement(m.a,{category:"controls",type:"wait",icon:"pause",enabled:this.props.enabled}),o.a.createElement("span",{className:"mini-separator"}),o.a.createElement(m.a,{category:"actions",type:"output-set",icon:"sign-out",enabled:this.props.enabled})),o.a.createElement("svg",{className:"actual-timeline",ref:"svg"},o.a.createElement(d.a,{enabled:this.props.enabled,processing:this.props.processing,key:"root",id:"root",onNewState:this.elementsChanged})))},e}(r.PureComponent)},1519:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(390),l=(n.n(s),n(1414)),c=n(1569),u=n(1573),p=n(1514),h=n(1518),d=n(1441),m=n(1515),f=function(t,e){return function(){return t.apply(e,arguments)}},y=function(t,e){function n(){this.constructor=t}for(var r in e)v.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;e.a=function(t){function e(t){this.render=f(this.render,this),this.toggle=f(this.toggle,this),this.setDnDActive=f(this.setDnDActive,this),this.onEnabled=f(this.onEnabled,this),this.resize=f(this.resize,this),this.componentWillUnmount=f(this.componentWillUnmount,this),this.componentDidMount=f(this.componentDidMount,this),this.componentWillMount=f(this.componentWillMount,this),e.__super__.constructor.call(this,t),l.a.Register("viewer::timeline::dnd_active",this.setDnDActive),c.a.call(this,this.onEnabled),this.state={processing:!1,preview:!1,open:!1,dnd_active:!1,enabled:!0},this.StorageKeyOpen="viewer/timeline/open",this.toolpathsObserver={processing:function(t){return function(){return t.setState({processing:!0})}}(this),processingEnd:function(t){return function(){return t.setState({processing:!1})}}(this),selected:function(t){return function(e){var n,r;return r={processing:!1},n="true"===u.a.Retrieve(t.StorageKeyOpen,!1),n&&(r.open=!0),t.setState(r)}}(this),reset:function(t){return function(){return t.setState({processing:!1}),t.refs.error.reset()}}(this)}}return y(e,t),e.propTypes={userManager:a.a.object.isRequired},e.prototype.componentWillMount=function(){var t;if(null!=(t=l.a.Request("viewer::scene")))return this.scene=t,this.toolpaths=t.toolpaths,this.toolpaths.observe(this.toolpathsObserver),this.mountCommons(t)},e.prototype.componentDidMount=function(){return this.setState({preview:!0})},e.prototype.componentWillUnmount=function(){return this.toolpaths.forget(this.toolpathsObserver),this.unmountCommons(this.scene)},e.prototype.resize=function(){return this.refs.timeline.resize()},e.prototype.onEnabled=function(t){return this.setState({enabled:t})},e.prototype.setDnDActive=function(t){return this.setState({dnd_active:t})},e.prototype.toggle=function(){var t;return t=!this.state.open,u.a.Store(this.StorageKeyOpen,t),this.setState({open:t}),this.resize()},e.prototype.render=function(){var t,e;return t=this.state.enabled&&!this.state.processing,this.state.preview&&(e=o.a.createElement(s.Preview,{generator:d.a})),o.a.createElement("div",{className:"to-hide"},o.a.createElement("div",{className:"viewer-timeline "+(this.state.open?" open":"")},o.a.createElement("div",{className:"viewer-timeline-tab",onClick:this.toggle},o.a.createElement("i",{className:"fa fa-3x fa-angle-double-up"})),o.a.createElement("div",{className:"viewer-timeline-content"},o.a.createElement(p.a,{ref:"controls",enabled:t,processing:this.state.processing,userManager:this.props.userManager}),o.a.createElement("div",{className:"toolpath-timeline "+(this.state.dnd_active?"dnd-active":"")},o.a.createElement(h.a,{ref:"timeline",enabled:t,processing:this.state.processing}),o.a.createElement(m.a,{ref:"error"})))),e)},e}(r.PureComponent)},1520:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1567),l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;e.a=s.a.MakeDnD({type:s.a.Types.FUNCTION},null,function(t){function e(){return this.render=l(this.render,this),this.getDragObject=l(this.getDragObject,this),e.__super__.constructor.apply(this,arguments)}return c(e,t),e.propTypes={category:a.a.string.isRequired,icon:a.a.string.isRequired,enabled:a.a.bool.isRequired,type:a.a.string.isRequired},e.prototype.getDragObject=function(){return{rootActive:!0,object:{type:this.props.type}}},e.prototype.render=function(){var t;return t="btn-inverted tool-icon bg-"+this.props.category+" "+(this.props.enabled?"":"disabled"),o.a.createElement("span",{className:t},o.a.createElement("i",{className:"fa fa-"+this.props.icon}))},e}(r.PureComponent))},1521:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1414),u=n(1498),p=n(1567),h=n(1449),d=n(1779),m=n(1450),f=n(1424),y=n(1430),v=function(t,e){return function(){return t.apply(e,arguments)}},g=function(t,e){function n(){this.constructor=t}for(var r in e)_.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;e.a=function(t){function e(){return this.render=v(this.render,this),this.generateIf=v(this.generateIf,this),this.addIfBranch=v(this.addIfBranch,this),this.generateIfBranch=v(this.generateIfBranch,this),this.deleteIfBranch=v(this.deleteIfBranch,this),e.__super__.constructor.apply(this,arguments)}return g(e,t),e.propTypes={tool_parent:a.a.object.isRequired,enabled:a.a.bool.isRequired,noDnD:a.a.bool.isRequired,id:a.a.string,type:a.a.string.isRequired,condition:a.a.string,branches:a.a.array},e.prototype.deleteIfBranch=function(t){var e,n;if(t.preventDefault(),this.props.enabled)return e=l()(t.target).closest(".timeline-if-branch").data("branch-index"),n=function(t){return function(){var n,r;return r=t.props.tool_parent.toolpaths.current(),n=r.lookup(t.props.id),n.removeBranch(e),n.branches.length<1&&(r.removeElement(t.props.id),n.destroy()),r.changed()}}(this),c.a.Emit("modal::change",function(t){return function(){return o.a.createElement(u.a,{onDeleteBranch:n})}}())},e.prototype.generateIfBranch=function(t,e,r){var i,a,s,l,c,u,d,y,v,g,_,b,w,E,C,x,N,T,S,O,R,P,k,D,M,I;return s=this.props.enabled,x=n.i(m.a)(this.props,e,p.a.Types.CONDITION,"condition",r),c=r%2==0,_=c?"evenHeight":"oddHeight",N=(null!=(b=this.props.sizes[r])?b.width:void 0)||f.a.BranchDefaultWidth,d=(null!=(w=this.props.sizes[r])?w.maxWidth:void 0)||N,l=(null!=(E=this.props.sizes[r])?E.height:void 0)||f.a.BranchDefaultHeight,g=(null!=(C=this.props.sizes[r])?C.offsetY:void 0)||0,k=t[_],c?k+=g:k=-k-(l-g),u=(d-N)/2,T=0,S=T+f.a.BranchOffsetX,P=S+f.a.BranchConditionWidth+f.a.BranchMarginX,O=P+d,R=O+f.a.BranchOffsetX,D=f.a.LinePosition,M=k+f.a.LinePosition,i="M "+T+", "+D+" C "+S+", "+D+", "+T+", "+M+", "+S+", "+M,a="M "+O+", "+M+" C "+R+", "+M+", "+O+", "+D+", "+R+", "+D,t[_]+=l+f.a.BranchMarginY,y=o.a.createElement("line",{x1:S,y1:M,x2:P+u+10,y2:M,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}),v=u>0?o.a.createElement("line",{x1:O-u-10,y1:M,x2:O,y2:M,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}):o.a.createElement("line",{x1:O-10,y1:M,x2:O,y2:M,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}),I=k+(f.a.BranchDefaultHeight-f.a.BranchConditionHeight)/2,o.a.createElement("g",{key:r,className:"timeline-if-branch","data-branch-index":r,onContextMenu:this.deleteIfBranch},o.a.createElement("path",{d:i,stroke:f.a.LineColor,strokeWidth:f.a.LineSize,fillOpacity:"0"}),y,v,o.a.createElement("path",{d:a,stroke:f.a.LineColor,strokeWidth:f.a.LineSize,fillOpacity:"0"}),o.a.createElement("svg",{x:S,y:I},x),o.a.createElement("svg",{x:P+u,y:k},o.a.createElement(h.a,{enabled:s,key:e.timeline,id:e.timeline,processing:!1,noDnD:this.props.noDnD})))},e.prototype.addIfBranch=function(){var t;if(this.props.enabled)return t=this.props.tool_parent.toolpaths.current(),t.updateElement(this.props.id,function(e){return function(n){var r;return r=t.deserializeElements(e.props.id,e.props.id+"-"+n.counter++,[]),n.appendBranch(r.id)}}(this))},e.prototype.generateIf=function(){var t,e,n,r,i,a,s,l,c;return l={evenHeight:f.a.LinePosition+f.a.BranchFromLine,oddHeight:f.a.BranchFromLine-f.a.LinePosition},0,null!=this.props.branches&&(t=this.props.branches.map(this.generateIfBranch.bind(this,l)),this.props.branches.length),i=f.a.BranchHandleWidth/1.1414,r=i,a=(f.a.BranchOffsetX-i)/2,s=f.a.LinePosition-r/2,e=a+f.a.BranchHandleWidth,n=f.a.LinePosition+f.a.BranchHandleWidth/2,c="rotate(45 "+(a+i/2)+" "+(s+r/2)+")",o.a.createElement("g",null,t,o.a.createElement("rect",{x:a,y:s,width:i,height:r,transform:c,fill:y.a}),o.a.createElement(d.a,{x:e,y:n,iconCode:"",fontSize:16,onAction:this.addIfBranch}))},e.prototype.render=function(){return this.props.tool_parent.generateTool(this.props.type,"controls",this.generateIf())},e}(r.PureComponent)},1522:function(t,e,n){"use strict";var r=n(0),o=(n.n(r),n(1689)),i=n.n(o),a=n(1430),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={tool_parent:i.a.object.isRequired,enabled:i.a.bool.isRequired,id:i.a.string,type:i.a.string.isRequired,mode:i.a.string,valueMode:i.a.string,value:i.a.any,thresholdUpper:i.a.number,thresholdLower:i.a.number},e.prototype.render=function(){return n.i(a.c)(this.props,"conditions","Input")},e}(r.PureComponent)},1523:function(t,e,n){"use strict";var r=n(0),o=(n.n(r),n(1689)),i=n.n(o),a=n(1424),s=n(1430),l=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;e.a=function(t){function e(){return this.render=l(this.render,this),e.__super__.constructor.apply(this,arguments)}return c(e,t),e.propTypes={tool_parent:i.a.object.isRequired,enabled:i.a.bool.isRequired,id:i.a.string,type:i.a.string.isRequired,mode:i.a.string,value:i.a.string},e.prototype.render=function(){var t;return t=(a.a.DefaultHeight-a.a.ConditionHeight)/2,n.i(s.c)(this.props,"actions","Set Output",{color:s.d,x:0,y:t,action:"onContextMenu"})},e}(r.PureComponent)},1524:function(t,e,n){"use strict";var r=n(0),o=(n.n(r),n(1689)),i=n.n(o),a=n(1430),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={tool_parent:i.a.object.isRequired,enabled:i.a.bool.isRequired,id:i.a.string,type:i.a.string.isRequired,mode:i.a.string,valueMode:i.a.string,value:i.a.any,thresholdUpper:i.a.number,thresholdLower:i.a.number},e.prototype.render=function(){return n.i(a.c)(this.props,"conditions","Test Output")},e}(r.PureComponent)},1526:function(t,e,n){"use strict";var r=n(0),o=(n.n(r),n(1689)),i=n.n(o),a=n(1430),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(){return this.render=s(this.render,this),e.__super__.constructor.apply(this,arguments)}return l(e,t),e.propTypes={tool_parent:i.a.object.isRequired,enabled:i.a.bool.isRequired,id:i.a.string,type:i.a.string.isRequired,duration:i.a.number},e.prototype.render=function(){var t;return n.i(a.c)(this.props,"conditions","Time",{text:[(null!=(t=this.props.duration)?t:"N/A")+" ms"]})},e}(r.PureComponent)},1527:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(0),a=n.n(i),s=n(1689),l=n.n(s),c=n(1414),u=n(1567),p=n(1521),h=n(1528),d=n(1793),m=n(1523),f=n(1526),y=n(1522),v=n(1524),g=n(1791),_=n(1792);n.d(e,"b",function(){return x});var b,w=function(t,e){return function(){return t.apply(e,arguments)}},E=function(t,e){function n(){this.constructor=t}for(var r in e)C.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},C={}.hasOwnProperty;b=function(t){function e(){return this.render=w(this.render,this),this.getDragObject=w(this.getDragObject,this),this.generateTool=w(this.generateTool,this),this.componentWillMount=w(this.componentWillMount,this),e.__super__.constructor.apply(this,arguments)}return E(e,t),e.propTypes={id:l.a.string,type:l.a.string.isRequired,enabled:l.a.bool.isRequired,noDnD:l.a.bool,inBranch:l.a.bool.isRequired,sizes:l.a.array,parent:l.a.string,condition:l.a.string,branches:l.a.array,w0:l.a.string,wx:l.a.string,wy:l.a.string,timeline:l.a.string,cols:l.a.number,rows:l.a.number,duration:l.a.number,z_offset:l.a.any,speed:l.a.number,mode:l.a.string,valueMode:l.a.string,value:l.a.any,thresholdUpper:l.a.number,thresholdLower:l.a.number,x:l.a.number,y:l.a.number,width:l.a.number,height:l.a.number,viewBox:l.a.string,htmlMode:l.a.bool,onClick:l.a.func},e.defaultProps={noDnD:!1,sizes:[]},e.GetType=function(t){return"grid-waypoint"===t.type?u.a.Types.GRID_WAYPOINT:u.a.Types.FUNCTION},e.GetTarget=function(t){var e;return 0===(null!=(e=t.parent)?e.indexOf("grid"):void 0)?u.a.Types.GRID_TIMELINE:u.a.Types.TIMELINE},e.prototype.componentWillMount=function(){var t;if(null!=(t=c.a.Request("viewer::scene")))return this.toolpaths=t.toolpaths},e.prototype.generateTool=function(t,e,n,r,i){var s,l,c,u,p,h,d,m,f;return null==r&&(r={}),d=null!=(c=this.props.width)?c:null,l=null!=(u=this.props.height)?u:null,m=null!=this.props.x?this.props.x-(this.props.htmlMode&&null!=this.props.width?this.props.width/2:0):null,f=null!=this.props.y?this.props.y-(this.props.htmlMode&&null!=this.props.height?this.props.height/2:0):null,h=null!=(p=this.props.viewBox)?p:this.props.htmlMode?"0 0 100 100":null,this.props.noDnD||"conditions"===e||(n=this.renderDnD(n)),s="toolpath-tool tools-"+e+" tool-"+t+" "+(this.props.isDragging?"dnd-active":""),a.a.createElement("svg",o()({className:s,x:m,y:f,viewBox:h,width:d,height:l,onClick:this.props.onClick},r),n,i)},e.prototype.getDragObject=function(){var t,e,n,r,o;for(o=[],"output-set"===this.props.type?o=["mode","value"]:"if"===this.props.type?o=["branches"]:"wait"===this.props.type?o=["condition"]:"grid"===this.props.type?o=["w0","wx","wy","timeline","cols","rows"]:"grid-waypoint"===this.props.type&&(o=["speed","z_offset"]),n={id:this.props.id,type:this.props.type},t=0,e=o.length;t<e;t++)r=o[t],n[r]=this.props[r];return{rootActive:"grid-waypoint"!==this.props.type,object:n}},e.prototype.render=function(){var t,e,n;return n=Object.assign({tool_parent:this},this.props),t={mode:this.props.mode,valueMode:this.props.valueMode,value:this.props.value,thresholdUpper:this.props.thresholdUpper,thresholdLower:this.props.thresholdLower},"if"===this.props.type?e=a.a.createElement(p.a,o()({},n,{condition:this.props.condition,branches:this.props.branches})):"wait"===this.props.type?e=a.a.createElement(h.a,o()({},n,{condition:this.props.condition})):"restart"===this.props.type?e=a.a.createElement(d.a,n):"output-set"===this.props.type?e=a.a.createElement(m.a,o()({},n,{mode:this.props.mode,value:this.props.value})):"time"===this.props.type?e=a.a.createElement(f.a,o()({},n,{duration:this.props.duration})):"input"===this.props.type?e=a.a.createElement(y.a,o()({},n,t)):"output-test"===this.props.type?e=a.a.createElement(v.a,o()({},n,t)):"grid"===this.props.type?e=a.a.createElement(g.a,o()({},n,{w0:this.props.w0,wx:this.props.wx,wy:this.props.wy,cols:this.props.cols,rows:this.props.rows})):"grid-waypoint"===this.props.type&&(e=a.a.createElement(_.a,o()({},n,{speed:this.props.speed,z_offset:this.props.z_offset}))),e},e}(i.PureComponent);var x=u.a.MakeDnD({type:b.GetType},{type:b.GetTarget},b,{disableRender:!0});e.a=b},1528:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1567),l=n(1450),c=n(1424),u=n(1427),p=n(1430),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(){return this.render=h(this.render,this),this.generateWait=h(this.generateWait,this),e.__super__.constructor.apply(this,arguments)}return d(e,t),e.propTypes={tool_parent:a.a.object.isRequired,id:a.a.string,type:a.a.string.isRequired,condition:a.a.string,waypoint:a.a.string},e.prototype.generateWait=function(){var t,e,r,i,a;return e=[n.i(l.a)(this.props,this.props,s.a.Types.CONDITION,"condition")],a=c.a.WaitWidth,i=c.a.WaitHeight,t=c.a.BranchConditionFont,r=1.8*t,o.a.createElement("g",null,o.a.createElement("rect",{x:"0",y:"0",width:a,height:i,rx:3,ry:3,fill:p.a}),o.a.createElement(u.a,{decoration:"bold",size:t,color:"#ffffff",halign:"middle",x:a/2,valign:"middle",y:r/2},"Wait"),o.a.createElement("svg",{x:c.a.WaitMarginX,y:r},e[0]))},e.prototype.render=function(){return this.props.tool_parent.generateTool(this.props.type,"controls",this.generateWait())},e}(r.PureComponent)},1534:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1562),l=n(1415),c=n(1414),u=n(1779),p=n(1782),h=n(1784),d=n(1781),m=n(1783),f=n(1780),y=n(1794),v=function(t,e){return function(){return t.apply(e,arguments)}},g=function(t,e){function n(){this.constructor=t}for(var r in e)_.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;e.a=function(t){function e(t){this.render=v(this.render,this),this.clickCanvas=v(this.clickCanvas,this),this.escapePressed=v(this.escapePressed,this),this.close=v(this.close,this),this.formatAngle=v(this.formatAngle,this),this.copyWaypoint=v(this.copyWaypoint,this),this.generateContext=v(this.generateContext,this),this.addWaypoint=v(this.addWaypoint,this),this.generateWheel=v(this.generateWheel,this),this.generateWheelWithActions=v(this.generateWheelWithActions,this),this.componentWillUnmount=v(this.componentWillUnmount,this),this.componentWillMount=v(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.wheel_diameter=100,this.wheel_radius=this.wheel_diameter/2,this.actions_radius=42,this.state={tool:s.c.NONE,zoiStyle:{},context:null,waypoint:null,chooser:{},grid:null},this.waypointsObserver={updated:function(t){return function(e){if(e.activated)return t.setState({waypoint:t.copyWaypoint(e)})}}(this),deleted:function(t){return function(e){if(t.state.tool===s.c.WAYPOINT)return t.close()}}(this)},this.cameraObserver={controlsSwitch:function(t){return function(e,n){var r,o;return e===s.c.WAYPOINT&&(o=t.copyWaypoint(t.waypoints.activeWaypoint)),e===s.c.GRID&&(r=n.userData.grid),t.setState({tool:e,waypoint:o,grid:r})}}(this),updateObjectPosition:function(t){return function(e,n){var r,o,i,a,l;return i=t.props.getSize(),l=s.b.ZOISize*(i.width<i.height?i.width:i.height),l=Math.min(Math.min(l,i.height),i.width),r=l/2,o=e.x*i.width-r,a=e.y*i.height-r,l>i.width-o&&(o=i.width-l),l>i.height-a&&(a=i.height-l),t.setState({context:n,zoiStyle:{left:Math.max(0,o),top:Math.max(0,a),width:l,height:l}})}}(this),selectChoices:function(t){return function(e,n){return t.setState({chooser:{chosen:e,choices:n}})}}(this)}}return g(e,t),e.propTypes={getSize:a.a.func.isRequired,onlineMode:a.a.bool.isRequired,channelSend:a.a.func.isRequired},e.prototype.componentWillMount=function(){var t;if(null!=(t=c.a.Request("viewer::scene")))return this.camera=t.camera,this.robot=t.robot,this.waypoints=t.waypoints,this.waypoints.observe(this.waypointsObserver),this.camera.observe(this.cameraObserver)},e.prototype.componentWillUnmount=function(){return this.waypoints.forget(this.waypointsObserver),this.camera.forget(this.cameraObserver)},e.prototype.generateWheelWithActions=function(t,e){var n,r,i,a,s,l;return null==t&&(t=[]),s=null!=e?e:{},r=s.center,n=null==(l=s.addClose)||l,n&&t.push({text:"Close",icon:"times-circle",icon_code:"",action:this.close}),a=10-.5*t.length,i=t.map(function(t){return function(t,e){return function(n){var r;return r=n(),o.a.createElement(u.a,{key:e,x:r.x,y:r.y,enabled:t.enabled,iconCode:t.icon_code,fontSize:a,onAction:t.action})}}}()),this.generateWheel(i,{more:r})},e.prototype.generateWheel=function(t,e){var n,r,i,a,s,c,u,p,h;return s=null!=e?e:{},i=null!=(c=s.more)?c:null,r=null!=(u=s.fullCircle)&&u,n=-l.b.PI/t.length,r&&(n*=2),h=l.b.PI,a=n/2,p=t.map(function(t){return function(e,r){var o;return o=function(e,o){return null==o&&(o=0),t.constructor.InvertedPolar(h+n*r+o,e,t.wheel_radius)},e(o.bind(null,t.actions_radius,a),o)}}(this)),null!=i&&p.push(i),o.a.createElement("g",null,p)},e.prototype.addWaypoint=function(t){return this.waypoints.addWaypoint(t,n.i(l.g)(16777215*Math.random()),this.robot.getRotations())},e.InvertedPolar=function(t,e,r){var o;return o=n.i(l.h)(t,e,{offsetX:r}),o.y=-1*o.y+r,o},e.prototype.generateContext=function(){var t,e,n,r,i,a,l;return null!=this.state.context&&(e="wheel-counter",n=[],this.state.tool===s.c.ROTATE?(e+=" large",l="°",a=this.formatAngle(this.state.context.offset),t=this.formatAngle(this.state.context.angle),n.push(o.a.createElement("div",{key:0},o.a.createElement("span",{className:"clabel"},"Offset: "),o.a.createElement("span",{className:"number"},a),o.a.createElement("small",null," ",l))),n.push(o.a.createElement("div",{key:1},o.a.createElement("span",{className:"clabel"},"Angle: "),o.a.createElement("span",{className:"number"},t),o.a.createElement("small",null," ",l)))):(this.state.context.isAngle?(l="°",i=this.formatAngle(this.state.context.offset)):(l="mm",i=this.state.context.offset),n.push(o.a.createElement("span",{key:2},o.a.createElement("span",{className:"number"},i),o.a.createElement("small",null," ",l)))),r=o.a.createElement("div",{className:e},n)),r},e.prototype.copyWaypoint=function(t){var e,n,r,o,i;if(null==t)return null;for(e={},i=["id","type","color","rotations"],n=0,r=i.length;n<r;n++)o=i[n],e[o]=t[o];return e},e.prototype.formatAngle=function(t){return Math.round(n.i(l.i)(t))},e.prototype.close=function(){if(this.state.tool!==s.c.JOG&&this.state.tool!==s.c.BACKDRIVING)return this.camera.exitMode()},e.prototype.escapePressed=function(){return this.close()},e.prototype.clickCanvas=function(t){var e,n,r,o;if(this.state.tool!==s.c.NONE&&null!=(e=this.camera.getPointerPosition(t)))return r=this.props.getSize(),n=this.state.zoiStyle.width/2,o={x:this.state.zoiStyle.left+n,y:this.state.zoiStyle.top+n+r.offsetTop,radius:n},Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2)>Math.pow(o.radius,2)?this.close():void 0},e.prototype.render=function(){var t,e,n,r,i;return r=this.state.tool!==s.c.NONE,n=this.constructor.InvertedPolar,r&&(e=this.generateContext(),this.state.tool===s.c.NUDGE||this.state.tool===s.c.ROTATE?t=o.a.createElement(p.a,{generator:this.generateWheelWithActions,addWaypoint:this.addWaypoint}):this.state.tool===s.c.WAYPOINT?t=o.a.createElement(h.a,{generator:this.generateWheelWithActions,waypoint:this.state.waypoint,onlineMode:this.props.onlineMode,channelSend:this.props.channelSend}):this.state.tool===s.c.CHOOSER?t=o.a.createElement(d.a,{generator:this.generateWheel,chosen:this.state.chooser.chosen,choices:this.state.chooser.choices,invertedPolar:n}):this.state.tool===s.c.JOG?t=o.a.createElement(m.a,{generator:this.generateWheelWithActions}):this.state.tool===s.c.BACKDRIVING?t=o.a.createElement(f.a,{generator:this.generateWheelWithActions}):this.state.tool===s.c.GRID&&(t=o.a.createElement(y.a,{generator:this.generateWheelWithActions,grid:this.state.grid}))),i="0 0 "+this.wheel_diameter+" "+this.wheel_diameter,o.a.createElement("div",{className:"viewer-zoi to-hide "+(r?"opened":""),style:this.state.zoiStyle},o.a.createElement("svg",{className:"viewer-wheel",viewBox:i},t),e)},e}(r.PureComponent)},1535:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=n(1414),u=n(1571),p=n(1562),h=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;e.a=function(t){function e(t){this.render=h(this.render,this),this.setCursor=h(this.setCursor,this),this.getCursor=h(this.getCursor,this),this.componentWillUnmount=h(this.componentWillUnmount,this),this.componentDidMount=h(this.componentDidMount,this),this.componentWillMount=h(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.state={cursor:null},this.robotObserver={gizmoHover:function(t){return function(e){return t.setCursor(e,"can-click")}}(this),jointHover:function(t){return function(e){return t.setCursor(e,"can-click")}}(this)},this.waypointsObserver={hovered:function(t){return function(e){return t.setCursor(e,"can-click")}}(this),hoverActivated:function(t){return function(e){return t.setCursor(e,"can-click")}}(this),gizmoHover:function(t){return function(e){return t.setCursor(e,"can-click")}}(this)},this.cameraObserver={controlsSwitch:function(t){return function(e){return t.setState({cursor:t.getCursor(e)})}}(this)},this.toolpathsObserver={gridHover:function(t){return function(e){return t.setCursor(e,"can-click")}}(this)}}return d(e,t),e.propTypes={element:a.a.object.isRequired,stats:a.a.object,clickCanvas:a.a.func.isRequired},e.prototype.componentWillMount=function(){var t;return t=c.a.Request("viewer::scene"),this.robot=t.robot,this.waypoints=t.waypoints,this.camera=t.camera,this.toolpaths=t.toolpaths,this.robot.observe(this.robotObserver),this.waypoints.observe(this.waypointsObserver),this.camera.observe(this.cameraObserver),this.toolpaths.observe(this.toolpathsObserver)},e.prototype.componentDidMount=function(){return l()(this.refs.canvas.refs.node).bind("touchstart mousedown",this.props.clickCanvas)},e.prototype.componentWillUnmount=function(){return this.robot.forget(this.robotObserver),this.waypoints.forget(this.waypointsObserver),this.camera.forget(this.cameraObserver),this.toolpaths.forget(this.toolpathsObserver),l()(this.refs.canvas.refs.node).unbind("touchstart mousedown",this.props.clickCanvas)},e.prototype.getCursor=function(t){var e;return e=null,t===p.c.NUDGE&&(e="can-nudge"),t===p.c.ROTATE&&(e="can-rotate"),t!==p.c.WAYPOINT&&t!==p.c.CHOOSER||(e="regular-cursor"),e},e.prototype.setCursor=function(t,e){return this.setState({cursor:t?e:this.getCursor(this.camera.currentTool)})},e.prototype.render=function(){var t;return t="viewer-canvas "+(null!=this.state.cursor?this.state.cursor:""),o.a.createElement("div",{className:t},o.a.createElement(u.a,{node:this.props.element,ref:"canvas"}),o.a.createElement("div",{className:"to-hide"},o.a.createElement(u.a,{node:this.props.stats})))},e}(r.PureComponent)},1536:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=n.n(s),c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e.a=function(t){function e(t){this.render=c(this.render,this),this.onLoadingFinished=c(this.onLoadingFinished,this),this.onLoadingFailed=c(this.onLoadingFailed,this),this.onLoadingProgress=c(this.onLoadingProgress,this),this.resetDeviceSize=c(this.resetDeviceSize,this),e.__super__.constructor.call(this,t),this.state={bad_device:!1,bad_orientation:!1,loading:!0,loading_progress:0,loading_error:null},this.minima={width:0,height:0}}return u(e,t),e.propTypes={shown:a.a.bool.isRequired,onChange:a.a.func.isRequired,onLoaded:a.a.func.isRequired,getSize:a.a.func.isRequired},e.prototype.resetDeviceSize=function(){var t,e,n;if(e={bad_device:!1,bad_orientation:!1},n=this.props.getSize(),(n.width<this.minima.width||n.height+n.offsetTop<this.minima.height)&&(n.height+n.offsetTop>=this.minima.width&&n.width>=this.minima.height?e.bad_orientation=!0:e.bad_device=!0),this.setState(e),t=e.bad_orientation||e.bad_device,!this.state.loading)return this.props.onChange(t)},e.prototype.onLoadingProgress=function(t){return this.setState({loading_progress:t})},e.prototype.onLoadingFailed=function(t){return this.setState({loading_error:t})},e.prototype.onLoadingFinished=function(){return this.setState({loading:!1}),this.state.bad_device||this.state.bad_orientation||this.props.onChange(!1),this.props.onLoaded(),l()(window).trigger("resize")},e.prototype.render=function(){var t,e,n,r,i,a,s;return s="overlay-screen"+(this.props.shown?"":" overlay-hidden")+(this.state.loading?" overlay-loading":""),this.state.bad_device||this.state.bad_orientation?(t=this.state.bad_device,n="There is not enough space to display the 3D viewer correctly, "+(t?"":"rotate your device (if possible) or ")+"use a bigger device",r=o.a.createElement("div",{className:"overlay-info overlay-info-background"},o.a.createElement("h3",{className:"text-danger"},t?"Device too small":"Rotate device"),o.a.createElement("p",null,n),o.a.createElement("p",null,o.a.createElement("a",{className:"btn btn-primary",href:"/"},o.a.createElement("i",{className:"fa fa-dashboard"})," Back to Dashboard")))):this.state.loading&&(a=Math.round(100*this.state.loading_progress),e=null!=this.state.loading_error?"danger":"primary",null!=this.state.loading_error&&(i=o.a.createElement("h4",{className:"overlay-text text-danger"},"Failed to load ",this.state.loading_error)),r=o.a.createElement("div",{className:"overlay-info"},o.a.createElement("h3",{className:"text-"+e},this.state.loading_error?"Error":"Loading"),o.a.createElement("div",{className:"progress"},o.a.createElement("div",{className:"progress-bar progress-bar-"+e,role:"progressbar","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",style:{width:a+"%"}})),i)),o.a.createElement("div",{className:s,ref:"overlay"},r)},e}(r.PureComponent)},1537:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(1414),l=n(1503),c=n(1562),u=n(1769),p=(n(1415),n(1768)),h=n(105),d=n.n(h),m=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var r in e)y.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;e.a=function(t){function e(t){this.render=m(this.render,this),this.pauseButton=m(this.pauseButton,this),this.switchOnline=m(this.switchOnline,this),this.addBDWaypoints=m(this.addBDWaypoints,this),this.switchMode=m(this.switchMode,this),this.switchState=m(this.switchState,this),this.postUpdate=m(this.postUpdate,this),this.jog=m(this.jog,this),this.stopJogging=m(this.stopJogging,this),this.startJogging=m(this.startJogging,this),this.reset=m(this.reset,this),this.stop=m(this.stop,this),this.goHome=m(this.goHome,this),this.pause=m(this.pause,this),this.resume=m(this.resume,this),this.play=m(this.play,this),this.upload=m(this.upload,this),this.resetStatus=m(this.resetStatus,this),this.componentWillUnmount=m(this.componentWillUnmount,this),this.componentWillMount=m(this.componentWillMount,this),this.getObserver=m(this.getObserver,this),e.__super__.constructor.call(this,t),this.observer=this.getObserver(),this.props.producer.observe(this.observer),this.toolpathsObserver={newTrajectory:function(t){return function(e,n){return t.setState({trajectoryError:n})}}(this),reset:function(t){return function(){return t.setState({parseError:!1})}}(this),validationResult:function(t){return function(e,n){return t.setState({parseError:null!=e})}}(this)},this.currentRotations=c.b.DefaultHome(),this.jogDistance=2,window.robot_set_jogging_mm=function(t){return function(e){if(isNaN(e)||e<=0)throw new RangeError("Argument: should be a number greater than 0");t.jogDistance=e}}(this),window._get_scene=function(t){return function(){return t.scene}}(this),this.state={robotState:p.a.READY,robotStatus:"",trajectoryError:!1,parseError:!1}}return f(e,t),e.propTypes={enabled:a.a.bool.isRequired,producer:a.a.object.isRequired,channelSend:a.a.func.isRequired,switchRealTime:a.a.func.isRequired,switchOnline:a.a.func.isRequired,onlineMode:a.a.bool.isRequired},e.prototype.getObserver=function(){return{received:function(t){return function(e){var n,r,o,i,a,s,l,c,u;if(null!=e){if(o={},null!=(null!=(i=e.dashboard)?i.robotState:void 0)&&e.dashboard.robotState!==p.a.NONE&&(t.switchState(e.dashboard.robotState),o.robotState=e.dashboard.robotState),null!=(null!=(a=e.dashboard)?a.status:void 0)&&(o.robotStatus=e.dashboard.status),null!=e.servo_data)for(s=e.servo_data,c=n=0,r=s.length;n<r;c=++n)u=s[c],null!=(null!=u&&null!=(l=u.telemetry)?l.position:void 0)&&(t.currentRotations[c]=u.telemetry.position);null!=e.bd_waypoint&&t.addBDWaypoints(e.bd_waypoint),t.setState(o)}return t.postUpdate()}}(this),loaded:function(t){return function(){return t.props.producer.request(t.observer)}}(this)}},e.prototype.componentWillMount=function(){var t;if(s.a.Register("viewer::rt::jogging",this.jog),null!=(t=s.a.Request("viewer::scene")))return this.scene=t,this.robot=t.robot,this.toolpaths=t.toolpaths,this.waypoints=t.waypoints,this.toolpaths.observe(this.toolpathsObserver)},e.prototype.componentWillUnmount=function(){return this.toolpaths.forget(this.toolpathsObserver)},e.prototype.resetStatus=function(){return this.setState({robotStatus:""})},e.prototype.upload=function(){var t,e,r;return r=this.toolpaths.current(),e=n.i(p.b)("Viewer: "+(null!=(t=r.name)?t:"Unsaved toolpath"),r._serialize()),this.props.channelSend(n.i(p.c)(p.d.UPLOAD,{timeline:e})),this.resetStatus()},e.prototype.play=function(){var t;return t=function(t){return function(e){return t.props.channelSend(n.i(p.c)(p.d.PLAY,{number_of_loops:e})),t.resetStatus()}}(this),s.a.Emit("modal::change",function(e){return function(){return o.a.createElement(l.a,{onDone:t})}}())},e.prototype.resume=function(){return this.props.channelSend(n.i(p.c)(p.d.PLAY)),this.resetStatus()},e.prototype.pause=function(){return this.props.channelSend(n.i(p.c)(p.d.PAUSE)),this.resetStatus()},e.prototype.goHome=function(){return this.props.channelSend(n.i(p.c)(p.d.HOME)),this.resetStatus()},e.prototype.stop=function(){return this.props.channelSend(n.i(p.c)(p.d.STOP)),this.resetStatus()},e.prototype.reset=function(){return this.props.channelSend(n.i(p.c)(p.d.RESET_ERRORS)),this.resetStatus()},e.prototype.startJogging=function(){return this.props.channelSend(n.i(p.c)(p.d.JOG_START)),this.resetStatus()},e.prototype.stopJogging=function(){return this.props.channelSend(n.i(p.c)(p.d.JOG_END)),this.resetStatus()},e.prototype.jog=function(t,e){var r,o;if(r=(e?1:-1)*this.jogDistance,o=this.robot.mp.nudge(t,r,this.robot.getRotations()),o.ok)return this.robot.setRotations(o.rotations),this.props.channelSend(n.i(p.c)(p.d.JOG,{jog:u.a.FormatRotations(o.rotations)})),this.scene.camera.updateToolPosition()},e.prototype.postUpdate=function(){if(this.props.onlineMode)return this.robot.setRotations(this.currentRotations)},e.prototype.switchState=function(t){if(this.props.onlineMode){if(this.state.robotState!==p.a.JOGGING&&this.state.robotState!==p.a.BACKDRIVING||t===this.state.robotState||this.switchMode(!1,t),t===p.a.JOGGING)return this.switchMode(!0,t,c.c.JOG);if(t===p.a.BACKDRIVING)return this.switchMode(!0,t,c.c.BACKDRIVING)}},e.prototype.switchMode=function(t,e,n){return this.scene.camera.exitMode(),t&&this.scene.camera.enterMode(this.robot.ee.getObject().children[0],n),this.props.switchRealTime(t,e)},e.prototype.addBDWaypoints=function(t){var e,n,r,o;if(this.props.onlineMode){for(e=t.length>1,n=0,r=t.length;n<r;n++)o=t[n],this.waypoints.addBDWaypoint(u.a.ParseRotations(o,this.scene.core.joint_number));return s.a.Emit("notifications::new","info","Created "+(e?"new waypoints":"a new waypoint"),"Backdriving")}},e.prototype.switchOnline=function(){var t;return t=!this.props.onlineMode,t?(this.robot.enterControlled(this.currentRotations),this.state.robotState===p.a.JOGGING?this.switchMode(!0,this.state.robotState,c.c.JOG):this.state.robotState===p.a.BACKDRIVING&&this.switchMode(!0,this.state.robotState,c.c.BACKDRIVING)):this.robot.exitControlled(),this.props.switchOnline(t)},e.prototype.pauseButton=function(t){return o.a.createElement("button",{type:"button",className:"",onClick:this.pause,disabled:t},o.a.createElement("i",{className:"fa fa-fw fa-pause"})," ",o.a.createElement("span",{className:"sr-only"},"Pause"))},e.prototype.render=function(){var t,e,n,r,i,a,s,l,c,u,h,m;return n=!this.props.enabled,e=n||!this.props.onlineMode,this.props.onlineMode&&(this.state.robotState===p.a.READY?(m=o.a.createElement("button",{type:"button",onClick:this.upload,disabled:e||this.state.trajectoryError||this.state.parseError},o.a.createElement("i",{className:"fa fa-fw fa-upload"})," ",o.a.createElement("span",{className:"sr-only"},"Upload")),s=o.a.createElement("button",{type:"button",onClick:this.play,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-play"})," ",o.a.createElement("span",{className:"sr-only"},"Play")),r=o.a.createElement("button",{type:"button",onClick:this.goHome,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-home"})," ",o.a.createElement("span",{className:"sr-only"},"Go Home")),i=o.a.createElement("button",{type:"button",onClick:this.startJogging,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-plug"})," ",o.a.createElement("span",{className:"sr-only"},"Jog robot"))):this.state.robotState===p.a.ERROR?l=o.a.createElement("button",{type:"button",onClick:this.reset,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-undo"})," ",o.a.createElement("span",{className:"sr-only"},"Reset")):this.state.robotState===p.a.RUNNING?(a=this.pauseButton(e),h=o.a.createElement("button",{type:"button",onClick:this.stop,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-step-forward"})," ",o.a.createElement("span",{className:"sr-only"},"Finish and stop"))):this.state.robotState===p.a.PAUSED?(s=o.a.createElement("button",{type:"button",onClick:this.resume,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-play"})," ",o.a.createElement("span",{className:"sr-only"},"Resume")),h=o.a.createElement("button",{type:"button",onClick:this.stop,disabled:e},o.a.createElement("i",{className:"fa fa-fw fa-times"})," ",o.a.createElement("span",{className:"sr-only"},"Cancel current"))):this.state.robotState===p.a.STOPPING&&(a=this.pauseButton(e)),c=o.a.createElement("div",{className:"label"},p.e[this.state.robotState]),u=o.a.createElement("div",{className:"label"},this.state.robotStatus),t=o.a.createElement("div",{className:"d-flex flex-row flex-wrap justify-content-center"},c,m,s,r,a,h,l,i,u)),o.a.createElement("div",{className:"viewer-rt"},o.a.createElement("div",{className:"actions"},o.a.createElement("div",{className:"d-flex flex-row justify-content-center"},o.a.createElement(d.a,{checked:this.props.onlineMode,onChange:this.switchOnline,disabled:n})),t))},e}(r.PureComponent)},1538:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(10),l=(n.n(s),n(1414)),c=n(1499),u=n(1415),p=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;e.a=function(t){function e(t){this.render=p(this.render,this),this.changeToolpath=p(this.changeToolpath,this),this.deleteToolpath=p(this.deleteToolpath,this),this.loadToolpath=p(this.loadToolpath,this),this.getCurrentToolpath=p(this.getCurrentToolpath,this),this.newToolpath=p(this.newToolpath,this),this.fastLoad=p(this.fastLoad,this),this.componentWillUnmount=p(this.componentWillUnmount,this),this.componentWillReceiveProps=p(this.componentWillReceiveProps,this),this.componentWillMount=p(this.componentWillMount,this),e.__super__.constructor.call(this,t),this.state={toolpaths:[],current:void 0,has_selection:!1},this.firstLoad=!0,this.toolpathObserver={listChanged:function(t){return function(e){return t.setState({toolpaths:e.slice(0)})}}(this)}}return h(e,t),e.propTypes={shown:a.a.bool.isRequired,onSelectToolpath:a.a.func.isRequired},e.prototype.componentWillMount=function(){var t;if(null!=(t=l.a.Request("viewer::scene")))return this.toolpaths=t.toolpaths,this.toolpaths.observe(this.toolpathObserver),this.setState({toolpaths:this.toolpaths.get().slice(0)})},e.prototype.componentWillReceiveProps=function(t){if(!this.props.shown&&t.shown&&this.firstLoad)return this.fastLoad()},e.prototype.componentWillUnmount=function(){return this.toolpaths.forget(this.toolpathObserver)},e.prototype.fastLoad=function(){if(this.firstLoad=!1,l.a.Request("viewer::scene"),u.f&&this.state.toolpaths.length>0)return this.toolpaths.currentFetch(this.state.toolpaths[0].id),this.props.onSelectToolpath()},e.prototype.newToolpath=function(){return this.toolpaths.currentNew(),this.props.onSelectToolpath()},e.prototype.getCurrentToolpath=function(t){return null==t&&(t=this.state.current),this.toolpaths.lookup(t).toolpath},e.prototype.loadToolpath=function(){var t;if(null!=(t=this.getCurrentToolpath()))return this.toolpaths.currentFetch(t.id),this.props.onSelectToolpath()},e.prototype.deleteToolpath=function(){var t,e,n;if(null!=(n=this.getCurrentToolpath()))return e=n.name,t=function(t){return function(){return t.toolpaths.delete(n.id)}}(this),l.a.Emit("modal::change",function(n){return function(){return o.a.createElement(c.a,{name:e,onDeleteToolpath:t})}}())},e.prototype.changeToolpath=function(t){var e;return e=t.target.value,e=isNaN(e)?e:parseInt(e),this.setState({current:e,has_selection:null!=this.getCurrentToolpath(e)})},e.prototype.render=function(){var t,e,n;return e="overlay-screen"+(this.props.shown?"":" overlay-hidden"),t=[o.a.createElement("button",{key:0,type:"button",className:"btn btn-primary",onClick:this.newToolpath},o.a.createElement("i",{className:"fa fa-plus"})," New")],this.state.toolpaths.length>0?(n=o.a.createElement("div",{className:"form-group"},o.a.createElement("select",{className:"form-control",size:5,ref:"toolpaths_list",onDoubleClick:this.loadToolpath,onChange:this.changeToolpath,value:this.state.current},this.state.toolpaths.map(function(t,e){return o.a.createElement("option",{key:e,value:t.id},t.name)}))),t.push(o.a.createElement("button",{key:1,type:"button",className:"btn btn-secondary",onClick:this.loadToolpath,disabled:!this.state.has_selection},o.a.createElement("i",{className:"fa fa-download"})," Load")),t.push(o.a.createElement("button",{key:2,type:"button",className:"btn btn-danger",onClick:this.deleteToolpath,disabled:!this.state.has_selection},o.a.createElement("i",{className:"fa fa-trash"})," Delete"))):n=o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col my-3"},o.a.createElement("div",{className:"alert alert-info",role:"alert"},o.a.createElement("h4",{className:"alert-heading"},o.a.createElement("i",{className:"fa fa-info"})," No toolpath yet"),o.a.createElement("p",{className:"mb-0"},"You must create a new one to start programming your robot")))),o.a.createElement("div",{className:e},o.a.createElement("div",{className:"overlay-info overlay-info-background"},o.a.createElement("h4",{className:"text-primary"},"Select a toolpath"),n,o.a.createElement("div",{className:"btn-group",role:"group"},t)))},e}(r.PureComponent)},1539:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=n.n(i),s=n(674),l=n.n(s),c=n(1414),u=n(1569),p=n(1562),h=n(1768),d=n(1542),m=n.n(d),f=n(1679),y=n.n(f),v=n(1537),g=function(t,e){return function(){return t.apply(e,arguments)}},_=function(t,e){function n(){this.constructor=t}for(var r in e)b.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},b={}.hasOwnProperty;e.a=function(t){function e(t){this.render=g(this.render,this),this.switchOnline=g(this.switchOnline,this),this.switchRealTime=g(this.switchRealTime,this),this.stopJogging=g(this.stopJogging,this),this.switchQuality=g(this.switchQuality,this),this.toggleMenu=g(this.toggleMenu,this),this.switchFullscreen=g(this.switchFullscreen,this),this.onFullScreenChange=g(this.onFullScreenChange,this),this.switchCameraOrthographicRight=g(this.switchCameraOrthographicRight,this),this.switchCameraOrthographicLeft=g(this.switchCameraOrthographicLeft,this),this.switchCameraOrthographicBottom=g(this.switchCameraOrthographicBottom,this),this.switchCameraOrthographicBack=g(this.switchCameraOrthographicBack,this),this.switchCameraOrthographicFront=g(this.switchCameraOrthographicFront,this),this.switchCameraOrthographicTop=g(this.switchCameraOrthographicTop,this),this.switchCameraPerspective=g(this.switchCameraPerspective,this),this.switchCamera=g(this.switchCamera,this),this.robotGoHome=g(this.robotGoHome,this),this.onEnabled=g(this.onEnabled,this),this.componentWillUnmount=g(this.componentWillUnmount,this),this.componentDidMount=g(this.componentDidMount,this),this.componentWillMount=g(this.componentWillMount,this),e.__super__.constructor.call(this,t),u.a.call(this,this.onEnabled),this.state={camera_mode:p.d.PERSPECTIVE,fullscreen_mode:!1,network_active:!1,menu_open:!1,enabled:!0,robotState:0,noHome:!0,onlineMode:!1},this.apiObserver={onError:function(t){return function(t){return console.error(t)}}(),onRequestsChange:function(t){return function(e){return t.setState({network_active:e})}}(this)},this.toolpathsObserver={selected:function(t){return function(e,n){return t.setState({noHome:!(null!=n)})}}(this),changed:function(t){return function(e,n,r){return t.setState({noHome:!(null!=r)})}}(this)}}return _(e,t),e.propTypes={switchFullscreen:a.a.func.isRequired,producer:a.a.object.isRequired,channelSend:a.a.func.isRequired,switchRealTime:a.a.func.isRequired,switchOnline:a.a.func.isRequired,onlineEnabled:a.a.bool.isRequired},e.prototype.componentWillMount=function(){var t;if(null!=(t=c.a.Request("viewer::scene")))return this.scene=t,this.core=t.core,this.toolpaths=t.toolpaths,this.core.api.observe(this.apiObserver),this.toolpaths.observe(this.toolpathsObserver),this.mountCommons(this.scene)},e.prototype.componentDidMount=function(){return l.a.onchange(this.onFullScreenChange)},e.prototype.componentWillUnmount=function(){return this.core.api.forget(this.apiObserver),this.toolpaths.forget(this.toolpathsObserver),this.unmountCommons(this.scene)},e.prototype.onEnabled=function(t){return this.setState({enabled:t})},e.prototype.robotGoHome=function(){return this.scene.robot.goHome()},e.prototype.switchCamera=function(t){return this.scene.camera.switch(t),this.setState({camera_mode:t})},e.prototype.switchCameraPerspective=function(){return this.switchCamera(p.d.PERSPECTIVE)},e.prototype.switchCameraOrthographicTop=function(){return this.switchCamera(p.d.ORTHOGRAPHIC_TOP)},e.prototype.switchCameraOrthographicFront=function(){return this.switchCamera(p.d.ORTHOGRAPHIC_FRONT)},e.prototype.switchCameraOrthographicBack=function(){return this.switchCamera(p.d.ORTHOGRAPHIC_BACK)},e.prototype.switchCameraOrthographicBottom=function(){return this.switchCamera(p.d.ORTHOGRAPHIC_BOTTOM)},e.prototype.switchCameraOrthographicLeft=function(){return this.switchCamera(p.d.ORTHOGRAPHIC_LEFT)},e.prototype.switchCameraOrthographicRight=function(){return this.switchCamera(p.d.ORTHOGRAPHIC_RIGHT)},e.prototype.onFullScreenChange=function(){return this.setState({fullscreen_mode:!!l.a.isFullscreen})},e.prototype.switchFullscreen=function(){var t;return t=!this.state.fullscreen_mode,this.props.switchFullscreen(t),this.setState({fullscreen_mode:t})},e.prototype.toggleMenu=function(){return this.setState({menu_open:!this.state.menu_open})},e.prototype.switchQuality=function(){return this.scene.enablePostProcessing()},e.prototype.stopJogging=function(){return this.refs.rt.stopJogging()},e.prototype.switchRealTime=function(t,e){return this.setState({robotState:e}),this.props.switchRealTime(t)},e.prototype.switchOnline=function(t){return this.setState({onlineMode:t}),this.props.switchOnline(t)},e.prototype.render=function(){var t,e,n;return l.a.enabled&&(t=o.a.createElement("span",null,o.a.createElement("span",{className:"btn-separator"}),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.switchFullscreen},o.a.createElement("i",{className:"fa fa-"+(this.state.fullscreen_mode?"sign-out":"arrows-alt")}),o.a.createElement("span",{className:"sr-only"},this.state.fullscreen_mode?"Exit":""," Fullscreen")))),this.props.onlineEnabled&&(e=o.a.createElement(v.a,{ref:"rt",enabled:this.state.enabled,onlineMode:this.state.onlineMode,switchRealTime:this.switchRealTime,switchOnline:this.switchOnline,producer:this.props.producer,channelSend:this.props.channelSend})),this.state.robotState===h.a.JOGGING?n=o.a.createElement("div",{className:"ui-alert"},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-exclamation-triangle"})," Currently in jogging mode"),o.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:this.stopJogging},"Stop jogging")):this.state.robotState===h.a.BACKDRIVING&&(n=o.a.createElement("div",{className:"ui-alert"},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-exclamation-triangle"})," Currently in backdriving mode"))),o.a.createElement("div",{className:"viewer-ui to-blur"},n,o.a.createElement("div",{className:"ui-shortcuts"},o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.robotGoHome,disabled:!this.state.enabled||this.state.noHome},o.a.createElement("i",{className:"fa fa-home"})," ",o.a.createElement("span",{className:"sr-only"},"Home")),o.a.createElement("span",{className:"btn-separator"}),o.a.createElement("button",{type:"button",className:"btn-inverted",onClick:this.switchCameraPerspective,disabled:this.state.camera_mode==p.d.PERSPECTIVE||!this.state.enabled},o.a.createElement("i",{className:"fa fa-cube"})," ",o.a.createElement("span",{className:"sr-only"},"Perspective")),o.a.createElement("div",{className:"fake-table"},o.a.createElement("div",{className:"row"},o.a.createElement("button",{type:"button",className:"btn-inverted col-xs-3",onClick:this.switchCameraOrthographicTop,disabled:this.state.camera_mode==p.d.ORTHOGRAPHIC_TOP||!this.state.enabled},o.a.createElement("i",{className:"fa fa-caret-square-o-up"})," ",o.a.createElement("span",{className:"sr-only"},"Top")),o.a.createElement("button",{type:"button",className:"btn-inverted col-xs-3",onClick:this.switchCameraOrthographicFront,disabled:this.state.camera_mode==p.d.ORTHOGRAPHIC_FRONT||!this.state.enabled},o.a.createElement("i",{className:"fa fa-plus-square"})," ",o.a.createElement("span",{className:"sr-only"},"Front")),o.a.createElement("button",{type:"button",className:"btn-inverted col-xs-3",onClick:this.switchCameraOrthographicBack,disabled:this.state.camera_mode==p.d.ORTHOGRAPHIC_BACK||!this.state.enabled},o.a.createElement("i",{className:"fa fa-minus-square"})," ",o.a.createElement("span",{className:"sr-only"},"Back"))),o.a.createElement("div",{className:"row"},o.a.createElement("button",{type:"button",className:"btn-inverted col-xs-3",onClick:this.switchCameraOrthographicBottom,disabled:this.state.camera_mode==p.d.ORTHOGRAPHIC_BOTTOM||!this.state.enabled},o.a.createElement("i",{className:"fa fa-caret-square-o-down"})," ",o.a.createElement("span",{className:"sr-only"},"Bottom")),o.a.createElement("button",{type:"button",className:"btn-inverted col-xs-3",onClick:this.switchCameraOrthographicLeft,disabled:this.state.camera_mode==p.d.ORTHOGRAPHIC_LEFT||!this.state.enabled},o.a.createElement("i",{className:"fa fa-caret-square-o-left"})," ",o.a.createElement("span",{className:"sr-only"},"Left")),o.a.createElement("button",{type:"button",className:"btn-inverted col-xs-3",onClick:this.switchCameraOrthographicRight,disabled:this.state.camera_mode==p.d.ORTHOGRAPHIC_RIGHT||!this.state.enabled},o.a.createElement("i",{className:"fa fa-caret-square-o-right"})," ",o.a.createElement("span",{className:"sr-only"},"Right")))),t),o.a.createElement("div",{className:"ui-menu"},o.a.createElement("button",{type:"button",className:"btn btn-viewer btn-material-medium "+(this.state.menu_open?"opened":""),onClick:this.toggleMenu},o.a.createElement("i",{className:"fa fa-fw fa-"+(this.state.menu_open?"times":"cog")})," ",o.a.createElement("span",{className:"sr-only"},"More")),o.a.createElement("div",{className:"btn-material-list "+(this.state.menu_open?"opened":"")},o.a.createElement("button",{type:"button",className:"btn clr-red btn-material-small",onClick:this.switchQuality},o.a.createElement("i",{className:"fa fa-eye"})," ",o.a.createElement("span",{className:"btn-material-label"},"Switch Quality")))),o.a.createElement("div",{className:"eva-logo"+(this.state.network_active?" animated infinite rubberBand":"")},o.a.createElement("img",{alt:"EVA",src:this.state.onlineMode?y.a:m.a})),e)},e}(r.PureComponent)},1540:function(t,e){},1542:function(t,e,n){t.exports=n.p+"images/eva-80b41665a95dd4c5d32fce3ccfbb5fe0.png"},1543:function(t,e,n){t.exports=n.p+"images/logo_small-55512c3b286b86ea80f6a2615765aa0d.png"},1545:function(t,e,n){t.exports=n.p+"images/axis-d809c63dc6e3ee4fda261865403e9ad2.png"},1546:function(t,e,n){t.exports=n.p+"models/eva-part0-21a16e07cdcc6175875c7d02353ff4d5.STL"},1547:function(t,e,n){t.exports=n.p+"models/eva-part1-0563ac75236fd15a1f78b6e82d325eaf.STL"},1548:function(t,e,n){t.exports=n.p+"models/eva-part2-67bbaa3dcc19f9135de95bde41688713.STL"},1549:function(t,e,n){t.exports=n.p+"models/eva-part3-27b473e75e071132d72d4701f454fcd3.STL"},1550:function(t,e,n){t.exports=n.p+"models/eva-part4-536038d42b0a8ca83bbb88c4326f6d89.STL"},1551:function(t,e,n){t.exports=n.p+"models/eva-part5-dbba2bbd4896b4894fb760456294dbb0.STL"},1552:function(t,e,n){t.exports=n.p+"models/eva-part6-8d07cbcce0c803bc8fabe8a74aa4208b.STL"},1553:function(t,e,n){t.exports=n.p+"models/eva-wire0-5695a5b4bb885ace98c27d6dc9b57104.fbx"},1554:function(t,e,n){t.exports=n.p+"models/eva-wire1-c2c125a0a29b2221a444532fd602154f.fbx"},1555:function(t,e,n){t.exports=n.p+"models/eva-wire2-8c4c3298416cbeb3ff57ca6bf92e9671.fbx"},1556:function(t,e,n){t.exports=n.p+"models/eva-wire3-37df9c3409a9009137fb8ca8aa0a1ab6.fbx"},1557:function(t,e,n){t.exports=n.p+"models/eva-wire4-09cfaa43c0721cc1a74beea5a9e6710d.fbx"},1558:function(t,e,n){t.exports=n.p+"models/eva-wire5-90d1758c3719eed9505c3cb714b0368e.fbx"},1559:function(t,e,n){t.exports=n.p+"models/eva-wire6-8bef26bdc1b4efb463134d0f48f720b4.fbx"},1560:function(t,e,n){t.exports=n.p+"favicon.ico"},1562:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1769),a=n(1415);n.d(e,"d",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return h}),n.d(e,"e",function(){return d});var s={PERSPECTIVE:1,ORTHOGRAPHIC_FRONT:2,ORTHOGRAPHIC_BACK:3,ORTHOGRAPHIC_LEFT:4,ORTHOGRAPHIC_RIGHT:5,ORTHOGRAPHIC_TOP:6,ORTHOGRAPHIC_BOTTOM:7},l={NONE:0,NUDGE:1,ROTATE:2,WAYPOINT:3,CHOOSER:4,JOG:5,BACKDRIVING:6,GRID:7},c={LINEAR:1,INTERPOLATION:2},u={ZOISize:.65,DefaultHome:function(){return[0,0,0,-a.b.HALF_PI,-a.b.HALF_PI,0]},Toolpaths:{DefaultSpeed:3,DefaultWeight:.5}},p={JointOffset:56,Joints:[159.5,119.5,112.5,177.3,150,141.2,31.5],JointShifts:[.38,0,.7,0,0,.74],JointLimits:{2:{min:n.i(a.c)(-161.6),max:n.i(a.c)(54.8)},4:{min:n.i(a.c)(-161.6),max:n.i(a.c)(180-125.99)},5:{min:n.i(a.c)(-159),max:n.i(a.c)(50)}}},h={Translations:[{},{y:p.Joints[0]},{y:p.Joints[1],z:-p.JointOffset},{y:p.Joints[2],z:p.JointOffset},{y:p.Joints[3],z:-p.JointOffset},{y:p.Joints[4]},{y:p.Joints[5],z:p.JointOffset},{y:p.Joints[6]}],Angles:[{min:-a.b.PI,max:a.b.PI},{min:p.JointLimits[2].min,max:p.JointLimits[2].max},{min:-a.b.PI,max:a.b.PI},{min:p.JointLimits[4].min,max:p.JointLimits[4].max},{min:p.JointLimits[5].min,max:p.JointLimits[5].max},{min:-a.b.PI,max:a.b.PI}]},d=function t(e,n,r){o()(this,t),this.animations=r,this.api=new i.a,this.channel=n,this.joint_number=e.joint_number,this.toolpaths=e.toolpaths}},1563:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1566);n.d(e,"a",function(){return g});var y,v,g=(v=y=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"render",value:function(){return h.a.createElement(f.a,{title:this.props.label,icon:this.props.icon,color:this.props.color},h.a.createElement("div",{className:"row"},this.props.children))}}]),e}(p.PureComponent),y.propTypes={label:m.a.string.isRequired,icon:m.a.string.isRequired,color:m.a.string.isRequired,children:m.a.node},v)},1564:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1673);n.n(f);n.d(e,"a",function(){return g});var y,v,g=(v=y=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"render",value:function(){var t=n.i(f.exists)(this.props.error),e=void 0;return t&&(e=h.a.createElement("span",{className:"form-control-feedback"},this.props.error)),h.a.createElement("div",{className:"form-group "+(t?"has-danger":"")},h.a.createElement("label",{htmlFor:this.props.name},this.props.label),this.props.children,e)}}]),e}(p.PureComponent),y.propTypes={name:m.a.string.isRequired,label:m.a.string.isRequired,children:m.a.node.isRequired,error:m.a.string},v)},1565:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1414),y=n(1674),v=(n.n(y),n(10)),g=n.n(v);n.d(e,"a",function(){return w});var _,b,w=(b=_=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.closeModal=function(){g()(r.refs.modal).modal("hide")},r.onShown=function(){n.i(y.callsIfExist)(r.props.onShown,g()(r.refs.modal))},r.onClose=function(){r.props.onClose(g()(r.refs.modal))},f.a.Register("modal::close",r.closeModal),r}return u()(e,t),a()(e,[{key:"componentDidMount",value:function(){g()(this.refs.modal).modal().on("shown.bs.modal",this.onShown).on("hidden.bs.modal",this.onClose)}},{key:"componentWillUnmount",value:function(){this.closeModal()}},{key:"render",value:function(){return h.a.createElement("div",{className:"modal fade",tabIndex:"-1",role:"dialog",ref:"modal"},h.a.createElement("div",{className:"modal-dialog",role:"document"},h.a.createElement("div",{className:"modal-content"},h.a.createElement("div",{className:"modal-header"},h.a.createElement("h4",{className:"modal-title"},this.props.title),h.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},h.a.createElement("span",{"aria-hidden":"true"},"×"))),h.a.createElement("div",{className:"modal-body"},this.props.children),h.a.createElement("div",{className:"modal-footer"},h.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),h.a.createElement("button",{type:"button",className:"btn btn-"+this.props.buttonColor,onClick:this.props.onDone},h.a.createElement("i",{className:"fa fa-"+this.props.buttonIcon})," ",this.props.buttonText)))))}}]),e}(p.PureComponent),_.propTypes={title:m.a.string.isRequired,buttonText:m.a.string.isRequired,buttonIcon:m.a.string.isRequired,buttonColor:m.a.string.isRequired,onDone:m.a.func.isRequired,onClose:m.a.func.isRequired,onShown:m.a.func,children:m.a.node.isRequired},b)},1566:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1415),y=n(1673);n.n(y);n.d(e,"a",function(){return _});var v,g,_=(g=v=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.id="collapse-id-"+n.i(f.n)(this.props.title+"_"+this.props.icon+"_"+this.props.color)}},{key:"render",value:function(){var t=n.i(y.exists)(this.props.color)?"clr-"+this.props.color:"",e=n.i(y.exists)(this.props.icon)?h.a.createElement("i",{className:"fa fa-"+this.props.icon}):void 0,r=n.i(y.exists)(this.props.footer)?h.a.createElement("div",{className:"card-footer"},this.props.footer):void 0,o=this.props.collapse,i=void 0;return o&&(i=h.a.createElement("button",{type:"button",className:"close","aria-label":"Close",style:{marginTop:"2px"},"data-toggle":"collapse","data-target":"#"+this.id,"aria-expanded":"false","aria-controls":this.id},h.a.createElement("span",{"aria-hidden":"true"},h.a.createElement("i",{className:"fa fa-plus"})))),h.a.createElement("div",{className:"card"},h.a.createElement("h3",{className:"card-header "+t},e," ",this.props.title,i),h.a.createElement("div",{className:"card-block "+(o?"collapse":""),id:o?this.id:null},this.props.children),r)}}]),e}(p.PureComponent),v.propTypes={title:m.a.string.isRequired,icon:m.a.string,color:m.a.string,children:m.a.node.isRequired,footer:m.a.node,collapse:m.a.bool},v.defaultProps={collapse:!1},g)},1567:function(t,e,n){"use strict";var r=n(1580),o=n.n(r),i=n(1582),a=n.n(i),s=n(1624),l=n.n(s),c=n(1581),u=n.n(c),p=n(1576),h=n.n(p),d=n(1689),m=n.n(d),f=n(50),y=n.n(f),v=n(354),g=(n.n(v),n(1683)),_=n(1414),b=n(1677),w=(n.n(b),n(1673)),E=(n.n(w),n(1676));n.n(E);n.d(e,"a",function(){return O});var C,x,N={TYPES:{connectDragSource:m.a.func.isRequired,connectDragPreview:m.a.func.isRequired,isDragging:m.a.bool.isRequired}},T={TYPES:{connectDropTarget:m.a.func.isRequired,canDrop:m.a.bool.isRequired,isOver:m.a.bool.isRequired}},S={TYPES:Object.assign({},N.TYPES,T.TYPES)},O=(x=C=function t(){h()(this,t)},C.Types={WAYPOINT:"waypoint",FUNCTION:"function",CONDITION:"condition",TIMELINE:["waypoint","function"],EVERYTHING:["waypoint","function","condition","grid-waypoint"],GRID_WAYPOINT:"grid-waypoint",GRID_TIMELINE:["waypoint","function","grid-waypoint"]},C.DragProps=N,C.DropProps=T,C.DnDProps=S,C.MakeDnD=function(t,e,r){var i,s,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=c.disableRender,d=void 0!==p&&p,m=(s=i=function(r){function i(){var r,o,s,l;h()(this,i);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return o=s=a()(this,(r=i.__proto__||Object.getPrototypeOf(i)).call.apply(r,[this].concat(u))),s.renderDnD=function(r){var o=r;return n.i(w.exists)(t)&&n.i(w.exists)(s.props.connectDragSource)&&(o=s.props.connectDragSource(o)),n.i(w.exists)(e)&&n.i(w.exists)(s.props.connectDropTarget)&&(o=s.props.connectDropTarget(o)),o},l=o,a()(s,l)}return u()(i,r),o()(i,[{key:"render",value:function(){var t=l()(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"render",this).call(this);return d?t:this.renderDnD(t)}}]),i}(r),i.displayName="DnDHelper("+n.i(E.elvis)(r.displayName,r.name)+")",s),f=void 0;return f=n.i(w.exists)(t)&&n.i(w.exists)(e)?O.DnDProps:n.i(w.exists)(t)?O.DragProps:O.DropProps,m.propTypes=Object.assign({},f.TYPES,r.propTypes),n.i(w.exists)(t)&&(m=n.i(v.DragSource)(t.type,n.i(E.elvis)(t.spec,O.SpecDrag()),n.i(E.elvis)(t.collect,O.CollectDrag))(m)),n.i(w.exists)(e)&&(m=n.i(v.DropTarget)(e.type,n.i(E.elvis)(e.spec,O.SpecDrop()),n.i(E.elvis)(e.collect,O.CollectDrop))(m)),m},C.CollectDrag=function(t,e){return{connectDragSource:t.dragSource(),connectDragPreview:t.dragPreview(),isDragging:e.isDragging()}},C.SpecDrag=function(){return{canDrag:function(t,e){return n.i(E.elvis)(t.enabled,!0)},beginDrag:function(t,e,n){var r=n.getDragObject();return r.rootActive&&_.a.Emit("viewer::timeline::dnd_active",!0),{id:r.object.id,args:r.object,changed:!1}},isDragging:function(t,e){var n=e.getItem();return t.id===n.id},endDrag:function(t,e,r){var o=e.getItem(),i=_.a.Request("viewer::scene").toolpaths.current();n.i(w.exists)(i)&&(n.i(w.exists)(o.id)&&i.collectElement(o.id),o.changed&&i.changed()),_.a.Emit("viewer::timeline::dnd_active",!1)}}},C.CollectDrop=function(t,e){return{connectDropTarget:t.dropTarget(),canDrop:e.canDrop(),isOver:e.isOver()}},C.SpecDrop=function(){return{canDrop:function(t,e){return n.i(w.exists)(t.id)},drop:function(t,e,r){if(e.canDrop()&&e.isOver()){var o=e.getItem(),i=_.a.Request("viewer::scene").toolpaths.current();if(o.id!==t.id&&n.i(w.exists)(i)){var a=i.lookup(t.id);if(n.i(w.exists)(a)&&!i.checkForLoop(t.id,o.id)){if(null!==a.parent){var s=i.lookup(a.parent);if(!n.i(w.exists)(s)||s instanceof g.a.Grid&&!(a instanceof g.a.Timeline))return}var l=y.a.findDOMNode(r),c=l.querySelector(".dnd-actual-node");null!==c&&(l=c);var u=l.getBoundingClientRect(),p=(u.right-u.left)/2,h=e.getClientOffset(),d=h.x-u.left,m=d<p?"before":"after";if(n.i(w.exists)(o.id)){var f=i.lookup(o.id);if(n.i(b.existsChained)(f,"parent")){if(!(a instanceof g.a.Timeline)&&f.parent===a.parent){var v=i.lookup(f.parent),E=v.elements.indexOf(o.id),C=v.elements.indexOf(t.id);if(E+1===C&&d<p||E-1===C&&d>p)return}i.removeElement(o.id)}}var x=i.insertElement(t.id,o.args,m);return n.i(w.exists)(o.id)||0===o.id||(o.id=o.args.id=x),o.changed=!0,o}}}}}},x)},1568:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=(n.n(p),n(1414));n.d(e,"a",function(){return d});var d=function(t){function e(t){o()(this,e);var n=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.hasModal=function(){return null!==n.state.generator&&void 0!==n.state.generator},n.onModalChange=function(t){n.setState({generator:t})},h.a.Register("modal::change",n.onModalChange),n.state={},n}return u()(e,t),a()(e,[{key:"render",value:function(){return this.state.generator?this.state.generator():null}}]),e}(p.PureComponent)},1569:function(t,e,n){"use strict";function r(t){var e=this;this.commons_cameraObserver={controlsSwitch:function(e){t(e===o.c.NONE)}},this.mountCommons=function(t){t.camera.observe(e.commons_cameraObserver)},this.unmountCommons=function(t){t.camera.forget(e.commons_cameraObserver)}}var o=n(1562);e.a=r},1570:function(t,e,n){"use strict";var r,o,i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=(n.n(d),n(1689)),f=n.n(m),y=n(1567);e.a=y.a.MakeDnD(null,{type:function(t){return t.type}},(o=r=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"render",value:function(){return this.props.children}}]),e}(d.PureComponent),r.propTypes={children:f.a.node.isRequired,type:f.a.arrayOf(f.a.string.isRequired).isRequired},o))},1571:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(10),y=n.n(f);n.d(e,"a",function(){return _});var v,g,_=(g=v=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.props.node&&y()(this.refs.node).append(this.props.node)}},{key:"render",value:function(){return h.a.createElement("div",{ref:"node"})}}]),e}(p.Component),v.propTypes={node:m.a.object.isRequired},g)},1572:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1415),a=n(1673);n.n(a);n.d(e,"a",function(){return c});var s,l,c=(l=s=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=r.defaultEasing,l=void 0===s?t._DefaultEasing:s;o()(this,t),this.addAnimation=function(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.easing,l=void 0===s?e._defaultEasingName:s,c=a.onDone,u=void 0===c?i.m:c;e._list[n]||(e._list[n]=[]),e._list[n].push({func:o,goal:r,elapsed:0,easing:t._Easing[l]||e._defaultEasingFunc,onDone:u})},this._renderAnimation=function(t,e){var r=e.elapsed+t-e.goal;e.elapsed=n.i(i.d)(e.elapsed+t,0,e.goal);var o=e.easing(e.elapsed/e.goal);e.func({progress:o,dt:t,elapsed:e.elapsed,goal:e.goal});var a=e.elapsed>=e.goal;return a&&e.onDone(),{done:a,extraTime:r}},this.render=function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e._list)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=e._list[s],c=t,u=!0;do{var p=e._renderAnimation(c,l[0]),h=p.done,d=p.extraTime;u=h,h&&(c=d,l.shift(),l.length<1&&(delete e._list[s],u=!1))}while(u&&l.length>0)}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}},this._list={},this._defaultEasingName=l,n.i(a.exists)(t._Easing[l])||(i.f&&console.warn("AnimationEngine: unknown easing function '"+l+"'"),this._defaultEasingName=t._DefaultEasing),this._defaultEasingFunc=t._Easing[this._defaultEasingName]},s._DefaultEasing="linear",s._Easing={linear:function(t){return t},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1}},l)},1573:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1415);n.d(e,"a",function(){return l});var a,s,l=(s=a=function t(){o()(this,t)},a._GetStorage=function(t){try{var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(t){i.f&&console.warn("Local storage disabled")}},a._Bootstrap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage",n=l._GetStorage(e);if(n)return t(n)},a.Retrieve=function(t,e){var n=l._Bootstrap(function(e){return e.getItem(t)});return void 0===n||null===n?e:n},a.Delete=function(t){return l._Bootstrap(function(e){return e.removeItem(t)})},a.Store=function(t,e){return l._Bootstrap(function(n){return n.setItem(t,e)})},s)},1668:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1563),g=n(1432);n.d(e,"a",function(){return w});var _,b,w=(b=_=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"componentWillMount",value:function(){this.sprops={category:this.props.category,producer:this.props.producer,send:this.props.send}}},{key:"render",value:function(){return m.a.createElement(v.a,{label:"Error Control",color:"yellow",icon:"exclamation"},m.a.createElement("div",{className:"col-12"},m.a.createElement(g.a,o()({},this.sprops,{name:"reset_all_errors",label:"Reset all errors",action:"Reset"}))))}}]),e}(d.PureComponent),_.propTypes={producer:y.a.object.isRequired,send:y.a.func.isRequired,category:y.a.string.isRequired},b)},1669:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1563),g=n(1434),_=n(1426);n.d(e,"a",function(){return E});var b,w,E=(w=b=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"componentWillMount",value:function(){this.sprops={category:this.props.category+".heartbeat_control",producer:this.props.producer,send:this.props.send}}},{key:"render",value:function(){return m.a.createElement(v.a,{label:"Heartbeat Control",color:"blue",icon:"gear"},m.a.createElement("div",{className:"col-12 col-sm-6 col-md-4"},m.a.createElement(g.a,o()({},this.sprops,{name:"enabled",label:"Status",yes:!0,no:!1}))),m.a.createElement("div",{className:"col-12 col-sm-6 col-md-4"},m.a.createElement(_.a,o()({},this.sprops,{name:"interval",label:"Interval",unit:"ms"}))),m.a.createElement("div",{className:"col-12 col-sm-6 col-md-4"},m.a.createElement(_.a,o()({},this.sprops,{name:"timeout",label:"Timeout",unit:"ms"}))))}}]),e}(d.PureComponent),b.propTypes={producer:y.a.object.isRequired,send:y.a.func.isRequired,category:y.a.string.isRequired},w)},1670:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1563),g=n(1434),_=n(1768);n.d(e,"a",function(){return E});var b,w,E=(w=b=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"componentWillMount",value:function(){this.sprops={category:this.props.category,producer:this.props.producer,send:this.props.send},this.ignored=[_.m.NONE]}},{key:"render",value:function(){return m.a.createElement(v.a,{label:"Power Control",color:"red",icon:"power-off"},m.a.createElement("div",{className:"col-12"},m.a.createElement(g.a,o()({},this.sprops,{name:"power_control",label:"Power",yes:_.m.ON,no:_.m.OFF,ignore:this.ignored}))))}}]),e}(d.PureComponent),b.propTypes={producer:y.a.object.isRequired,send:y.a.func.isRequired,category:y.a.string.isRequired},w)},1671:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1670),y=n(1668),v=n(1669),g=n(1786);n.d(e,"a",function(){return w});var _,b,w=(b=_=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.sprops={category:"global_data",producer:this.props.producer,send:this.props.send}}},{key:"render",value:function(){return h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-12 col-sm-6 col-md-3"},h.a.createElement(f.a,this.sprops)),h.a.createElement("div",{className:"col-12 mt-2 col-sm-6 mt-sm-0 col-md-3"},h.a.createElement(y.a,this.sprops)),h.a.createElement("div",{className:"col-12 mt-2 col-md-6 mt-md-0"},h.a.createElement(v.a,this.sprops)),h.a.createElement("div",{className:"col-12 mt-2"},h.a.createElement(g.a,this.sprops)))}}]),e}(p.PureComponent),_.propTypes={producer:m.a.object.isRequired,send:m.a.func.isRequired},b)},1672:function(t,e,n){"use strict";var r=n(1625),o=n.n(r),i=n(1576),a=n.n(i),s=n(1541),l=n.n(s),c=n(1158),u=n(10),p=n.n(u),h=n(1415),d=n(1431);n.d(e,"a",function(){return m});var m=function t(e){var r=this;a()(this,t),this.generateParams=function(t,e){return n.i(h.a)(0,t-1).map(function(){return e})},this.loadFunctions=function(){r.emc=window.Module,r.emc_nudge=r.emc.cwrap("frontend_translateEndEffector","number",r.generateParams(2+r.core.joint_number,"number")),r.emc_rotate=r.emc.cwrap("frontend_rotateEndEffector","number",r.generateParams(2+r.core.joint_number,"number")),r.emc_forwardKinematics=r.emc.cwrap("frontend_forwardKinematicsStep","number",r.generateParams(r.core.joint_number,"number")),r.emc_selfCollision=r.emc.cwrap("frontend_selfCollisionStep","number",r.generateParams(r.core.joint_number,"number")),r.emc_planeCollision=r.emc.cwrap("frontend_planeCollisionStep","number",r.generateParams(r.core.joint_number+3+3+3+3,"number")),r.emc_workspaceCollision=r.emc.cwrap("frontend_workspaceCollisionStep","number",r.generateParams(r.core.joint_number,"number"))},this.preload=function(t,e){p.a.getScript(l.a).done(function(){r.loadFunctions(),t()}).fail(function(t,n,r){e("Motion Planning (reason: "+r+")")})},this.hasSelfCollision=function(t){var e=n.i(d.e)(t);n.i(h.k)(!1);var i=r.emc_selfCollision.apply(r,o()(e));return n.i(h.k)(!0),0!==i},this.hasPlaneCollision=function(t,e){var i=n.i(d.e)(t);n.i(h.k)(!1);var a=r.emc_planeCollision.apply(r,o()(i).concat(o()(e)));return n.i(h.k)(!0),0!==a},this.hasGroundCollision=function(t){return r.hasPlaneCollision(t,[-1,-1,0,1,-1,0,1,1,0,-1,1,0])},this.hasWorkspaceCollision=function(t){var e=n.i(d.e)(t);n.i(h.k)(!1);var i=r.emc_workspaceCollision.apply(r,o()(e));return n.i(h.k)(!0),0!==i},this.forwardKinematics=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.i(d.e)(t);n.i(h.k)(!1);var a=r.emc_forwardKinematics.apply(r,o()(i));n.i(h.k)(!0);var s={};if(s.position=n.i(d.c)({x:r.emc.getValue(a+0*r.sizeof_float,"float"),y:r.emc.getValue(a+1*r.sizeof_float,"float"),z:r.emc.getValue(a+2*r.sizeof_float,"float")}),e){for(var l=[],u=[3,6,9],p=0;p<u.length;p++){for(var m=u[p],f=[],y=[0,1,2],v=0;v<y.length;v++){var g=y[v];f.push(r.emc.getValue(a+(m+g)*r.sizeof_float,"float"))}l.push(n.i(d.c)({x:f[0],y:f[1],z:f[2]}))}s.matrix=(new c.a).makeBasis(l[0],l[1],l[2])}return s},this._doStep=function(t,e,i,a){var s={x:0,y:1,z:2},l=n.i(d.e)(a);n.i(h.k)(!1);var c=r["emc_"+t].apply(r,[s[e],i].concat(o()(l)));n.i(h.k)(!0);var u={rotations:[]},p=!0,m=!1,f=void 0;try{for(var y,v=n.i(h.a)(0,l.length-1)[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var g=y.value;u.rotations.push(r.emc.getValue(c+g*r.sizeof_float,"float"))}}catch(t){m=!0,f=t}finally{try{!p&&v.return&&v.return()}finally{if(m)throw f}}u.rotations=n.i(d.d)(u.rotations);var _=r.emc.getValue(c+a.length*r.sizeof_float,"float");return u.ok=null!==_&&_>.5,u},this.rotate=function(t,e,n){return r._doStep("rotate",t,e,n)},this.nudge=function(t,e,n){return r._doStep("nudge",t,e/1e3,n)},this.core=e,this.sizeof_float=4}},1679:function(t,e,n){t.exports=n.p+"images/eva_online-2f59feee3fb29622c30a2cf17734f2e8.png"},1683:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1676),l=(n.n(s),n(1673)),c=(n.n(l),n(1678)),u=(n.n(c),n(1675)),p=(n.n(u),n(1562)),h=n(1686),d=n(1431);n.d(e,"a",function(){return v});var m,f,y,v=(f=m=function(){function t(e,r,i,a,l,u,p){o()(this,t),y.call(this),this.id=a,this.name=l,this.speed=n.i(s.elvis)(n.i(c.existsChainedValue)(u,"speed"),1),this._toolpaths=e,this._api=r,this._waypoints=i,this._node=this._toolpaths._toolpathGroup,this._changed=!1,this._counter=0,this._factories={waypoint:h.Waypoint,if:h.Branches,wait:h.Wait,restart:h.Restart,"output-set":h.OutputSet,input:h.Input,"output-test":h.OutputTest,time:h.Time,grid:h.Grid,"grid-waypoint":h.GridWaypoint},this._elements={},this._root=this.deserializeElements(null,"root",p),this.validate({force:!0,doRequest:!1}),this._waypointsObserver=this._getWaypointsObserver(),this._waypoints.observe(this._waypointsObserver)}return a()(t,[{key:"_forParent",value:function(t,e){for(var r=t.parent;n.i(l.exists)(r);){var o=this.lookup(r);if(!n.i(l.exists)(o)||!e(o))break;if(r===t.id)return!0;r=o.parent}return!1}},{key:"_getHome",value:function(){var t=this._selectWaypoints(this._root.elements);if(n.i(l.exists)(t[0]))return this._waypoints.lookupWaypoint(t[0].waypointId).record}},{key:"_selectWaypoints",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._root.elements,e=[],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.lookup(s);l instanceof h.Waypoint&&e.push(l)}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e}},{key:"_updateWaypoints",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.validateOnChange,o=void 0!==r&&r,i=n.toolpathChanged,a=void 0===i||i,s=!1,l=!0,c=!1,u=void 0;try{for(var p,h=Object.keys(this._elements)[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value,m=this.lookup(d);m.waypointId===t.id&&(m.update(e,{toolpathChanged:!1,validate:!1}),s=!0)}}catch(t){c=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}a&&this.changed({doValidate:o&&s})}},{key:"_getWaypointsObserver",value:function(){var t=this;return{inserted:function(){t.changed({doValidate:!1})},updated:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t._updateWaypoints(e,function(t){t.color=e.color,t.waypointType=e.type,t.position=e.position,t.waypointType===p.a.INTERPOLATION&&n.i(u.assignsElvisObj)(t,"weight",p.b.Toolpaths.DefaultWeight)},{validateOnChange:r})},activated:function(e,n){t._updateWaypoints(n,function(t){t.activated=e},{toolpathChanged:!1})},hovered:function(e,n){t._updateWaypoints(n,function(t){t.hovered=e},{toolpathChanged:!1})},deleted:function(e){t._updateWaypoints(e,function(e){var r=t.lookup(e.parent);n.i(l.exists)(r)&&r.removeChild(e.id),e.destroy()},{validateOnChange:!0})}}}}]),t}(),y=function(){var t=this;this.destroy=function(){t._waypoints.forget(t._waypointsObserver);var e=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t._elements)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;t.lookup(s).destroy()}}catch(t){r=!0,o=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw o}}t._elements={},n.i(d.a)(t._node)},this.create=function(e){t._toolpaths._startProcessing(),t._api.createToolPath(e,JSON.stringify(t._serialize()),function(r){n.i(l.exists)(r)&&(t._changed=!1,t.id=r.id,t.name=e,t._toolpaths.notify("created",t)),t._toolpaths._endProcessing()})},this.update=function(){t._toolpaths._startProcessing(),t._api.updateToolPath(t.id,t.name,JSON.stringify(t._serialize()),function(e){n.i(l.exists)(e)&&(t._changed=!1,t._toolpaths.notify("updated",t)),t._toolpaths._endProcessing()})},this.share=function(e){t._api.shareToolPath(t.name,JSON.stringify(t._serialize()),e)},this._serialize=function(){var e=t._waypoints.serialize(),n=e.list,r=e.map;return{metadata:{speed:t.speed},waypoints:n,timeline:t._root.serialize(r)}},this.updateSpeed=function(e){e!==t.speed&&(t.speed=e,t.changed())},this.updateName=function(e){e!==t.name&&(t.name=e,t.changed({doValidate:!1}))},this.changed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.doValidate,r=void 0===n||n;t._changed=!0,r&&t.validate(),t._toolpaths.notify("changed",t,t._changed,t._getHome())},this.hasChanged=function(){return t._changed},this.validate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.force,o=void 0!==r&&r,i=e.doRequest,a=void 0===i||i;if(t._changed||o){var s=t._root.validate();return t._toolpaths.notify("validationResult",s,n.i(l.exists)(s)?null:t._root.processSpeed()),a&&!n.i(l.exists)(s)&&t._toolpaths._runCalc(JSON.stringify(t._serialize())),s}},this.lookup=function(e){return t._elements[e]},this.upsertElement=function(e,r){var o=n.i(l.exists)(r.id)?r.id:t.deserializeElement(e,r);return t.lookup(o).parent=e,o},this.updateElement=function(e,r,o){var i=t.lookup(e);n.i(l.exists)(i)&&i.update(r,o)},this.insertElement=function(e,r,o){var i=t.lookup(e);if(!n.i(l.exists)(i))return null;var a=void 0;if(i instanceof h.Timeline)a=t.upsertElement(i.id,r),i.insertChild(a,0);else{var s=t.lookup(i.parent);if(!n.i(l.exists)(s))return null;a=t.upsertElement(i.parent,r),s.insertChild(a,("before"===o?0:1)+s.elements.indexOf(i.id))}return a},this.removeElement=function(e){var r=t.lookup(e);if(!n.i(l.exists)(r))return null;var o=t.lookup(r.parent);if(!n.i(l.exists)(o))return null;r.parent=null,o.removeChild(e)},this.collectElement=function(e){var r=t.lookup(e);if(!n.i(l.exists)(r))return null;n.i(l.exists)(r.parent)||r.destroy()},this.checkForLoop=function(e,r){var o=t.lookup(e),i=t.lookup(r);if(!n.i(l.exists)(i)||!n.i(l.exists)(o))return!1;var a=!1;return t._forParent(o,function(t){return t.id===i.id&&(a=!0),!a}),a},this.deserializeElement=function(e,r){var o=t._factories[r.type];if(!n.i(l.exists)(o))return null;var i=r.type+"-"+t._counter++,a=new o(t,e,i);return a.deserialize(r),t._elements[i]=a,i},this.deserializeElements=function(e,n,r){var o=new h.Timeline(t,e,n,r.map(t.deserializeElement.bind(null,n)));return t._elements[n]=o,o}},f);Object.assign(v,h)},1684:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(1151),h=n(1167),d=n(1157),m=n(1166),f=n(1160),y=n(1155),v=(n(1198),n(1189)),g=n(1303),_=n(1187),b=n(1213),w=n(1769),E=n(1772),C=n(1676),x=(n.n(C),n(1673)),N=(n.n(x),n(1688)),T=(n.n(N),n(1683)),S=n(1562),O=n(1431);n.d(e,"a",function(){return D});var R,P,k,D=(P=R=function(t){function e(t,n,r,i){o()(this,e);var a=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.api,t.channel,t.toolpaths));return k.call(a),a._core=t,a._waypoints=n,a._scene=i,a._node=new d.a,r.add(a._node),a._pointsGeometry=new f.a,a._points=new g.a(a._pointsGeometry,new b.a({size:10,vertexColors:p.b})),a._node.add(a._points),a._errorsGroup=new d.a,a._node.add(a._errorsGroup),a._toolpathGroup=new d.a,a._node.add(a._toolpathGroup),a._lastCalc=null,a._toolpath=null,a._trajectory=[],a}return u()(e,t),a()(e,[{key:"_startProcessing",value:function(){this.notify("processing")}},{key:"_endProcessing",value:function(){this.notify("processingEnd")}},{key:"_runCalc",value:function(t){var e=this;this._cancelCalc(),this._lastCalc=this._core.api.calcToolPath(t,function(t){n.i(x.exists)(t)&&e._updateTrajectory(t.trajectory),e._lastCalc=null})}},{key:"_cancelCalc",value:function(){n.i(x.exists)(this._lastCalc)&&this._lastCalc.request.abort(),this._lastCalc=null}},{key:"_mixColors",value:function(t,e,n){return new y.a(t).lerp(new y.a(e),n)}},{key:"_createTrajectoryError",value:function(t,e){var n=new h.a;return n.vertices.push(t),n.vertices.push(e),new v.a(n,new _.a({color:16711680,linewidth:10}))}},{key:"_addTrajectoryPoint",value:function(t,e,n,r,o,i,a){var s=3*o;t.toArray(i,s),this._mixColors(n.color,r.color,e).toArray(a,s)}},{key:"_updateTrajectory",value:function(t){var e=this,r=this._trajectory.length>0;this._trajectory=[];var o=void 0,i=void 0,a=void 0;if(n.i(x.exists)(this._toolpath)){var s=this._generateTrajectory(t);o=s.positions,i=s.colors,a=s.errors,this._trajectory=s.trajectory,this.notify("newTrajectory",this._trajectory,a.length>0)}else o=new Float32Array(0),i=new Float32Array(0),a=[];var l=function(){n.i(O.a)(e._errorsGroup);var t=!0,r=!1,s=void 0;try{for(var l,c=a[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var u=l.value;e._errorsGroup.add(u)}}catch(t){r=!0,s=t}finally{try{!t&&c.return&&c.return()}finally{if(r)throw s}}e._pointsGeometry.addAttribute("position",new m.a(o,3)),e._pointsGeometry.addAttribute("color",new m.a(i,3))},c=function(t,r){var o=r.progress,i=t?o:1-o;e._points.material.size=10*i,n.i(O.b)(e._errorsGroup,function(t){t.material.linewidth=10*i})},u=function t(n){n&&l();var r={onDone:n?void 0:t.bind(null,!0)};e._core.animations.addAnimation("toolpaths_points",750,c.bind(null,n),r)};n.i(x.exists)(this._toolpath)?u(r?!1:!0):l()}},{key:"_generateTrajectory",value:function(t){var e=this,r=t.reduce(function(t,e){return e.reduce(function(t,e){return e.success?t+1:t},0)+t},0),o=new Float32Array(3*r),i=new Float32Array(3*r),a=[],s=[],l=null,c=!0,u=!1,p=void 0;try{for(var h,d=this._toolpath._selectWaypoints()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var m=h.value;m.waypointType===S.a.LINEAR||null===l?(null!==l&&(l.push(m),s.push(l)),l=[m]):l.push(m)}}catch(t){u=!0,p=t}finally{try{!c&&d.return&&d.return()}finally{if(u)throw p}}var f=[],y={},v=function(){if(n.i(x.exists)(y.first)){var t=n.i(C.elvis)(y.second,y.first);f.push(e._createTrajectoryError(y.first,t))}y={}},g=0;return t.forEach(function(t,r){t.forEach(function(l,c){if(!l.success){var u=n.i(O.c)(l);return void(n.i(x.exists)(y.first)?y.second=u:y.first=u)}v();var p=s[r],h=p.length-1,d=c/(t.length-1)*h,m=Math.min(Math.floor(d),h-1),f=d-m;e._addTrajectoryPoint(n.i(O.c)(l),f,p[m],p[Math.min(m+1,h)],g,o,i),a.push({rotations:w.a.ParseRotations(l,e._core.joint_number)}),g+=1}),v()}),v(),{trajectory:a,errors:f,positions:o,colors:i}}}]),e}(E.a),k=function(){var t=this;this.current=function(){return t._toolpath},this.currentTrajectory=function(){return t._trajectory},this.currentReset=function(){t._cancelCalc(),t.notify("reset",t._toolpath),t._waypoints.reset(),n.i(N.callsIfExistObj)(t._toolpath,"destroy"),t._toolpath=null,t._updateTrajectory([])},this.currentNew=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n.i(N.callsIfExistObj)(t.current(),"destroy"),t._toolpath=new T.a(t,t._core.api,t._waypoints,e,r,o,i),t.notify("selected",t._toolpath,t._toolpath._getHome())},this.currentFetch=function(e){t._startProcessing(),t.build(e,function(n,r,o){n&&(t._waypoints.init(o.waypoints),t.currentNew(e,r.toolpath.name,o.metadata,o.timeline),t._updateTrajectory(r.trajectory)),t._endProcessing()})}},P)},1685:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1467);n.d(e,"a",function(){return b});var g,_,b=(_=g=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"render",value:function(){return m.a.createElement(v.a,o()({title:"Admin account creation"},this.props))}}]),e}(d.PureComponent),g.propTypes={user:y.a.object.isRequired,errors:y.a.object.isRequired,url:y.a.string.isRequired,password_length:y.a.number,authenticity_token:y.a.string.isRequired},_)},1686:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1624),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(1676),m=(n.n(d),n(1673)),f=(n.n(m),n(1677)),y=(n.n(f),n(1688)),v=(n.n(y),n(1562)),g=n(1421),_=n(1790);n.d(e,"Restart",function(){return k}),n.d(e,"OutputSet",function(){return D}),n.d(e,"Time",function(){return M}),n.d(e,"Input",function(){return I}),n.d(e,"OutputTest",function(){return q}),n.d(e,"Waypoint",function(){return W}),n.d(e,"Wait",function(){return A}),n.d(e,"GridWaypoint",function(){return z}),n.d(e,"Grid",function(){return j}),n.d(e,"Branches",function(){return L}),n.d(e,"Timeline",function(){return G});var b,w,E,C,x,N,T,S,O,R=(w=b=function(t){function e(t,n,r){a()(this,e);var o=u()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return E.call(o),o._toolpath=t,o.parent=n,o.id=r,o}return h()(e,t),l()(e,[{key:"destroy",value:function(){delete this._toolpath._elements[this.id]}},{key:"changed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.validate,n=void 0!==e&&e,r=t.toolpathChanged,o=void 0===r||r;this.notify("changed",this),o&&this._toolpath.changed({validate:n})}}]),e}(g.a),E=function(){var t=this;this.update=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.validate,o=void 0===r||r,i=n.toolpathChanged,a=void 0===i||i;e(t),t.changed({validate:o,toolpathChanged:a})},this.getState=function(){var e={type:t.getType(),parent:t.parent},r=!0,o=!1,i=void 0;try{for(var a,s=t.getExportState()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.i(m.exists)(t[l])&&(e[l]=t[l])}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return e},this.setState=function(e){var r=!0,o=!1,i=void 0;try{for(var a,s=t.getExportState()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.i(m.exists)(e[l])&&(t[l]=e[l])}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}},this.notifyParent=function(){t._toolpath._forParent(t,function(t){return t.notify("childrenChanged"),!0})},this.serialize=function(){return t.getState()},this.deserialize=function(e){t.setState(e)},this.getExportState=function(){return[]},this.processSpeed=function(){return 0},this.getType=function(){throw Error("not implemented")},this.validate=function(){throw Error("not implemented")}},w),P=function(t,e){var r=void 0;return n.i(m.exists)(t.mode)?n.i(m.exists)(t.value)?"output-set"!==t.getType()&&"analog"===t.mode.split("_")[0]&&(n.i(m.exists)(t.valueMode)?"threshold"===t.valueMode&&(n.i(f.existsChained)(t,"thresholds","upper")?n.i(f.existsChained)(t,"thresholds","lower")||(r=e+" without lower threshold"):r=e+" without upper threshold"):r=e+" without value mode"):r=e+" without value":r=e+" without mode",r},k=function(t){function e(){var t,n,r,o;a()(this,e);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.getType=function(){return"restart"},r.validate=function(t,e){var n="Restart action "+e[r.getType()]++,o=r._toolpath.lookup(r.parent),i=void 0;return o.elements[o.elements.length-1]!==r.id?i=""+t+n+" must be at the end of a branch":""===t&&(i="Useless "+n+" at the end of toolpath"),i},o=n,u()(r,o)}return h()(e,t),e}(R),D=function(t){function e(){var t,r,o,i;a()(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=o=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getType=function(){return"output-set"},o.getExportState=function(){return["mode","value"]},o.validate=function(t,e,r){var i=t+"Set Output action "+e[o.getType()]++,a=P(o,i);return n.i(m.exists)(a)||null===r||r instanceof W&&r.waypointType===v.a.INTERPOLATION&&(a=i+" cannot follow an interpolation waypoint"),a},i=r,u()(o,i)}return h()(e,t),e}(R),M=function(t){function e(){var t,r,o,i;a()(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=o=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getType=function(){return"time"},o.getExportState=function(){return["duration"]},o.validate=function(t,e){var r=void 0;return n.i(m.exists)(o.duration)||(r=t+"Time condition must have a duration"),r},i=r,u()(o,i)}return h()(e,t),e}(R),I=function(t){function e(){var t,n,r,o;a()(this,e);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.getType=function(){return"input"},r.getExportState=function(){return["mode","value","valueMode","thresholds"]},r.validate=function(t,e){return P(r,t+"Input condition")},o=n,u()(r,o)}return h()(e,t),e}(R),q=function(t){function e(){var t,n,r,o;a()(this,e);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.getType=function(){return"output-test"},r.getExportState=function(){return["mode","value","valueMode","thresholds"]},r.validate=function(t,e){return P(r,t+"Output Test condition")},o=n,u()(r,o)}return h()(e,t),e}(R),W=function(t){function e(){var t,r,o,i;a()(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=o=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getType=function(){return"waypoint"},o.getExportState=function(){return["waypointId","waypointType","color","activated","hovered","speed","weight"]},o.validate=function(t,n,r){var i=void 0;return null!==r&&r instanceof e&&r.waypointType===v.a.INTERPOLATION&&o.waypointType===v.a.INTERPOLATION&&(i=t+"Cannot have two successive interpolation waypoints ("+(n.waypoint-1)+" and "+n.waypoint+")"),n.waypoint+=1,i},o.serialize=function(t){var e={type:o.getType(),waypointId:t[o.waypointId]};return o.waypointType===v.a.INTERPOLATION?e.weight=o.weight:o.speed>0&&(e.nextSegment={speed:o.speed}),e},o.deserialize=function(t){o.waypointId=t.waypointId;var e=o._toolpath._waypoints.lookupWaypoint(o.waypointId).record;if(n.i(m.exists)(e)){o.waypointType=e.type;for(var r=["color","hovered","activated","position"],i=0;i<r.length;i++){var a=r[i];o[a]=e[a]}e.type===v.a.INTERPOLATION?o.weight=n.i(d.elvis)(t.weight,v.b.Toolpaths.DefaultWeight):n.i(f.existsChained)(t,"nextSegment","speed")&&(o.speed=t.nextSegment.speed)}},o.processSpeed=function(){return o.waypointType===v.a.INTERPOLATION?0:n.i(d.elvis)(o.speed,v.b.Toolpaths.DefaultSpeed)},i=r,u()(o,i)}return h()(e,t),l()(e,[{key:"changed",value:function(t){o()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"changed",this).call(this,t);var r=this._toolpath.lookup(this.parent);n.i(m.exists)(r)&&r instanceof j&&r.changed(t)}}]),e}(R),A=function(t){function e(){var t,r,o,i;a()(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=o=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getType=function(){return"wait"},o.getExportState=function(){return["condition"]},o.removeChild=function(t){for(var e=["condition"],n=0;n<e.length;n++){var r=e[n];o[r]===t&&(o[r]=null)}o.changed()},o.serialize=function(){for(var t={type:o.getType()},e=["condition"],r=0;r<e.length;r++){var i=e[r];n.i(m.exists)(o[i])&&(t[i]=o._toolpath.lookup(o[i]).serialize())}return t},o.deserialize=function(t){for(var e=["condition"],r=0;r<e.length;r++){var i=e[r];n.i(m.exists)(t[i])&&(o[i]=o._toolpath.deserializeElement(o.id,t[i]))}},o.validate=function(t,e,r){var i=t+"Wait instruction "+e[o.getType()]++,a=void 0;return n.i(m.exists)(o.condition)?(a=o._toolpath.lookup(o.condition).validate(i+" has a ",e),n.i(m.exists)(a)||null===r||r instanceof W&&r.waypointType===v.a.INTERPOLATION&&(a=i+" cannot follow an interpolation waypoint")):a=i+" has no condition",a},i=r,u()(o,i)}return h()(e,t),l()(e,[{key:"destroy",value:function(){o()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this);for(var t=["condition"],r=0;r<t.length;r++){var i=t[r];n.i(m.exists)(this[i])&&n.i(y.callsIfExistObj)(this._toolpath.lookup(this[i]),"destroy")}}}]),e}(R),z=function(t){function e(){var t,r,o,i;a()(this,e);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=o=u()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.getType=function(){return"grid-waypoint"},o.getExportState=function(){return["speed","z_offset"]},o.validate=function(){return null},o.serialize=function(){var t={type:o.getType(),z_offset:o.z_offset};return o.speed>0&&(t.nextSegment={speed:o.speed}),t},o.deserialize=function(t){o.z_offset=t.z_offset,n.i(f.existsChained)(t,"nextSegment","speed")&&(o.speed=t.nextSegment.speed)},o.processSpeed=function(){return n.i(d.elvis)(o.speed,v.b.Toolpaths.DefaultSpeed)},i=r,u()(o,i)}return h()(e,t),e}(R),j=function(t){function e(t,r,o){a()(this,e);var i=u()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,o));return i.getType=function(){return"grid"},i.getExportState=function(){return["hovered","w0","wx","wy","timeline","cols","rows"]},i.removeChild=function(t){for(var e=["w0","wx","wy"],n=0;n<e.length;n++){var r=e[n];i[r]===t&&(i[r]=null)}i.changed()},i.serialize=function(t){var e=["w0","wx","wy"],r={type:i.getType(),cols:i.cols,rows:i.rows},o=!0,a=!1,s=void 0;try{for(var l,c=["timeline"].concat(e)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;n.i(m.exists)(i[u])&&(r[u]=i._toolpath.lookup(i[u]).serialize(t),-1!==e.indexOf(u)&&(r[u]=r[u].waypointId))}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return r},i.deserialize=function(t){i.cols=t.cols,i.rows=t.rows;for(var e=["w0","wx","wy"],r=0;r<e.length;r++){var o=e[r];n.i(m.exists)(t[o])&&(i[o]=i._toolpath.deserializeElement(i.id,{type:"waypoint",waypointId:t[o]}))}i.timeline=i.id+"-timeline",i._toolpath.deserializeElements(i.id,i.timeline,n.i(d.elvis)(t.timeline,[])),i._node.update()},i.processSpeed=function(){return i.rows*i.cols*i._toolpath.lookup(i.timeline).processSpeed()},i.coreValidate=function(t){var e=void 0;return isNaN(i.cols)?e=t+" need a number of columns":isNaN(i.rows)?e=t+" need a number of rows":n.i(m.exists)(i.w0)?i._toolpath.lookup(i.w0).waypointType!==v.a.LINEAR?e=t+" must have linear origin waypoint":n.i(m.exists)(i.wx)?i._toolpath.lookup(i.wx).waypointType!==v.a.LINEAR?e=t+" must have linear second waypoint":n.i(m.exists)(i.wy)?i._toolpath.lookup(i.wy).waypointType!==v.a.LINEAR?e=t+" must have linear third waypoint":i._node.isValid()||(e=t+" must have perpendicular columns and rows"):e=t+" need a third waypoint":e=t+" need a second waypoint":e=t+" need a number an origin waypoint",e},i.validate=function(t,e){var r=t+"Grid instruction "+e[i.getType()]++,o=i.coreValidate(r);return n.i(m.exists)(o)||(o=i._toolpath.lookup(i.timeline).validate(r+": ",e)),o},i.hovered=!1,i._node=new _.a(i,i._toolpath._node),i}return h()(e,t),l()(e,[{key:"destroy",value:function(){o()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._node.destroy();for(var t=["w0","wx","wy","timeline"],r=0;r<t.length;r++){var i=t[r];n.i(m.exists)(this[i])&&n.i(y.callsIfExistObj)(this._toolpath.lookup(this[i]),"destroy")}}},{key:"changed",value:function(t){o()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"changed",this).call(this,t),this._node.update()}}]),e}(R),L=(x=C=function(t){function e(t,n,r){a()(this,e);var o=u()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return N.call(o),o._counter=0,o.branches=[],o}return h()(e,t),l()(e,[{key:"destroy",value:function(){for(o()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this);this.branches.length>0;)this.removeBranch(this.branches.length-1,{doNotify:!1})}}]),e}(R),N=function(){var t=this;this.getType=function(){return"if"},this.removeChild=function(e){var n=!0,r=!1,o=void 0;try{for(var i,a=t.branches[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.condition===e){s.condition=null;break}}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}t.changed({validate:!0})},this.appendBranch=function(e){t.branches.push({timeline:e}),t.changed({validate:!0}),t.notifyParent()},this.removeBranch=function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.doNotify,i=void 0===o||o,a=t.branches[e],s=["condition","timeline"],l=0;l<s.length;l++){var c=s[l];n.i(m.exists)(a[c])&&n.i(y.callsIfExistObj)(t._toolpath.lookup(a[c]),"destroy")}t.branches.splice(e,1),i&&(t.changed({validate:!0}),t.notifyParent())},this.getState=function(){return{type:t.getType(),branches:t.branches.map(function(t){return Object.assign({},t)})}},this.serialize=function(e){return{type:t.getType(),branches:t.branches.map(function(r){for(var o={},i=["condition","timeline"],a=0;a<i.length;a++){var s=i[a];n.i(m.exists)(r[s])&&(o[s]=t._toolpath.lookup(r[s]).serialize(e))}return o})}},this.deserialize=function(e){if(t.branches=[],n.i(m.exists)(e.branches)&&(t.branches=e.branches.map(function(e){var r={};return n.i(m.exists)(e.condition)&&(r.condition=t._toolpath.deserializeElement(t.id,e.condition)),n.i(m.exists)(e.timeline)&&(r.timeline=t.id+"-"+t._counter++,t._toolpath.deserializeElements(t.id,r.timeline,e.timeline)),r})),t.branches.length<1){var r=t.id+"-"+t._counter++;t.branches.push({condition:null,timeline:r}),t._toolpath.deserializeElements(t.id,r,[])}},this.processSpeed=function(){return 0},this.validate=function(e,r){var o=e+"Branch instruction "+r[t.getType()]++;if(!n.i(m.exists)(t.branches)||t.branches.length<1)return o+" has no branches";var i=void 0,a=0,s=!0,l=!1,c=void 0;try{for(var u,p=t.branches[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value,d=o+" (If "+(a+1)+")";if(n.i(m.exists)(h.condition)?"time"===t._toolpath.lookup(h.condition).type?i=d+" cannot have a Time condition":(i=t._toolpath.lookup(h.condition).validate(d+" has a ",r),n.i(m.exists)(i)||(i=n.i(m.exists)(h.timeline)?t._toolpath.lookup(h.timeline).validate(d+": ",r):d+" is empty")):i=d+" has no condition",n.i(m.exists)(i))break;a+=1}}catch(t){l=!0,c=t}finally{try{!s&&p.return&&p.return()}finally{if(l)throw c}}return i}},x),G=(S=T=function(t){function e(t,n,r,o){a()(this,e);var i=u()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return O.call(i),i.elements=o,i}return h()(e,t),e}(R),O=function(){var t=this;this.serialize=function(e){return t.elements.map(function(n){return t._toolpath.lookup(n).serialize(e)})},this.insertChild=function(e,n){t.elements.splice(n,0,e),t.notify("inserted",e,n),t.notifyParent()},this.removeChild=function(e){var n=t.elements.indexOf(e);t.elements.splice(n,1),t.notify("removed",n),t.notifyParent()},this.processSpeed=function(){return t.elements.reduce(function(e,n,r){return r===t.elements.length-1&&"root"===t.id?e:e+t._toolpath.lookup(n).processSpeed()},0)},this.validate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t._toolpath._selectWaypoints(t.elements),o={wait:1,if:1,"output-set":1,restart:1,waypoint:1,grid:1},i=void 0;if("root"===t.id?r.length<2?i="Need at least two waypoints":r[0].type===v.a.INTERPOLATION?i="Toolpath cannot start with an interpolation waypoint":r[r.length-1].type===v.a.INTERPOLATION?i="Toolpath cannot end with an interpolation waypoint":t._toolpath.lookup(t.elements[0])instanceof W||(i="First element must be a waypoint"):t.elements.length<1&&(i=e+"Empty timeline"),!n.i(m.exists)(i)){var a=null,s=!0,l=!1,c=void 0;try{for(var u,p=t.elements[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value,d=t._toolpath.lookup(h);if(i=d.validate(e,o,a),n.i(m.exists)(i))break;a=d}}catch(t){l=!0,c=t}finally{try{!s&&p.return&&p.return()}finally{if(l)throw c}}}return i}},S)},1687:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(1151),h=n(1157),d=n(1155),m=n(1172),f=n(1150),y=n(1175),v=n(1228),g=n(1229),_=n(1179),b=n(1212),w=n(1676),E=(n.n(w),n(1673)),C=(n.n(E),n(1678)),x=(n.n(C),n(1421)),N=n(1415),T=n(1447),S=n(1562),O=n(1431);n.d(e,"a",function(){return R});var R=function(t){function e(t,r,i){o()(this,e);var a=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.reset=function(){a._waypoints=[],a._id=0,a.activeWaypoint=null,a._disabled=!1,a._zoomScale=1,a._outlineMaterial=new _.a({color:0,side:p.l,transparent:!0,opacity:1}),a._outlineActiveMaterial=new _.a({color:16777215,side:p.l}),a._outlineHoverMaterial=new _.a({color:917248,side:p.l}),n.i(O.a)(a._waypointsGroup)},a.init=function(t){a.reset();var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var s=o.value;a._addBEWaypoint(s)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}},a.addBDWaypoint=function(t){a.addWaypoint(S.a.LINEAR,n.i(N.g)(16777215*Math.random()),t)},a.addWaypoint=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.notify,i=void 0===o||o,s={id:a._id++,type:t,color:e,rotations:n},l=a._mp.forwardKinematics(s.rotations,!0);s.position=l.position,s.orientation=(new m.a).setFromRotationMatrix(l.matrix),s.object=a._createMesh(s),a._waypoints.push(s),i&&a.notify("inserted",s)},a.lookupWaypoint=function(t){var e=0,n=!0,r=!1,o=void 0;try{for(var i,s=a._waypoints[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value;if(l.id===t)return{index:e,record:l};e+=1}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return{index:-1,record:null}},a.updateWaypointType=function(t,e){var n=a.lookupWaypoint(t);if(-1!==n.index){var r=n.record;if(r.type!==e){var o=a._createMeshGeometry(e);r.object.mesh.geometry=o,r.object.outline.geometry=o,r.type=e,a.notify("updated",r,!0)}}},a.updateWaypointColor=function(t,e){var n=a.lookupWaypoint(t);if(-1!==n.index){var r=n.record;r.color!==e&&(r.object.mesh.material=a._createMeshMaterial(e),r.color=e,a.notify("updated",r))}},a.deleteWaypoint=function(t){var e=a.lookupWaypoint(t);-1!==e.index&&(a._waypoints.splice(e.index,1),a._waypointsGroup.remove(e.record.object.group),a.notify("deleted",e.record))},a.hover=function(t,e){t&&e.hovered||!t&&!e.hovered||(e.activated?a.notify("hoverActivated",t,e):(e.object.outline.material=t?a._outlineHoverMaterial:a._outlineMaterial,e.hovered=t,a.notify("hovered",t,e)),!t&&n.i(E.exists)(a.activeWaypoint)&&a.notify("reactivated",a.activeWaypoint))},a.animate=function(t){a._gizmo.animate(t)},a.serialize=function(){var t=[],e={},n=!0,r=!1,o=void 0;try{for(var i,s=a._waypoints[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value,c={type:l.type,color:l.color,rotations:l.rotations};e[l.id]=t.length,t.push(c)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return{map:e,list:t}},a._mp=r,a._group=new h.a,a._waypointsGroup=new h.a,a._group.add(a._waypointsGroup),a.waypointsAgent=a._getWaypointsAgent(),a._gizmo=new T.a(t,a,a.waypointsAgent,{parent:a._group,point:!1,show:!1,flipX:!0}),i.add(a._group),a.cameraObserver={disableOnSelect:function(t,e){a._disable(t,n.i(C.existsChainedValue)(e,"userData","waypoint"))},zoomChange:function(t){a._scaleWaypoints(t),a._gizmo.scale(t)}},a.reset(),a}return u()(e,t),a()(e,[{key:"_addBEWaypoint",value:function(t){this.addWaypoint(t.type,t.color,n.i(O.d)(t.rotations),{notify:!1})}},{key:"_createMeshGeometry",value:function(t){return t===S.a.LINEAR?new v.a(30,30,30):new g.a(20,12,10)}},{key:"_createMeshMaterial",value:function(t){return new b.a({color:new d.a(t),transparent:!0,opacity:1})}},{key:"_createMesh",value:function(t){var e=new h.a,n=this._createMeshGeometry(t.type),r=new y.a(n,this._createMeshMaterial(t.color));e.add(r);var o=new y.a(n,this._outlineMaterial);return o.scale.multiplyScalar(1.1),e.add(o),e.scale.set(this._zoomScale,this._zoomScale,this._zoomScale),e.position.copy(t.position),e.quaternion.copy(t.orientation),e.userData={agent:this.waypointsAgent,waypoint:t},this._disabled&&(e.userData.raycast_pass=!0,r.userData.raycast_pass=!0,r.material.opacity=this._getMaterialOpacity(),o.userData.raycast_pass=!0),this._waypointsGroup.add(e),{group:e,mesh:r,outline:o}}},{key:"_activate",value:function(t,e){var r=this;if(!(t&&this.activeWaypoint===e||!t&&this.activeWaypoint!==e)){var o=function(t){t&&(r._gizmo.setPosition(r.activeWaypoint.position),r._gizmo.setOrientation(r.activeWaypoint.orientation)),r._gizmo.show(t),r.activeWaypoint.activated=t,r.activeWaypoint.hovered=!1,r.activeWaypoint.object.outline.material=t?r._outlineActiveMaterial:r._outlineMaterial,r.notify("activated",t,r.activeWaypoint)};n.i(E.exists)(this.activeWaypoint)&&(o(!1),this.activeWaypoint=null),t&&(this.activeWaypoint=e,o(!0))}}},{key:"_getMaterialOpacity",value:function(){return this._disabled?.3:1}},{key:"_disable",value:function(t,e){var n=function(t,e){t?e.userData.raycast_pass=!0:delete e.userData.raycast_pass};this._disabled=t;var r=this._getMaterialOpacity();this._outlineMaterial.opacity=r;var o=!0,i=!1,a=void 0;try{for(var s,l=this._waypoints[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;c!==e&&(n(t,c.object.group),n(t,c.object.mesh),c.object.mesh.material.opacity=r,n(t,c.object.outline))}}catch(t){i=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}},{key:"_scaleWaypoints",value:function(t){this._zoomScale=t,n.i(O.b)(this._waypointsGroup,function(e){e.scale.set(t,t,t)})}},{key:"_nudgeWaypoint",value:function(t,e,n,r){var o=this._mp.nudge(e,n,t.rotations);if(o.ok){t.rotations=o.rotations;var i=this._mp.forwardKinematics(o.rotations).position;t.position=i,t.object.group.position.copy(i),this._gizmo.setPosition(i),this.notify("updated",t),r(n)}else this.notify("hit_bounds")}},{key:"_rotateWaypoint",value:function(t,e,n,r){var o=this._mp.rotate(e,n,t.rotations);if(o.ok){t.rotations=o.rotations;var i=(new m.a).setFromRotationMatrix(this._mp.forwardKinematics(o.rotations,!0).matrix);t.orientation=i,t.object.group.quaternion.copy(i),this._gizmo.setOrientation(i),this.notify("updated",t),r(n)}else this.notify("hit_bounds")}},{key:"_getWaypointsAgent",value:function(){var t=this;return{getMode:function(){return S.c.WAYPOINT},enable:function(e,n){t._activate(e,n.userData.waypoint)},canHover:function(t,e){return(n.i(E.exists)(e.userData.gizmoAxis)||n.i(E.exists)(e.userData.gizmoCircle))&&e.userData.agent.getMode()===S.c.WAYPOINT},hover:function(e,r){n.i(E.exists)(r.userData.waypoint)?t.hover(e,r.userData.waypoint):t._gizmo.hover(r,e)},drag:function(e,r,o,i,a,s,l){t._gizmo.drag(e,r,o,i,a,function(e,i){var a=n.i(E.exists)(o.userData.gizmoAxis)?"_nudgeWaypoint":"_rotateWaypoint";t[a](r.userData.waypoint,e,i,function(t){var e=n.i(w.elvis)(n.i(C.existsChainedValue)(s,"offset"),0)+t;l({offset:e,isAngle:!n.i(E.exists)(o.userData.gizmoAxis)})})})},fini:function(e,n){t.notify("updated",n.userData.waypoint,!0)},retrieveCloseTo:function(e){var n=e.selected,r=e.selectedPosition,o=e.searchMagnitude,i=[],a=!0,s=!1,l=void 0;try{for(var c,u=t._waypoints[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;if(p.object.group!==n){(new f.a).subVectors(r,p.position).length()<=o&&i.push(p.object.group)}}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return i}}}}]),e}(x.a)},1734:function(t,e,n){"use strict";(function(t){var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1151),l=n(1175),c=n(1240),u=n(1306),p=n(1216),h=n(1180),d=n(1209),m=n(1279),f=n(1280),y=n(1211),v=n(276),g=n.n(v),_=n(278),b=(n.n(_),n(277)),w=(n.n(b),n(279)),E=(n.n(w),n(280)),C=(n.n(E),n(284)),x=(n.n(C),n(281)),N=(n.n(x),n(282)),T=(n.n(N),n(283)),S=(n.n(T),n(285)),O=(n.n(S),n(1462)),R=(n.n(O),n(1459)),P=(n.n(R),n(629)),k=n.n(P),D=n(1572),M=n(1562),I=n(1508),q=n(1687),W=n(1684),A=n(1511),z=n(1672),j=n(1415),L=n(1676),G=(n.n(L),n(1673)),B=(n.n(G),n(1678)),H=(n.n(B),n(1452)),F=n(1453),V=n(1545),U=n.n(V);n.d(e,"a",function(){return Y});var Y=function(){function e(t,r,i){var a=this;o()(this,e),this.start=function(t){if(a._prepareLoader(t),!g.a.webgl)return a._loadingManager.onError("WebGL"),void(a._errorElement=g.a.getWebGLErrorMessage());a._loadResources(),a._setupLights();var e=a.ui.getSize();n.i(j.k)(!1),a._renderer=new u.a({antialias:!0,alpha:!0}),n.i(j.k)(!0),a._renderer.setSize(e.width,e.height),a.camera.init(e),a.camera.observe({reset:a._resetCamera}),a._render()},this.getCanvasElement=function(){return n.i(L.elvis)(n.i(B.existsChainedValue)(a._renderer,"domElement"),a._errorElement)},this.getStatsElement=function(){return n.i(B.existsChainedValue)(a._stats,"domElement")},this.stop=function(){a.camera.finit(),a._stopRendering=!0},this.onResize=function(){if(!a._stopRendering){var t=a.ui.getSize();a.camera.resize(t),a._renderer.setSize(t.width,t.height),a._effectComposer&&(a._depthRenderTarget.setSize(t.width,t.height),a._effectComposer.setSize(t.width,t.height),a._ssaoPass.uniforms.size.value.set(t.width,t.height),a._fxaaPass.uniforms.resolution.value.set(1/t.width,1/t.height))}},this._resetCamera=function(t){a._renderPass.camera=t,a._ssaoPass.uniforms.cameraNear.value=t.near,a._ssaoPass.uniforms.cameraFar.value=t.far},this.enablePostProcessing=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!a._doPostProcessing;a._doPostProcessing=t},this._render=function(){if(!a._stopRendering&&(requestAnimationFrame(a._render),a._readyToRender)){var t=n.i(j.l)(),e=n.i(G.exists)(a._lastRender)?t-a._lastRender:0;a._lastRender=t,j.f&&a._stats.begin(),a._animations.render(e),a._doPostProcessing?(a._scene.overrideMaterial=a._depthMaterial,a._renderer.render(a._scene,a.camera.getCamera(),a._depthRenderTarget,!0),a._scene.overrideMaterial=null,a._effectComposer.render()):a._renderer.render(a._scene,a.camera.getCamera()),j.f&&a._stats.end()}},this.ui=t,this._doPostProcessing=!1,this._stopRendering=!1,this._readyToRender=!1,this._animations=new D.a({defaultEasing:"easeInOutQuad"}),this._scene=new c.a,this._renderer=null,this._loadingManager=new h.a,this._resources={robotMeshes:[],wireframeMeshes:[],planeTexture:null},this.core=new M.e(r,i,this._animations),this.mp=new z.a(this.core),this.robot=new A.a(this.core,this.mp,this._scene),this.waypoints=new q.a(this.core,this.mp,this._scene),this.waypoints.observe(this.robot.waypointsObserver),this.toolpaths=new W.a(this.core,this.waypoints,this._scene,this),this.toolpaths.observe(this.robot.toolpathsObserver),this.camera=new I.a({getScene:function(){return a._scene},getNode:function(){return a.getCanvasElement()}}),this.camera.observe(this.waypoints.cameraObserver),this.camera.observe(this.robot.cameraObserver),this.camera.registerAgents(this.waypoints.waypointsAgent,this.robot.gizmoAgent,this.robot.jointsAgent),j.f&&(this._stats=new k.a),this._lastRender=null}return a()(e,[{key:"_prepareLoader",value:function(t){var e=this;this._loadingManager.onProgress=function(e,n,r){t.onLoadingProgress(n/r)},this._loadingManager.onLoad=function(){e.robot.create(e._resources.robotMeshes,e._resources.wireframeMeshes,e._resources.planeTexture),e._initPostProcessing(),e._readyToRender=!0,t.onLoadingFinished()},this._loadingManager.onError=function(n){e._stopRendering=!0,t.onLoadingFailed(n)}}},{key:"_loadResources",value:function(){var e=this;new t.GenericLoader(this._loadingManager).load("Motion Planning",this.mp.preload);var r=new t.STLLoader(this._loadingManager),o=!0,i=!1,a=void 0;try{for(var s,c=n.i(j.a)(0,H.a.length-1)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)!function(){var t=s.value;r.load(H.a[t],function(n){e._resources.robotMeshes[t]=new l.a(n)})}()}catch(t){i=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}var u=new t.FBXLoader(this._loadingManager),p=!0,h=!1,m=void 0;try{for(var f,y=n.i(j.a)(0,F.a.length-1)[Symbol.iterator]();!(p=(f=y.next()).done);p=!0)!function(){var t=f.value;u.load(F.a[t],function(n){e._resources.wireframeMeshes[t]=n})}()}catch(t){h=!0,m=t}finally{try{!p&&y.return&&y.return()}finally{if(h)throw m}}new d.a(this._loadingManager).load(U.a,function(t){e._resources.planeTexture=t})}},{key:"_setupLights",value:function(){this._scene.add(new m.a(6710886));var t=[{x:-500,y:800,z:-500},{x:500,y:800,z:500},{x:0,y:-50,z:0}],e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,s=new f.a(16777215,.5);s.position.set(a.x,a.y,a.z),s.target.position.set(0,0,0),this._scene.add(s)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"_initPostProcessing",value:function(){var e=this.ui.getSize(),r=this.camera.getCamera();this._renderPass=new t.RenderPass(this._scene,r),this._depthMaterial=new y.a,this._depthMaterial.depthPacking=s.n,this._depthMaterial.blending=s.o,this._depthRenderTarget=new p.a(e.width,e.height,{minFilter:s.p,magFilter:s.p}),this._ssaoPass=new t.ShaderPass(t.SSAOShader),this._ssaoPass.uniforms.tDepth.value=this._depthRenderTarget.texture,this._ssaoPass.uniforms.size.value.set(e.width,e.height),this._ssaoPass.uniforms.cameraNear.value=r.near,this._ssaoPass.uniforms.cameraFar.value=r.far,this._ssaoPass.uniforms.onlyAO.value=!1,this._ssaoPass.uniforms.aoClamp.value=.6,this._ssaoPass.uniforms.lumInfluence.value=.3,this._ssaoPass.uniforms.radius.value=4,this._fxaaPass=new t.ShaderPass(t.FXAAShader),this._fxaaPass.uniforms.resolution.value.set(1/e.width,1/e.height),this._effectComposer=new t.EffectComposer(this._renderer),this._effectComposer.addPass(this._renderPass),this._effectComposer.addPass(this._ssaoPass),this._effectComposer.addPass(this._fxaaPass);for(var o=n.i(j.l)(),i=60;i>0;)this._scene.overrideMaterial=this._depthMaterial,this._renderer.render(this._scene,this.camera.getCamera(),this._depthRenderTarget,!0),this._scene.overrideMaterial=null,this._effectComposer.render(),i-=1;var a=n.i(j.l)(),l=(a-o)/60;j.f&&console.info("Performance: "+l+"ms per frame"),l<10&&this.enablePostProcessing(!0),this._effectComposer.passes[this._effectComposer.passes.length-1].renderToScreen=!0}}]),e}()}).call(e,n(1416))},1735:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(t){return t},o=function(t){return t}},1768:function(t,e,n){"use strict";var r=n(1681),o=n.n(r),i=n(1676),a=(n.n(i),n(1673)),s=(n.n(a),n(1678)),l=(n.n(s),n(1769)),c=n(1562);n.d(e,"f",function(){return h}),n.d(e,"a",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"d",function(){return f}),n.d(e,"c",function(){return y}),n.d(e,"g",function(){return v}),n.d(e,"n",function(){return g}),n.d(e,"m",function(){return _}),n.d(e,"l",function(){return b}),n.d(e,"h",function(){return w}),n.d(e,"i",function(){return E}),n.d(e,"j",function(){return C}),n.d(e,"k",function(){return x}),n.d(e,"b",function(){return W});var u,p,h={CONTROL:2,SDO:3,GLOBAL_DATA:4,SERVO_DATA:5},d={NONE:0,READY:1,ERROR:2,RUNNING:3,PAUSED:4,STOPPING:5,JOGGING:6,BACKDRIVING:7},m=(u={},o()(u,d.READY,"Ready"),o()(u,d.ERROR,"Error"),o()(u,d.RUNNING,"Running"),o()(u,d.PAUSED,"Paused"),o()(u,d.STOPPING,"Stopping"),o()(u,d.JOGGING,"Jogging"),o()(u,d.BACKDRIVING,"Backdriving"),u),f={PLAY:0,PAUSE:1,HOME:2,STOP:3,UPLOAD:4,SCHEDULER:5,JOG_START:6,JOG:7,JOG_END:8,PID_TUNE:9,GO_TO:10,RESET_ERRORS:11},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={type:h.CONTROL,control:{type:t}};return Object.assign(n.control,e),n},v=0,g={RESULT:0,READ:1,WRITE:2},_={NONE:0,OFF:1,ON:2},b={NONE:0,OK:1,SOFT:2,HARD:3},w=(p={},o()(p,b.NONE,"None"),o()(p,b.OK,"OK"),o()(p,b.SOFT,"Soft Error"),o()(p,b.HARD,"Hard Error"),p),E=["None","Motor mode","Single layer mode","Double layer mode","Triple layer mode","Test mode","Scale mode"],C=["None","Square wave","Sine wave","Sinewave PID"],x=["None","Input","Output","Both (I/O)"],N={SEGMENT:0,CONDITIONAL:1,RESTART:2,OUTPUT:3,WAIT:4,GRID:5,GRID_WAYPOINT:6},T={LINEAR:0,INTERPOLATION:1},S={TIME:0,TEST:1},O={INPUT:0,OUTPUT:1},R={DIGITAL:0,DIRECT:1,THRESHOLD:2},P={INSIDE:0,OUTSIDE:1,ABOVE:2,BELOW:3},k={DIGITAL:0,ANALOG:1},D=function(t,e){var r=t.waypoints[e.waypointId];if(!n.i(a.exists)(r))return null;var o=l.a.FormatRotations(r.rotations);return o.type=r.type===c.a.LINEAR?T.LINEAR:T.INTERPOLATION,o.type===T.LINEAR?o.time=n.i(i.elvis)(n.i(s.existsChainedValue)(e.nextSegment,"speed"),c.b.Toolpaths.DefaultSpeed):o.interpolation_weight=n.i(i.elvis)(n.i(s.existsChainedValue)(e,"weight"),c.b.Toolpaths.DefaultWeight),o},M=function(t,e){var n=t.waypoints[e];return l.a.FormatRotations(n.rotations)},I=function(t){var e={direction:"input"===t.type?O.INPUT:O.OUTPUT},r=t.mode.split("_");if("digital"===r[0])e.channel={type:k.DIGITAL,number:r[1]},e.mode=R.DIGITAL,e.digital_value="1"===t.value;else if(e.channel={type:k.ANALOG,number:r[1]},"direct"===t.valueMode)e.mode=R.DIRECT,e.analog_value=t.value;else{e.mode=R.THRESHOLD;var o={threshold_upper:n.i(s.existsChainedValue)(t.thresholds,"upper"),threshold_lower:n.i(s.existsChainedValue)(t.thresholds,"lower")};"below"===t.value?o.type=P.BELOW:"above"===t.value?o.type=P.ABOVE:"inside"===t.value?o.type=P.INSIDE:"outside"===t.value&&(o.type=P.OUTSIDE),e.threshold_value=o}return e},q=function t(e,r){var o=[],a=!0,l=!1,u=void 0;try{for(var p,h=r[Symbol.iterator]();!(a=(p=h.next()).done);a=!0){var d=p.value;if("waypoint"===d.type)o.push({type:N.WAYPOINT,waypoint:D(e,d)});else if("restart"===d.type)o.push({type:N.RESTART});else if("output-set"===d.type){var m={},f=d.mode.split("_");"digital"===f[0]?(m.channel={type:k.DIGITAL,number:f[1]},m.digital_value="1"===d.value):(m.channel={type:k.ANALOG,number:f[1]},m.analog_value=d.value),o.push({type:N.OUTPUT,output:m})}else if("wait"===d.type){var y={};"time"===d.condition.type?(y.type=S.TIME,y.time=d.condition.duration):(y.type=S.TEST,y.test=I(d.condition)),o.push({type:N.WAIT,wait:y})}else if("if"===d.type){var v=[],g=!0,_=!1,b=void 0;try{for(var w,E=d.branches[Symbol.iterator]();!(g=(w=E.next()).done);g=!0){var C=w.value;v.push({test:I(C.condition),timeline:t(e,C.timeline)})}}catch(t){_=!0,b=t}finally{try{!g&&E.return&&E.return()}finally{if(_)throw b}}o.push({type:N.CONDITIONAL,conditional:v})}else if("grid"===d.type){var x={cols:d.cols,rows:d.rows,waypoint_0:M(e,d.w0),waypoint_x:M(e,d.wx),waypoint_y:M(e,d.wy),timeline:t(e,d.timeline)};o.push({type:N.GRID,grid:x})}else if("grid-waypoint"===d.type){var T={time:n.i(i.elvis)(n.i(s.existsChainedValue)(d.nextSegment,"speed"),c.b.Toolpaths.DefaultSpeed),z_offset:""===d.z_offset?void 0:d.z_offset};o.push({type:N.GRID_WAYPOINT,grid_waypoint:T})}}}catch(t){l=!0,u=t}finally{try{!a&&h.return&&h.return()}finally{if(l)throw u}}return o},W=function(t,e){return{name:t,speed:e.metadata.speed,objects:q(e,e.timeline)}}},1769:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1582),a=n.n(i),s=n(1581),l=n.n(s),c=n(10),u=n.n(c),p=n(1421),h=n(1415),d=n(1673),m=(n.n(d),n(1674)),f=(n.n(m),n(1735));n.d(e,"a",function(){return g});var y,v,g=(v=y=function(t){function e(){o()(this,e);var t=a()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.changeCounter=function(e){var r=e?1:-1,o=t.currentRequests;t.currentRequests+=r;var i=null;0===t.currentRequests&&o>0?i=!1:t.currentRequests>0&&0===o&&(i=!0),n.i(d.exists)(i)&&t.notify("onRequestsChange",i)},t.makeRequest=function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],s=t.requestId;return t.changeCounter(!0),{request:e.MakeRequest(r,o,i,function(e,i){n.i(d.exists)(e)||"abort"!==i&&t.notify("onError","Error while making an API call to "+o+" "+r+":\n"+i),n.i(m.callsIfExist)(a,e,i,s)},function(){setTimeout(function(){t.changeCounter(!1)},500)}),id:t.requestId++}},t.move=function(n,r,o,i){var a={axis:n,inc:r,ikres:e.FormatRotations(o)};return t.makeRequest("/api/robot/move","POST",a,i)},t.getToolPaths=function(e){return t.makeRequest("/api/toolpaths","GET",void 0,e)},t.buildToolPath=function(e,n){var r={id:e};return t.makeRequest("/api/toolpaths/build-trajectory","GET",r,n)},t.calcToolPath=function(e,n){var r={toolpath:{scene:e}};return t.makeRequest("/api/toolpaths/calc-trajectory","GET",r,n)},t.createToolPath=function(e,n,r){var o={toolpath:{name:e,scene:n}};return t.makeRequest("/api/toolpaths","POST",o,r)},t.updateToolPath=function(e,n,r,o){var i={id:e,toolpath:{name:n,scene:r}};return t.makeRequest("/api/toolpaths","PUT",i,o)},t.deleteToolPath=function(e,n){var r={id:e};return t.makeRequest("/api/toolpaths","DELETE",r,n)},t.shareToolPath=function(e,n,r){var o={toolpath:{name:e,scene:n},to_user:r};return t.makeRequest("/api/toolpaths/share","POST",o)},t.requestId=0,t.currentRequests=0,t}return l()(e,t),e}(p.a),y.MakeRequest=function(t,e,r,o,i){return u.a.ajax({type:e,url:t,data:r,dataType:"json"}).fail(function(t,e,r){n.i(m.callsIfExist)(o,null,r)}).done(function(t){n.i(m.callsIfExist)(o,t)}).always(i)},y.ApiReplacer=function(t,e){return"trajectory"===t?"[REDACTED]":e},y.FormatRotations=function(t){var e={};return n.i(f.a)(t).forEach(function(t,n){e["a"+n]=t}),e},y.ParseRotations=function(t,e){var r=[],o=!0,i=!1,a=void 0;try{for(var s,l=n.i(h.a)(0,e-1)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r.push(t["a"+c])}}catch(t){i=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return n.i(f.b)(r)},v)},1770:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(1421);n.d(e,"a",function(){return h});var h=function(t){function e(t){o()(this,e);var n=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.forward=function(t){t.observe(n._forwarder)},n.stop=function(t){t.forget(n._forwarder)},n.request=function(t){t.received(n._data)},n._data=t,n._forwarder=n._getForwarder(),n}return u()(e,t),a()(e,[{key:"_getForwarder",value:function(){var t=this;return{every:function(e,n){t.notify(e,n)}}}}]),e}(p.a)},1771:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1582),a=n.n(i),s=n(1581),l=n.n(s),c=n(1421),u=n(1676);n.n(u);n.d(e,"a",function(){return p});var p=function(t){function e(t){o()(this,e);var r=a()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.received=function(t,e){r.notify("every",t,e)},r.destroy=function(){r.channel.unsubscribe()},r.send=function(t){r.channel.perform("message",t)},r.channel=t.subscriptions.create({channel:"RobotChannel"},{connected:function(){r.received("connected",!0)},disconnected:function(){r.received("connected",!1)},rejected:function(){r.received("connected",!1)},received:function(t){r.received(n.i(u.elvis)(t._action,"received"),t)}}),r}return l()(e,t),e}(c.a)},1772:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1582),a=n.n(i),s=n(1581),l=n.n(s),c=n(1421),u=n(1414),p=n(1673),h=(n.n(p),n(1677));n.n(h);n.d(e,"a",function(){return d});var d=function(t){function e(t,r,i){o()(this,e);var s=a()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return s._getObserver=function(){return{new_toolpath:function(t){var e=t.id,n=t.name;s._toolpaths.push({id:e,name:n}),s.notify("listChanged",s._toolpaths)},updated_toolpath:function(t){var e=t.id,n=t.name,r=s.lookup(e);-1!==r.index&&(r.toolpath.name=n,s.notify("listChanged",s._toolpaths))},deleted_toolpath:function(t){var e=t.id,n=s.lookup(e);-1!==n.index&&(s._toolpaths.splice(n.index,1),s.notify("listChanged",s._toolpaths))},shared_toolpath:function(t){var e=t.id,n=t.name,r=t.sharer;s._toolpaths.push({id:e,name:n}),s.notify("listChanged",s._toolpaths),u.a.Emit("notifications::new","info",r+" shared a new toolpath ("+n+") with you","Toolpaths")}}},s.get=function(){return s._toolpaths},s.lookup=function(t){var e=0,n=!0,r=!1,o=void 0;try{for(var i,a=s._toolpaths[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.id===t)return{index:e,toolpath:l};e+=1}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return{index:-1,toolpath:null}},s.build=function(t,e){s._api.buildToolPath(t,function(t){var r=n.i(h.existsChained)(t,"toolpath","scene");e(r,t,r?JSON.parse(t.toolpath.scene):null)})},s.delete=function(t){s._api.deleteToolPath(t,function(e){if(n.i(p.exists)(e)){var r=s.lookup(t);-1!==r.index&&(s._toolpaths.splice(r.index,1),s.notify("deleted",t,r.index))}})},s._api=t,s._toolpaths=i.slice(0),s._channel=r,s._observer=s._getObserver(),s._channel.observe(s._observer),s}return l()(e,t),e}(c.a)},1773:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1673),y=(n.n(f),n(1678)),v=(n.n(y),n(1769)),g=n(1772),_=n(1564),b=n(1563),w=n(1768);n.d(e,"a",function(){return x});var E,C,x=(C=E=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));r.upload=function(){r.validateUpload()&&r.manager.build(r.state.toolpath,function(t,e,o){t&&r.props.send(n.i(w.c)(w.d.UPLOAD,{timeline:n.i(w.b)(e.toolpath.name,o)}))})},r.play=function(){r.validatePlay()&&r.props.send(n.i(w.c)(w.d.PLAY,{number_of_loops:r.state.loop}))},r.resume=function(){r.props.send(n.i(w.c)(w.d.PLAY))},r.goHome=function(){r.props.send(n.i(w.c)(w.d.HOME))},r.pause=function(){r.props.send(n.i(w.c)(w.d.PAUSE))},r.stop=function(){r.props.send(n.i(w.c)(w.d.STOP))},r.reset=function(){r.props.send(n.i(w.c)(w.d.RESET_ERRORS))},r.onLoopChange=function(t){r.setState({loop:t.target.value},r.validatePlay)},r.validatePlay=function(){var t=Object.assign({},r.state.errors,{loop:null}),e=!0;return r.checkLoopValue(r.state.loop)||(t.loop="You must specify a valid repeat number",e=!1),r.setState({playValid:e,errors:t}),e},r.onToolpathChange=function(t){var e=t.target.value;r.setState({toolpath:isNaN(e)?e:parseInt(e)},r.validateUpload)},r.validateUpload=function(){var t=Object.assign({},r.state.errors,{upload:null}),e=!0;return-1!==r.state.toolpath&&-1!==r.manager.lookup(r.state.toolpath).index||(t.upload="You must specify a valid toolpath",e=!1),r.setState({uploadValid:e,errors:t}),e},r.loopId="dashboard_toolpath_loop",r.uploadId="dashboard_toolpath_upload",r.observer=r.getObserver(),r.props.producer.observe(r.observer),r.manager=new g.a(new v.a,r.props.producer,r.props.toolpaths),r.manager.observe({listChanged:function(t){r.setState({toolpaths:t.slice(0)},r.validateUpload)}});var i=n.i(y.existsChainedValue)(r.props.cache,"dashboard","loop_target");return r.state={robotState:w.a.READY,loop:i,playValid:r.checkLoopValue(i),toolpaths:r.manager.get().slice(0),toolpath:-1,uploadValid:!1,errors:{}},r}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.props.producer.request(this.observer)}},{key:"getObserver",value:function(){var t=this;return{received:function(e){var r=e.dashboard;if(n.i(f.exists)(r)){var o={};n.i(f.exists)(r.robotState)&&r.robotState!==w.a.NONE&&(o.robotState=r.robotState),t.setState(o)}}}}},{key:"checkLoopValue",value:function(t){return n.i(f.exists)(t)&&""!==t&&!isNaN(t)}},{key:"pauseButton",value:function(){return h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-red",onClick:this.pause},h.a.createElement("i",{className:"fa fa-fw fa-stop"})," ",h.a.createElement("span",{className:"sr-only"},"Stop")))}},{key:"render",value:function(){var t=void 0,e=void 0,n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0;return this.state.robotState===w.a.READY?(t=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-yellow",onClick:this.upload,disabled:!this.state.uploadValid},h.a.createElement("i",{className:"fa fa-fw fa-upload"})," ",h.a.createElement("span",{className:"sr-only"},"Upload"))),e=h.a.createElement("div",{className:"col-12 col-md-6 bld-lbl mt-3"},h.a.createElement(_.a,{name:this.uploadId,label:"Upload: Toolpath",error:this.state.errors.upload},h.a.createElement("select",{className:"form-control",value:this.state.toolpath,onChange:this.onToolpathChange},h.a.createElement("option",{value:-1},"Select a toolpath"),this.state.toolpaths.map(function(t,e){return h.a.createElement("option",{key:e,value:t.id},t.name)}),";"))),n=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-green",onClick:this.play,disabled:!this.state.playValid},h.a.createElement("i",{className:"fa fa-fw fa-play"})," ",h.a.createElement("span",{className:"sr-only"},"Play"))),r=h.a.createElement("div",{className:"col-12 col-md-6 bld-lbl mt-3"},h.a.createElement(_.a,{name:this.loopId,label:"Play: Loop number",error:this.state.errors.loop},h.a.createElement("input",{type:"text",className:"form-control",id:this.loopId,placeholder:"0 is infinite",onChange:this.onLoopChange,value:this.state.loop}))),o=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-blue",onClick:this.goHome},h.a.createElement("i",{className:"fa fa-fw fa-home"})," ",h.a.createElement("span",{className:"sr-only"},"Home")))):this.state.robotState===w.a.ERROR?i=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-red",onClick:this.reset},h.a.createElement("i",{className:"fa fa-fw fa-undo"})," ",h.a.createElement("span",{className:"sr-only"},"Reset"))):this.state.robotState===w.a.RUNNING?(a=this.pauseButton(),s=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-red",onClick:this.stop},h.a.createElement("i",{className:"fa fa-fw fa-step-forward"})," ",h.a.createElement("span",{className:"sr-only"},"Finish and stop")))):this.state.robotState===w.a.PAUSED?(n=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-green",onClick:this.resume},h.a.createElement("i",{className:"fa fa-fw fa-play"})," ",h.a.createElement("span",{className:"sr-only"},"Resume"))),s=h.a.createElement("div",{className:"col-6 col-md-3 my-3 text-center"},h.a.createElement("button",{type:"button",className:"big-button clr-red",onClick:this.stop},h.a.createElement("i",{className:"fa fa-fw fa-times"})," ",h.a.createElement("span",{className:"sr-only"},"Cancel current")))):this.state.robotState===w.a.STOPPING&&(a=this.pauseButton()),h.a.createElement(b.a,{label:"Controls",color:"blue",icon:"sliders"},t,n,o,a,s,i,e,r)}}]),e}(p.PureComponent),E.propTypes={cache:m.a.object.isRequired,producer:m.a.object.isRequired,send:m.a.func.isRequired,toolpaths:m.a.array.isRequired},C)},1774:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1563),y=n(1768),v=n(1673);n.n(v);n.d(e,"a",function(){return b});var g,_,b=(_=g=function(t){function e(t){o()(this,e);var n=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.observer=n.getObserver(),n.props.producer.observe(n.observer),n.state={loop:0,max_loop:0,estop:!1,state:"N/A",status:"No status yet"},n}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.props.producer.request(this.observer)}},{key:"getObserver",value:function(){var t=this;return{received:function(e){if(n.i(v.exists)(e.dashboard)){var r={};n.i(v.exists)(e.dashboard.loop_count)&&(r.loop=e.dashboard.loop_count),n.i(v.exists)(e.dashboard.loop_target)&&(r.max_loop=e.dashboard.loop_target),n.i(v.exists)(e.dashboard.estop_active)&&(r.estop=e.dashboard.estop_active),n.i(v.exists)(e.dashboard.robotState)&&e.dashboard.robotState!==y.a.NONE&&(r.state=t.translateState(e.dashboard.robotState)),n.i(v.exists)(e.dashboard.status)&&(r.status=e.dashboard.status),t.setState(r)}}}}},{key:"translateState",value:function(t){var e=y.e[t];return n.i(v.exists)(e)||(e="Unknown"),e}},{key:"render",value:function(){return h.a.createElement(f.a,{label:"Status",color:"green",icon:"heartbeat"},h.a.createElement("div",{className:"col-6 col-sm-3"},h.a.createElement("strong",{className:"d-block"},"Loop count"),h.a.createElement("p",null,this.state.loop," / ",this.state.max_loop)),h.a.createElement("div",{className:"col-6 col-sm-3"},h.a.createElement("strong",{className:"d-block"},"E-Stop"),h.a.createElement("p",null,this.state.estop?"Engaged":"Clear")),h.a.createElement("div",{className:"col-6 col-sm-3"},h.a.createElement("strong",{className:"d-block"},"State"),h.a.createElement("p",null,this.state.state)),h.a.createElement("div",{className:"col-6 col-sm-3"},h.a.createElement("strong",{className:"d-block"},"Status"),h.a.createElement("p",null,this.state.status)))}}]),e}(p.PureComponent),g.propTypes={producer:m.a.object.isRequired},_)},1775:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(38),y=n.n(f),v=n(1564),g=n(1563),_=n(1768),b=n(105),w=n.n(b),E=n(181),C=n.n(E),x=n(1673),N=(n.n(x),n(1677));n.n(N);n.d(e,"a",function(){return O});var T,S,O=(S=T=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.onEnabled=function(t){return r.setState({enabled:t.target.checked},r.refreshAttributes)},r.onRangeStart=function(t){return r.setState({range_start:r.getMomentValue(t)},r.validate)},r.onRangeEnd=function(t){return r.setState({range_end:r.getMomentValue(t)},r.validate)},r.refreshAttributes=function(){var t=Object.assign({},r.state.range_start_attributes,{disabled:!r.state.enabled}),e=Object.assign({},r.state.range_end_attributes,{disabled:!r.state.enabled});r.setState({range_start_attributes:t,range_end_attributes:e},r.validate)},r.validate=function(){var t={},e=!0;return r.state.enabled&&(y()(r.state.range_start,r.timeFormat).isValid()||(e=!1,t.range_start="You must specify a valid start time"),y()(r.state.range_end,r.timeFormat).isValid()||(e=!1,t.range_end=" You must specify a valid end time"),e&&y()(r.state.range_start,r.timeFormat).isSameOrAfter(y()(r.state.range_end,r.timeFormat))&&(e=!1,t.range_end="You must specify a end time after the start time")),r.setState({valid:e,errors:t}),e},r.send=function(){if(r.validate()){var t={enabled:r.state.enabled};r.state.enabled&&(t.start_time=y()(r.state.range_start,r.timeFormat).unix(),t.stop_time=y()(r.state.range_end,r.timeFormat).unix()),r.props.send(n.i(_.c)(_.d.SCHEDULER,{scheduler:t}))}},r.observer=r.getObserver(),r.props.producer.observe(r.observer),r.enabledId="dashboard_toolpath_enabled",r.rangeStartId="dashboard_toolpath_range_start",r.rangeEndId="dashboard_toolpath_range_end",r.timeFormat="HH:mm:ss",r.state={enabled:!1,range_start:null,range_end:null,range_start_attributes:{placeholder:"Start time (e.g. 09:00:00)",id:r.rangeStartId,disabled:!0},range_end_attributes:{placeholder:"End time (e.g. 17:00:00)",id:r.rangeEndId,disabled:!0},valid:!0,errors:{}},r}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.props.producer.request(this.observer)}},{key:"getObserver",value:function(){var t=this;return{received:function(e){if(n.i(N.existsChained)(e.control,"scheduler")){var r=e.control.scheduler,o={};n.i(x.exists)(r.enabled)&&(o.enabled=r.enabled),n.i(x.exists)(r.start_time)&&(o.range_start=t.importTime(r.start_time)),n.i(x.exists)(r.stop_time)&&(o.range_end=t.importTime(r.stop_time)),t.setState(o,t.refreshAttributes)}}}}},{key:"importTime",value:function(t){return n.i(x.exists)(t)?this.getMomentValue(y.a.unix(t)):null}},{key:"getMomentValue",value:function(t){return y.a.isMoment(t)?t.format(this.timeFormat):null}},{key:"render",value:function(){return h.a.createElement(g.a,{label:"Scheduler",color:"yellow",icon:"calendar"},h.a.createElement("div",{className:"col-12 col-sm-6 bld-lbl"},h.a.createElement(v.a,{name:this.enabledId,label:"Enable scheduler"},h.a.createElement("div",null,h.a.createElement(w.a,{id:this.enabledId,checked:this.state.enabled,onChange:this.onEnabled})))),h.a.createElement("div",{className:"col-12 col-sm-6 bld-lbl"},h.a.createElement(v.a,{name:this.rangeStartId,label:"Start time",error:this.state.errors.range_start},h.a.createElement(C.a,{dateFormat:!1,timeFormat:this.timeFormat,inputProps:this.state.range_start_attributes,value:this.state.range_start,onChange:this.onRangeStart}))),h.a.createElement("div",{className:"col-12 col-sm-6 flex-sm-last bld-lbl"},h.a.createElement(v.a,{name:this.rangeEndId,label:"End time",error:this.state.errors.range_end},h.a.createElement(C.a,{className:this.timeFieldInputClasses,dateFormat:!1,timeFormat:this.timeFormat,inputProps:this.state.range_end_attributes,value:this.state.range_end,onChange:this.onRangeEnd}))),h.a.createElement("div",{className:"col-12 col-sm-6 mt-4"},h.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.send,disabled:!this.state.valid},h.a.createElement("i",{className:"fa fa-paper-plane"})," Send")))}}]),e}(p.PureComponent),T.propTypes={producer:m.a.object.isRequired,send:m.a.func.isRequired},S)},1776:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1770),y=n(1414),v=n(70),g=n.n(v),_=n(1771),b=n(1774),w=n(1773),E=n(1775),C=n(1676);n.n(C);n.d(e,"a",function(){return T});var x,N,T=(N=x=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.channelSend=function(t){r.channel.send(t)},r.producer=new f.a(n.i(C.elvis)(r.props.cache,{})),"undefined"!=typeof document&&(r.cable=g.a.createConsumer(),r.channel=new _.a(r.cable),r.producer.forward(r.channel)),r}return u()(e,t),a()(e,[{key:"componentWillUnmount",value:function(){this.producer.stop(this.channel),this.channel.destroy(),this.cable.disconnect(),y.a.Clear()}},{key:"render",value:function(){return h.a.createElement("div",{className:"dashboard-simple"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col"},h.a.createElement(b.a,{producer:this.producer})),h.a.createElement("div",{className:"w-100"}),h.a.createElement("div",{className:"col-12 col-md-6 mt-3"},h.a.createElement(w.a,{cache:this.props.cache,producer:this.producer,send:this.channelSend,toolpaths:this.props.toolpaths})),h.a.createElement("div",{className:"col-12 mb-sm-3 col-md-6 mt-3 mb-0"},h.a.createElement(E.a,{producer:this.producer,send:this.channelSend}))))}}]),e}(p.PureComponent),x.propTypes={cache:m.a.object.isRequired,toolpaths:m.a.arrayOf(m.a.shape({id:m.a.number.isRequired,name:m.a.string.isRequired}).isRequired).isRequired},N)},1777:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1582),a=n.n(i),s=n(1581),l=n.n(s),c=n(1421);n.d(e,"a",function(){return u});var u=function(t){function e(t,n){o()(this,e);var r=a()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r._getObserver=function(){return{new_user:function(t){var e=t.id,n=t.name;r._users.push({id:e,name:n}),r.notify("listChanged",r._users)},updated_user:function(t){var e=t.id,n=t.name,o=r.lookup(e);-1!==o.index&&(o.user.name=n,r.notify("listChanged",r._users))},deleted_user:function(t){var e=t.id,n=r.lookup(e);-1!==n.index&&(r._users.splice(n.index,1),r.notify("listChanged",r._users))}}},r.get=function(){return r._users},r.lookup=function(t){var e=0,n=!0,o=!1,i=void 0;try{for(var a,s=r._users[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.id===t)return{index:e,user:l};e+=1}}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return{index:-1,user:null}},r._users=n.slice(0),r._channel=t,r._observer=r._getObserver(),r._channel.observe(r._observer),r}return l()(e,t),e}(c.a)},1778:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(10),y=n.n(f),v=n(1565),g=n(1564),_=n(1415);n.d(e,"a",function(){return E});var b,w,E=(w=b=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.onShown=function(){y()(r.refs.field).focus()},r.onUserChange=function(t){var e=t.target.value;r.setState({user:isNaN(e)?e:parseInt(e)},r.validate)},r.validate=function(){var t=!0,e=null;return-1!==r.state.user&&-1!==r.props.userManager.lookup(r.state.user).index||(e="You must select a valid user",t=!1),r.setState({error:e}),t},r.onDone=function(){r.validate()&&(r.props.onDone(r.state.user),r.closeModal())},n.i(_.e)(r),r.id="share_toolpath_user",r.state={user:-1,users:r.props.userManager.get().slice(0),error:null},r.observer=r.getObserver(),r.props.userManager.observe(r.observer),r}return u()(e,t),a()(e,[{key:"getObserver",value:function(){var t=this;return{listChanged:function(e){t.setState({users:e.slice(0)},t.validate)}}}},{key:"componentWillUnmount",value:function(){this.props.userManager.forget(this.observer)}},{key:"render",value:function(){return h.a.createElement(v.a,{title:"Share Toolpath",buttonText:"Share",buttonColor:"success",buttonIcon:"share",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},h.a.createElement("p",null,"The current toolpath will be shared as-is, even with its unsaved modifications."),h.a.createElement("p",null,h.a.createElement("strong",null,"This action cannot be undone.")),h.a.createElement(g.a,{name:this.id,label:"Share with",error:this.state.error},h.a.createElement("select",{className:"form-control",value:this.state.user,onChange:this.onUserChange},h.a.createElement("option",{value:-1},"Select an user"),this.state.users.map(function(t,e){return h.a.createElement("option",{key:e,value:t.id},t.name)}),";")))}}]),e}(p.PureComponent),b.propTypes={userManager:m.a.object.isRequired,onDone:m.a.func.isRequired},w)},1779:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1427);n.d(e,"a",function(){return g});var y,v,g=(v=y=function(t){function e(){var t,n,r,i;o()(this,e);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.handler=function(t){r.props.enabled&&r.props.onAction(t)},i=n,l()(r,i)}return u()(e,t),a()(e,[{key:"render",value:function(){return h.a.createElement("g",{className:"wheel-action "+(this.props.enabled?"":"disabled"),onClick:this.handler},h.a.createElement("circle",{fill:"#444444",stroke:"#000000",strokeWidth:.4,r:.8*this.props.fontSize,cx:this.props.x,cy:this.props.y}),h.a.createElement(f.a,{font:"FontAwesome",size:this.props.fontSize,color:"#efefef",halign:"middle",x:this.props.x,valign:"middle",y:this.props.y},this.props.iconCode))}}]),e}(p.PureComponent),y.propTypes={x:m.a.number.isRequired,y:m.a.number.isRequired,enabled:m.a.bool,fontSize:m.a.number.isRequired,onAction:m.a.func.isRequired,iconCode:m.a.string.isRequired},y.defaultProps={enabled:!0},v)},1780:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=(n.n(p),n(1689)),d=n.n(h);n.d(e,"a",function(){return y});var m,f,y=(f=m=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"render",value:function(){return this.props.generator([],{addClose:!1})}}]),e}(p.PureComponent),m.propTypes={generator:d.a.func.isRequired},f)},1781:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(10),y=n.n(f),v=n(1415),g=n(1414),_=n(1440),b=n(1527),w=n(1673),E=(n.n(w),n(1676));n.n(E);n.d(e,"a",function(){return N});var C,x,N=(x=C=function(t){function e(){var t,r,i,a;o()(this,e);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=i=l()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.chooseElement=function(t){var e=y()(t.target).closest(".wheel-choice").data("choice"),r=g.a.Request("viewer::scene").camera;r.selectElements(!1),r.enterMode(n.i(w.exists)(e)?i.props.choices[e]:i.props.chosen)},a=r,l()(i,a)}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.generateChoices()}},{key:"generateChoices",value:function(){var t=this;this.center=this.generateElement(this.props.chosen,{x:50,y:50}),this.choices=[];var e=!0,r=!1,o=void 0;try{for(var i,a=n.i(v.a)(0,this.props.choices.length-1)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0)!function(){var e=i.value;t.choices.push(function(n,r){return t.generateElement(t.props.choices[e],r(35),e)})}()}catch(t){r=!0,o=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"generateElement",value:function(t,e,r){var o=null;if(n.i(w.exists)(t.userData.waypoint)){var i=t.userData.waypoint;o=h.a.createElement(_.a,{width:15,height:15,x:e.x,y:e.y,htmlMode:!0,waypointType:i.type,color:i.color,onClick:this.chooseElement})}else o=n.i(w.exists)(t.userData.grid)?h.a.createElement(b.b,{type:"grid-waypoint",width:15,height:15,x:e.x,y:e.y,htmlMode:!0,parent:t.userData.grid,onClick:this.chooseElement,enabled:!0,inBranch:!1}):this.generateGizmo(e,15);return h.a.createElement("g",{className:"wheel-choice",key:n.i(E.elvis)(r,"chosen-item"),"data-choice":r},o)}},{key:"generateGizmo",value:function(t,e){for(var n=v.b.PI/16,r=2*v.b.PI/3,o=[],i=[],a=[0,1,2],s=0;s<a.length;s++){var l=a[s],c=v.b.HALF_PI+r*l;o.push(this.props.invertedPolar(c,45,52));var u=this.props.invertedPolar(c,50,52),p=this.props.invertedPolar(c-n,35,52),d=this.props.invertedPolar(c+n,35,52);i.push(u.x+","+u.y+" "+p.x+","+p.y+" "+d.x+","+d.y)}return h.a.createElement("svg",{onClick:this.chooseElement,viewBox:"0 0 100 100",x:t.x-e/2,y:t.y-e/2,width:e,height:e},h.a.createElement("circle",{cx:52,cy:52,r:46,fill:"#888",stroke:"#000",strokeWidth:4}),h.a.createElement("line",{x1:52,y1:52,x2:o[0].x,y2:o[0].y,stroke:"#0f0",strokeWidth:5}),h.a.createElement("line",{x1:52,y1:52,x2:o[1].x,y2:o[1].y,stroke:"#f00",strokeWidth:5}),h.a.createElement("line",{x1:52,y1:52,x2:o[2].x,y2:o[2].y,stroke:"#00f",strokeWidth:5}),h.a.createElement("polygon",{fill:"#0f0",points:i[0]}),h.a.createElement("polygon",{fill:"#f00",points:i[1]}),h.a.createElement("polygon",{fill:"#00f",points:i[2]}),h.a.createElement("circle",{cx:52,cy:52,r:10,fill:"#ff0"}))}},{key:"render",value:function(){return this.props.generator(this.choices,{more:this.center,fullCircle:!0})}}]),e}(p.PureComponent),C.propTypes={generator:m.a.func.isRequired,chosen:m.a.object.isRequired,choices:m.a.arrayOf(m.a.object.isRequired).isRequired,invertedPolar:m.a.func.isRequired},x)},1782:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=(n.n(p),n(1689)),d=n.n(h),m=n(1562);n.d(e,"a",function(){return v});var f,y,v=(y=f=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.actions=[{text:"Add Linear Waypoint",icon:"plus-square",icon_code:"",action:this.props.addWaypoint.bind(null,m.a.LINEAR)},{text:"Add Interpolation Waypoint",icon:"plus-circle",icon_code:"",action:this.props.addWaypoint.bind(null,m.a.INTERPOLATION)}]}},{key:"render",value:function(){return this.props.generator(this.actions)}}]),e}(p.PureComponent),f.propTypes={generator:d.a.func.isRequired,addWaypoint:d.a.func.isRequired},y)},1783:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=(n.n(p),n(1689)),d=n.n(h),m=n(1414);n.d(e,"a",function(){return v});var f,y,v=(y=f=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.actions=[{text:"X-",icon:"long-arrow-left",icon_code:"",action:this.doJog.bind(null,"x",!1)},{text:"X+",icon:"long-arrow-right",icon_code:"",action:this.doJog.bind(null,"x",!0)},{text:"Y-",icon:"chevron-left",icon_code:"",action:this.doJog.bind(null,"y",!1)},{text:"Y+",icon:"chevron-right",icon_code:"",action:this.doJog.bind(null,"y",!0)},{text:"Z-",icon:"chevron-up",icon_code:"",action:this.doJog.bind(null,"z",!1)},{text:"Z+",icon:"chevron-down",icon_code:"",action:this.doJog.bind(null,"z",!0)}]}},{key:"doJog",value:function(t,e){m.a.Emit("viewer::rt::jogging",t,e)}},{key:"render",value:function(){return this.props.generator(this.actions,{addClose:!1})}}]),e}(p.PureComponent),f.propTypes={generator:d.a.func.isRequired},y)},1784:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1414),y=n(1562),v=n(1440),g=n(1506),_=n(1500),b=n(1769),w=n(1768);n.d(e,"a",function(){return x});var E,C,x=(C=E=function(t){function e(){var t,r,i,a;o()(this,e);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=i=l()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.waypointSwitchType=function(){var t=i.props.waypoint.type===y.a.LINEAR?y.a.INTERPOLATION:y.a.LINEAR;i.waypoints.updateWaypointType(i.props.waypoint.id,t)},i.waypointGoto=function(){i.robot.gotoWaypoint(i.waypoints.lookupWaypoint(i.props.waypoint.id).record)},i.waypointGotoOnline=function(){i.props.channelSend(n.i(w.c)(w.d.GO_TO,{waypoint:b.a.FormatRotations(i.props.waypoint.rotations)}))},i.waypointColor=function(){var t=i.props.waypoint.color,e=function(t){i.waypoints.updateWaypointColor(i.props.waypoint.id,t)};f.a.Emit("modal::change",function(){return h.a.createElement(g.a,{color:t,onDone:e})})},i.waypointDelete=function(){var t=function(){i.waypoints.deleteWaypoint(i.props.waypoint.id)};f.a.Emit("modal::change",function(){return h.a.createElement(_.a,{onDone:t})})},a=r,l()(i,a)}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){var t=f.a.Request("viewer::scene");this.robot=t.robot,this.waypoints=t.waypoints}},{key:"getActions",value:function(){var t=[{text:"Switch Type",icon:"exchange",icon_code:"",action:this.waypointSwitchType},{text:"Change Color",icon:"eyedropper",icon_code:"",action:this.waypointColor},{text:"Go to",icon:"arrow-circle-right",icon_code:"",action:this.waypointGoto},{text:"Delete",icon:"trash",icon_code:"",action:this.waypointDelete}];return this.props.onlineMode&&t.push({text:"Go to (online)",icon:"long-arrow-right",icon_code:"",action:this.waypointGotoOnline}),t}},{key:"render",value:function(){return this.props.generator(this.getActions(),{center:h.a.createElement("g",{className:"wheel-waypoint",key:"center-waypoint"},h.a.createElement(v.b,{width:20,height:20,x:50,y:80,htmlMode:!0,waypointId:this.props.waypoint.id,waypointType:this.props.waypoint.type,color:this.props.waypoint.color}))})}}]),e}(p.PureComponent),E.propTypes={generator:m.a.func.isRequired,waypoint:m.a.object.isRequired,onlineMode:m.a.bool.isRequired,channelSend:m.a.func.isRequired},C)},1785:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1434),g=n(1433);n.d(e,"a",function(){return w});var _,b,w=(b=_=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"componentWillMount",value:function(){this.sprops={category:this.props.category+"."+this.props.name,producer:this.props.producer,send:this.props.send,editable:"output"===this.props.name}}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h4",null,m.a.createElement("i",{className:"fa fa-"+this.props.icon})," ",this.props.label),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3"},m.a.createElement(v.a,o()({label:"Digital 1",name:"d0"},this.sprops,{yes:!0,no:!1}))),m.a.createElement("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3"},m.a.createElement(v.a,o()({label:"Digital 2",name:"d1"},this.sprops,{yes:!0,no:!1}))),m.a.createElement("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3"},m.a.createElement(v.a,o()({label:"Digital 3",name:"d2"},this.sprops,{yes:!0,no:!1}))),m.a.createElement("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3"},m.a.createElement(v.a,o()({label:"Digital 4",name:"d3"},this.sprops,{yes:!0,no:!1}))),m.a.createElement("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3"},m.a.createElement(g.a,o()({label:"Analog 1",name:"a0"},this.sprops,{min:0,max:1,step:.01}))),m.a.createElement("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3"},m.a.createElement(g.a,o()({label:"Analog 2",name:"a1"},this.sprops,{min:0,max:1,step:.01})))))}}]),e}(d.PureComponent),_.propTypes={producer:y.a.object.isRequired,send:y.a.func.isRequired,category:y.a.string.isRequired,name:y.a.string.isRequired,label:y.a.string.isRequired,icon:y.a.string.isRequired},b)},1786:function(t,e,n){"use strict";var r=n(1577),o=n.n(r),i=n(1576),a=n.n(i),s=n(1580),l=n.n(s),c=n(1582),u=n.n(c),p=n(1581),h=n.n(p),d=n(0),m=n.n(d),f=n(1689),y=n.n(f),v=n(1563),g=n(1785);n.d(e,"a",function(){return w});var _,b,w=(b=_=function(t){function e(){return a()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h()(e,t),l()(e,[{key:"componentWillMount",value:function(){this.sprops={category:this.props.category+".io_state",producer:this.props.producer,send:this.props.send}}},{key:"render",value:function(){return m.a.createElement(v.a,{label:"IO State",color:"green",icon:"area-chart"},m.a.createElement("div",{className:"col-12 col-sm-6"},m.a.createElement(g.a,o()({label:"Input",name:"input",icon:"sign-in"},this.sprops))),m.a.createElement("div",{className:"col-12 mt-2 col-sm-6 mt-sm-0"},m.a.createElement(g.a,o()({label:"Output",name:"output",icon:"sign-out"},this.sprops))))}}]),e}(d.PureComponent),_.propTypes={producer:y.a.object.isRequired,send:y.a.func.isRequired,category:y.a.string.isRequired},b)},1787:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(1689),a=(n.n(i),n(1425)),s=function(t,e){return function(){return t.apply(e,arguments)}},l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;e.a=function(t){function e(t){this.render=s(this.render,this),e.__super__.constructor.call(this,t),a.a.Extend.call(this)}return l(e,t),e.propTypes=a.a.MakePropTypes(),e.defaultProps=a.a.MakePropDefaults({editable:!1}),e.prototype.render=function(){var t,e,n,r;return r="N/A",t=this.getValue(),null!=t&&(t?(n="Error",e="ko"):(n="OK",e="ok"),r=o.a.createElement("span",null,o.a.createElement("span",{className:"led state-"+e},o.a.createElement("i",{className:"fa fa-circle"}))," ",n)),this.RenderInput(r)},e}(r.PureComponent)},1788:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(10),y=n.n(f),v=n(1565),g=n(1415),_=n(1564),b=n(1673);n.n(b);n.d(e,"a",function(){return C});var w,E,C=(E=w=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.onShown=function(){y()("#"+r.ids.speed).focus()},r.onDone=function(){r.validate()&&(r.props.onValueChanged(r.state.speed,r.state.z_offset),r.closeModal())},r.onSpeedChange=function(t){var e=t.target.value;r.setState({speed:""===e||isNaN(e)?e:parseFloat(e)},r.validate)},r.onZOffsetChange=function(t){var e=t.target.value;r.setState({z_offset:""===e||isNaN(e)?e:parseFloat(e)},r.validate)},r.validate=function(){var t={},e=!0;return(isNaN(r.state.speed)||""===r.state.speed)&&(t.speed="You must provide a segment speed",e=!1),n.i(b.exists)(r.state.z_offset)&&""!==r.state.z_offset&&isNaN(r.state.z_offset)&&(t.z_offset="You must provide a valid Z offset (or none)",e=!1),r.setState({errors:t}),e},n.i(g.e)(r),r.ids={speed:"edit_waypoint_speed",z_offset:"edit_waypoint_z_offset"},r.state={speed:r.props.speed,z_offset:r.props.z_offset,errors:{}},r}return u()(e,t),a()(e,[{key:"render",value:function(){return h.a.createElement(v.a,{title:"Grid Waypoint properties",buttonText:"Save",buttonColor:"success",buttonIcon:"pencil",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},h.a.createElement("form",{onSubmit:this.onSubmit},h.a.createElement(_.a,{name:this.ids.speed,label:"Next Segment Speed",error:this.state.errors.speed},h.a.createElement("input",{type:"text",className:"form-control",id:this.ids.speed,placeholder:"Speed (s)",required:"true",value:this.state.speed,onChange:this.onSpeedChange})),h.a.createElement(_.a,{name:this.ids.z_offset,label:"Z Offset",error:this.state.errors.z_offset},h.a.createElement("input",{type:"text",className:"form-control",id:this.ids.z_offset,placeholder:"e.g. 10 (in mm) or nothing",value:this.state.z_offset,onChange:this.onZOffsetChange}))))}}]),e}(p.PureComponent),w.propTypes={type:m.a.number.isRequired,speed:m.a.number,z_offset:m.a.any,onValueChanged:m.a.func.isRequired},E)},1789:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(10),y=n.n(f),v=n(1565),g=n(1415),_=n(1564);n.d(e,"a",function(){return E});var b,w,E=(w=b=function(t){function e(t){o()(this,e);var r=l()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.onShown=function(){y()("#"+r.ids.cols).focus()},r.onDone=function(){r.validate()&&(r.props.onDone(r.state.cols,r.state.rows),r.closeModal())},r.validate=function(){var t={cols:null,rows:null},e=!0;return(isNaN(r.state.cols)||""===r.state.cols)&&(t.cols="Invalid value for columns",e=!1),(isNaN(r.state.rows)||""===r.state.rows)&&(t.rows="Invalid value for rows",e=!1),r.setState({errors:t}),e},r.onColsChange=function(t){var e=t.target.value;r.setState({cols:""===e||isNaN(e)?e:parseInt(e)},r.validate)},r.onRowsChange=function(t){var e=t.target.value;r.setState({rows:""===e||isNaN(e)?e:parseInt(e)},r.validate)},n.i(g.e)(r),r.ids={cols:"cols-input",rows:"rows-input"},r.state={cols:t.cols,rows:t.rows,errors:{}},r}return u()(e,t),a()(e,[{key:"render",value:function(){return h.a.createElement(v.a,{title:"Grid",buttonText:"Save",buttonColor:"success",buttonIcon:"pencil",onDone:this.onDone,onShown:this.onShown,onClose:this.onClose},h.a.createElement("form",{onSubmit:this.onSubmit},h.a.createElement(_.a,{name:this.ids.cols,label:"Columns",error:this.state.errors.cols},h.a.createElement("input",{type:"text",className:"form-control",id:this.ids.cols,required:!0,value:this.state.cols,onChange:this.onColsChange,placeholder:"e.g. 10"})),h.a.createElement(_.a,{name:this.ids.rows,label:"Rows",error:this.state.errors.rows},h.a.createElement("input",{type:"text",className:"form-control",id:this.ids.rows,required:!0,value:this.state.rows,onChange:this.onRowsChange,placeholder:"e.g. 10"}))))}}]),e}(p.PureComponent),b.propTypes={cols:m.a.number,rows:m.a.number,onDone:m.a.func.isRequired},w)},1790:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1151),l=n(1155),c=n(1150),u=n(1167),p=n(1157),h=n(1227),d=n(1166),m=n(1160),f=n(1303),y=n(1213),v=n(1175),g=n(1233),_=n(1673),b=(n.n(_),n(1562)),w=n(1415);n.d(e,"a",function(){return E});var E=function(){function t(e,r){var i=this;o()(this,t),this.processPosition=function(t){var e=t[1].position.clone().sub(t[0].position),n=t[2].position.clone().sub(t[0].position);return{position:t[0].position.clone().add((new c.a).addVectors(e,n).multiplyScalar(.5)),colsV:e,rowsV:n}},this.getObserver=function(){return{disableOnSelect:function(t,e){i._plane!==e&&(i._plane.material.opacity=t?.4:.7)}}},this.getAgent=function(){return{getMode:function(){return b.c.GRID},enable:function(t,e){e.material.color.setHex(t?16776960:e.userData.baseColor)},canHover:function(t,e){return!1},hover:function(t){t!==i._grid.hovered&&(i._grid._toolpath._toolpaths.notify("gridHover",t),i._grid.update(function(e){e.hovered=t},{toolpathChanged:!1}))},drag:function(t,e,n,r,o,i,a){},fini:function(t){},retrieveCloseTo:function(t){var e=t.selected,r=t.selectedPosition,o=t.searchMagnitude;if(!n.i(_.exists)(i._grid.coreValidate("test"))&&e!==i._plane){var a=i.processPosition(i.getWaypoints()),s=a.position;if((new c.a).subVectors(r,s).length()<=o)return[i._plane]}return[]}}},this._grid=e,this._group=r,this._node=new p.a,this._group.add(this._node),this._agent=this.getAgent(),this._observer=this.getObserver(),this._camera=this._grid._toolpath._toolpaths._scene.camera,this._camera.addAgent(this._agent),this._camera.observe(this._observer),this._plane=new v.a(new u.a,new g.a({transparent:!0,opacity:.7,side:s.a})),this._plane.renderOrder=.9,this._plane.userData={grid:this._grid.id,agent:this._agent},this._node.add(this._plane),this._pointsGeometry=new m.a,this._points=new f.a(this._pointsGeometry,new y.a({size:9,vertexColors:s.b})),this._node.add(this._points),this._node.visible=!1,this.update()}return a()(t,[{key:"destroy",value:function(){this._camera.forget(this._observer),this._camera.removeAgent(this._agent),this._group.remove(this._node)}},{key:"getWaypoints",value:function(){for(var t=[],e=["w0","wx","wy"],n=0;n<e.length;n++){var r=e[n];t.push(this._grid._toolpath.lookup(this._grid[r]))}return t}},{key:"isValid",value:function(){var t=this.processPosition(this.getWaypoints()),e=t.colsV,n=t.rowsV;return Math.abs(e.normalize().dot(n.normalize()))<.05}},{key:"update",value:function(){if(n.i(_.exists)(this._grid.coreValidate("test")))this._node.visible=!1;else{this._node.visible=!0;var t=this.getWaypoints(),e=this.processPosition(t),r=e.position,o=e.colsV,i=e.rowsV,a=new u.a,s=!0,p=!1,m=void 0;try{for(var f,y=t[Symbol.iterator]();!(s=(f=y.next()).done);s=!0){var v=f.value;a.vertices.push((new c.a).subVectors(v.position,r))}}catch(t){p=!0,m=t}finally{try{!s&&y.return&&y.return()}finally{if(p)throw m}}a.vertices.push((new c.a).subVectors(t[0].position.clone().add(o).add(i),r)),a.faces.push(new h.a(2,1,0)),a.faces.push(new h.a(2,3,1)),a.computeFaceNormals(),a.computeVertexNormals();this._plane.geometry=a,this._plane.material.color.setHex(this._grid.hovered?16711935:0),this._plane.position.copy(r),this._plane.userData.baseColor=0;var g=o.clone().divideScalar(this._grid.cols-1),b=i.clone().divideScalar(this._grid.rows-1),E=this._grid.cols*this._grid.rows,C=new Float32Array(3*E),x=new Float32Array(3*E),N=!0,T=!1,S=void 0;try{for(var O,R=n.i(w.a)(0,this._grid.cols-1)[Symbol.iterator]();!(N=(O=R.next()).done);N=!0){var P=O.value,k=!0,D=!1,M=void 0;try{for(var I,q=n.i(w.a)(0,this._grid.rows-1)[Symbol.iterator]();!(k=(I=q.next()).done);k=!0){var W=I.value,A=3*(P*this._grid.rows+W);t[0].position.clone().add(g.clone().multiplyScalar(P)).add(b.clone().multiplyScalar(W)).toArray(C,A),(new l.a).toArray(x,A)}}catch(t){D=!0,M=t}finally{try{!k&&q.return&&q.return()}finally{if(D)throw M}}}}catch(t){T=!0,S=t}finally{try{!N&&R.return&&R.return()}finally{if(T)throw S}}this._pointsGeometry.addAttribute("position",new d.a(C,3)),this._pointsGeometry.addAttribute("color",new d.a(x,3))}}}]),t}()},1791:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1424),y=n(1427),v=n(1430),g=n(1449),_=n(1567),b=n(1676),w=(n.n(b),n(1673)),E=(n.n(w),n(1677)),C=(n.n(E),n(1414)),x=n(1789),N=n(1450);n.d(e,"a",function(){return O});var T,S,O=(S=T=function(t){function e(){var t,r,i,a;o()(this,e);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=i=l()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.onHover=function(){i.hoverEvent(!0)},i.onUnhover=function(){i.hoverEvent(!1)},i.edit=function(t){if(t.preventDefault(),t.stopPropagation(),i.props.enabled&&n.i(w.exists)(i.props.id)){var e=i.props.cols,r=i.props.rows,o=function(t,e){i.props.tool_parent.toolpaths.current().updateElement(i.props.id,function(n){n.cols=t,n.rows=e})};C.a.Emit("modal::change",function(){return h.a.createElement(x.a,{cols:e,rows:r,onDone:o})})}},a=r,l()(i,a)}return u()(e,t),a()(e,[{key:"hoverEvent",value:function(t){this.props.tool_parent.toolpaths.current().updateElement(this.props.id,function(e){e.hovered=t},{toolpathChanged:!1})}},{key:"generate",value:function(){var t=n.i(E.existsChained)(this.props.sizes,0,"height"),e=t?this.props.sizes[0].width:f.a.GridDefaultTimeline,r=t?this.props.sizes[0].trueWidth:e,o=t?this.props.sizes[0].height:f.a.GridDefaultH,i=n.i(b.elvis)(this.props.cols,"N/A")+" cols",a=n.i(b.elvis)(this.props.rows,"N/A")+" rows",s=h.a.createElement("g",{onContextMenu:this.edit,className:"dnd-actual-node"},h.a.createElement("rect",{x:0,y:0,width:f.a.GridBlockW,height:o+f.a.GridBottom,rx:3,ry:3,fill:this.props.hovered?v.b:v.a,onMouseEnter:this.onHover,onMouseLeave:this.onUnhover}),h.a.createElement(y.a,{decoration:"bold",size:f.a.BranchConditionFont,color:"#ffffff",x:5,y:5},"Grid"),h.a.createElement(y.a,{decoration:"bold",size:f.a.BranchConditionFont,color:"#ffffff",x:40,y:5},i),h.a.createElement("g",{writingMode:"tb"},h.a.createElement(y.a,{decoration:"bold",size:f.a.BranchConditionFont,color:"#ffffff",x:10,y:20},a)));if(this.props.noDnD)return s;var l=h.a.createElement("g",null,h.a.createElement("svg",{x:25,y:22},n.i(N.a)(this.props,this.props,_.a.Types.WAYPOINT,"w0")),h.a.createElement("svg",{x:30+f.a.SmallSocketWidth,y:22},n.i(N.a)(this.props,this.props,_.a.Types.WAYPOINT,"wx")),h.a.createElement("svg",{x:25,y:27+f.a.SmallSocketHeight},n.i(N.a)(this.props,this.props,_.a.Types.WAYPOINT,"wy"))),c=(e-r)/2,u=f.a.GridBlockW+f.a.GridStartMargin,p=u+e+f.a.GridEndMargin,d=p+f.a.GridEnd,m=f.a.LinePosition,w=o+f.a.GridBottom-f.a.LineSize,C="M "+p+", "+m+" C "+d+", "+m+", "+d+", "+w+", "+p+", "+w,x=f.a.GridArrowHeight/2,T=f.a.GridBlockW+","+w+" "+(f.a.GridBlockW+f.a.GridArrowWidth)+","+(w-x)+" "+(f.a.GridBlockW+f.a.GridArrowWidth)+","+(w+x);return{main:s,more:h.a.createElement("g",null,h.a.createElement("line",{x1:f.a.GridBlockW,y1:m,x2:u,y2:m,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}),h.a.createElement("line",{x1:u,y1:m,x2:u+e,y2:m,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}),h.a.createElement("line",{x1:u+e,y1:m,x2:p,y2:m,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}),h.a.createElement("line",{x1:f.a.GridBlockW+f.a.GridArrowWidth,y1:w,x2:p,y2:w,strokeWidth:f.a.LineSize,stroke:f.a.LineColor}),h.a.createElement("path",{d:C,stroke:f.a.LineColor,strokeWidth:f.a.LineSize,fillOpacity:"0"}),l,h.a.createElement("polygon",{fill:f.a.LineColor,points:T}),h.a.createElement("svg",{x:f.a.GridBlockW+f.a.GridStartMargin+c,y:0},h.a.createElement(g.a,{enabled:this.props.enabled,id:this.props.timeline,processing:!1,noDnD:this.props.noDnD})))}}},{key:"render",value:function(){var t=this.generate(),e=t.main,n=t.more;return this.props.tool_parent.generateTool(this.props.type,"controls",e,{},n)}}]),e}(p.PureComponent),T.propTypes={tool_parent:m.a.object.isRequired,enabled:m.a.bool.isRequired,noDnD:m.a.bool.isRequired,sizes:m.a.array,id:m.a.string,type:m.a.string.isRequired,hovered:m.a.bool,w0:m.a.string,wx:m.a.string,wy:m.a.string,timeline:m.a.string,cols:m.a.number,rows:m.a.number},S)},1792:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1424),y=n(1427),v=n(1430),g=n(1673),_=(n.n(g),n(1414)),b=n(1562),w=n(1788);n.d(e,"a",function(){return x});var E,C,x=(C=E=function(t){function e(){var t,n,r,i;o()(this,e);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=l()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.onSpeedChanged=function(t,e){if(r.props.enabled){r.props.tool_parent.toolpaths.current().updateElement(r.props.id,function(n){n.speed=t,n.z_offset=e})}},r.rightClick=function(t){if(t.preventDefault(),r.props.enabled){var e=r.onSpeedChanged,n=b.a.LINEAR,o=r.props.speed,i=r.props.z_offset;_.a.Emit("modal::change",function(){return h.a.createElement(w.a,{type:n,speed:o,z_offset:i,onValueChanged:e})})}},i=n,l()(r,i)}return u()(e,t),a()(e,[{key:"componentWillMount",value:function(){this.svg_size=100,this.border_width=7,this.shape_size=this.svg_size-this.border_width,this.shape_half=this.shape_size/2,this.border_half=this.border_width/2,this.font_size=.7*this.shape_half}},{key:"render",value:function(){var t=void 0,e=void 0;return n.i(g.exists)(this.props.speed)&&(t=h.a.createElement(y.a,{className:"waypoint-label",decoration:"bold",size:this.font_size,border:"1",borderColor:"white",halign:"middle",x:this.shape_half+this.border_half,valign:"middle",y:this.shape_half},this.props.speed,"s")),n.i(g.exists)(this.props.z_offset)&&""!==this.props.z_offset&&(e=h.a.createElement(y.a,{className:"waypoint-label",decoration:"bold",size:f.a.BranchConditionFont,x:this.border_half,valign:"middle",y:this.shape_size+this.border_half-5},"Z: ",this.props.z_offset)),this.props.tool_parent.generateTool(this.props.type,"motions",h.a.createElement("g",null,h.a.createElement("rect",{className:"grid-waypoint",fill:v.a,stroke:v.a,strokeWidth:this.border_width,rx:3,ry:3,width:this.shape_size,height:this.shape_size,x:this.border_half,y:this.border_half}),h.a.createElement(y.a,{decoration:"bold",size:f.a.BranchConditionFont,color:"#ffffff",x:5,y:5},"Grid Waypoint"),t,e),{onContextMenu:this.rightClick})}}]),e}(p.PureComponent),E.propTypes={tool_parent:m.a.object.isRequired,type:m.a.string.isRequired,z_offset:m.a.any,speed:m.a.number,id:m.a.string,enabled:m.a.bool},E.defaultProps={enabled:!0},C)},1793:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1424),y=n(1427),v=n(1430);n.d(e,"a",function(){return b});var g,_,b=(_=g=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"generateRestart",value:function(t){var e=(f.a.DefaultHeight-f.a.ConditionHeight)/2,n=f.a.ConditionWidth,r=f.a.ConditionHeight;return h.a.createElement("g",null,h.a.createElement("rect",{x:0,y:e,width:n,height:r,rx:3,ry:3,fill:t}),h.a.createElement(y.a,{decoration:"bold",size:f.a.BranchConditionFont,color:"#ffffff",halign:"middle",x:n/2,valign:"middle",y:e+r/2},"Restart"))}},{key:"render",value:function(){return this.props.tool_parent.generateTool(this.props.type,"actions",this.generateRestart(v.d))}}]),e}(p.PureComponent),g.propTypes={tool_parent:m.a.object.isRequired,id:m.a.string,type:m.a.string.isRequired},_)},1794:function(t,e,n){"use strict";var r=n(1576),o=n.n(r),i=n(1580),a=n.n(i),s=n(1582),l=n.n(s),c=n(1581),u=n.n(c),p=n(0),h=n.n(p),d=n(1689),m=n.n(d),f=n(1527);n.d(e,"a",function(){return g});var y,v,g=(v=y=function(t){function e(){return o()(this,e),l()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u()(e,t),a()(e,[{key:"render",value:function(){return this.props.generator([],{center:h.a.createElement("g",{className:"wheel-grid-waypoint",key:"center-grid-waypoint"},h.a.createElement(f.b,{type:"grid-waypoint",width:20,height:20,x:50,y:80,parent:this.props.grid,htmlMode:!0,enabled:!0,inBranch:!1}))})}}]),e}(p.PureComponent),y.propTypes={generator:m.a.func.isRequired,grid:m.a.string.isRequired},v)},287:function(t,e,n){t.exports=n(1253)}},[287]);
//# sourceMappingURL=http://localhost:14546/../../../maps/js/AutomataClient-5ef2c6ead894784c7cc6.js.map